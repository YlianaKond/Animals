{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1874-23\\\\Desktop\\\\getpetback\\\\src\\\\pages\\\\search-page.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport LogoutModal from '../components/logout-modal';\nimport ApiService from '../services/api';\nimport placeholderImage from '../assets/images/placeholder.svg';\nimport date from '../assets/images/icon_calendary.png';\nimport geo from '../assets/images/icon_district.png';\nimport QuickSearch from '../components/quick-search';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const primaryButtonStyle = {\n    backgroundColor: 'rgb(91, 160, 74)',\n    borderColor: 'rgb(91, 160, 74)',\n    color: 'white'\n  };\n  const primaryButtonHoverStyle = {\n    backgroundColor: 'rgb(81, 140, 64)',\n    borderColor: 'rgb(81, 140, 64)',\n    color: 'white'\n  };\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useState({\n    district: '',\n    animalType: ''\n  });\n  const [activeTab, setActiveTab] = useState('quick'); // 'quick' или 'advanced'\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalCount, setTotalCount] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchSuggestions, setSearchSuggestions] = useState([]);\n  const [quickSearchQuery, setQuickSearchQuery] = useState(''); // Отдельное поле для быстрого поиска\n  const [advancedSearchQuery, setAdvancedSearchQuery] = useState(''); // Отдельное поле для расширенного поиска\n  const [columnsPerRow, setColumnsPerRow] = useState(4);\n  const pageSize = 8;\n  const districts = ['Адмиралтейский район', 'Василеостровский район', 'Выборгский район', 'Калининский район', 'Кировский район', 'Колпинский район', 'Красногвардейский район', 'Красносельский район', 'Кронштадтский район', 'Курортный район', 'Московский район', 'Невский район', 'Петроградский район', 'Петродворцовый район', 'Приморский район', 'Пушкинский район', 'Фрунзенский район', 'Центральный район'];\n  const updateColumnsPerRow = useCallback(() => {\n    const width = window.innerWidth;\n    if (width >= 1200) {\n      setColumnsPerRow(4);\n    } else if (width >= 992) {\n      setColumnsPerRow(3);\n    } else if (width >= 768) {\n      setColumnsPerRow(2);\n    } else {\n      setColumnsPerRow(1);\n    }\n  }, []);\n  useEffect(() => {\n    updateColumnsPerRow();\n    window.addEventListener('resize', updateColumnsPerRow);\n    return () => {\n      window.removeEventListener('resize', updateColumnsPerRow);\n    };\n  }, [updateColumnsPerRow]);\n  const getColumnWidth = () => {\n    return `${100 / columnsPerRow}%`;\n  };\n  const getQueryParams = useCallback(() => {\n    const params = new URLSearchParams(location.search);\n    return {\n      animalType: params.get('animalType') || params.get('kind') || '',\n      district: params.get('district') || '',\n      description: params.get('description') || ''\n    };\n  }, [location.search]);\n  const loadAllOrders = useCallback(async page => {\n    setLoading(true);\n    try {\n      const response = await ApiService.searchOrders({});\n      if (response && response.data && response.data.orders) {\n        const allResults = response.data.orders;\n        const startIndex = (page - 1) * pageSize;\n        const endIndex = startIndex + pageSize;\n        const paginatedResults = allResults.slice(startIndex, endIndex);\n        setResults(paginatedResults);\n        setTotalCount(allResults.length);\n        setTotalPages(Math.ceil(allResults.length / pageSize));\n      } else {\n        setResults([]);\n        setTotalCount(0);\n        setTotalPages(0);\n      }\n    } catch (error) {\n      console.error('Ошибка при загрузке объявлений:', error);\n      setResults([]);\n      setTotalCount(0);\n      setTotalPages(0);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const performSearch = useCallback(async (page, params, searchType = 'advanced') => {\n    setLoading(true);\n    setCurrentPage(page);\n    try {\n      if (!params.animalType && !params.district && !params.description) {\n        await loadAllOrders(page);\n        return;\n      }\n      let response;\n      if (searchType === 'quick' && params.description) {\n        // Для быстрого поиска ищем по описанию\n        response = await ApiService.searchOrders({});\n        if (response && response.data && response.data.orders) {\n          const allResults = response.data.orders;\n          const queryLower = params.description.toLowerCase();\n          const filteredResults = allResults.filter(order => {\n            const description = order.description || '';\n            return description.toLowerCase().includes(queryLower);\n          });\n          const startIndex = (page - 1) * pageSize;\n          const endIndex = startIndex + pageSize;\n          const paginatedResults = filteredResults.slice(startIndex, endIndex);\n          setResults(paginatedResults);\n          setTotalCount(filteredResults.length);\n          setTotalPages(Math.ceil(filteredResults.length / pageSize));\n        } else {\n          setResults([]);\n          setTotalCount(0);\n          setTotalPages(0);\n        }\n      } else {\n        // Для расширенного поиска используем стандартный запрос\n        response = await ApiService.searchOrders({\n          kind: params.animalType,\n          district: params.district\n        });\n        if (response && response.data && response.data.orders) {\n          const allResults = response.data.orders;\n          const startIndex = (page - 1) * pageSize;\n          const endIndex = startIndex + pageSize;\n          const paginatedResults = allResults.slice(startIndex, endIndex);\n          setResults(paginatedResults);\n          setTotalCount(allResults.length);\n          setTotalPages(Math.ceil(allResults.length / pageSize));\n        } else {\n          setResults([]);\n          setTotalCount(0);\n          setTotalPages(0);\n        }\n      }\n    } catch (error) {\n      console.error('Ошибка при поиске:', error);\n      setResults([]);\n      setTotalCount(0);\n      setTotalPages(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [loadAllOrders]);\n  useEffect(() => {\n    const queryParams = getQueryParams();\n    const newSearchParams = {\n      animalType: queryParams.animalType,\n      district: queryParams.district,\n      description: queryParams.description\n    };\n    setSearchParams(newSearchParams);\n    setAdvancedSearchQuery(queryParams.animalType);\n    setQuickSearchQuery(queryParams.description || '');\n    if (queryParams.animalType || queryParams.district || queryParams.description) {\n      const searchType = queryParams.description ? 'quick' : 'advanced';\n      performSearch(1, newSearchParams, searchType);\n    } else {\n      loadAllOrders(1);\n    }\n  }, [location.search, getQueryParams, performSearch, loadAllOrders]);\n  useEffect(() => {\n    // Подсказки только для быстрого поиска (по описанию)\n    if (quickSearchQuery.length > 2 && activeTab === 'quick') {\n      const timer = setTimeout(async () => {\n        try {\n          const response = await ApiService.searchOrders({});\n          if (response && response.data && response.data.orders) {\n            const allOrders = response.data.orders;\n            const queryLower = quickSearchQuery.toLowerCase();\n\n            // Ищем совпадения в описании\n            const matchedOrders = allOrders.filter(order => {\n              const description = order.description || '';\n              return description.toLowerCase().includes(queryLower);\n            }).slice(0, 10);\n            const formattedSuggestions = matchedOrders.map(order => ({\n              id: order.id,\n              kind: order.kind || '',\n              description: order.description || '',\n              district: '',\n              photo: order.photo || order.photos || null\n            })).filter(suggestion => suggestion.description.trim() !== '').slice(0, 5); // Ограничиваем 5 подсказками\n\n            setSearchSuggestions(formattedSuggestions);\n          } else {\n            setSearchSuggestions([]);\n          }\n        } catch (error) {\n          console.error('Ошибка при поиске подсказок:', error);\n          setSearchSuggestions([]);\n        }\n      }, 300);\n      return () => clearTimeout(timer);\n    } else {\n      setSearchSuggestions([]);\n    }\n  }, [quickSearchQuery, activeTab]);\n  const handleQuickSearch = e => {\n    e.preventDefault();\n    const params = new URLSearchParams();\n    if (quickSearchQuery) params.append('description', quickSearchQuery);\n    navigate(`/search?${params.toString()}`);\n    performSearch(1, {\n      description: quickSearchQuery\n    }, 'quick');\n  };\n  const handleAdvancedSearch = e => {\n    e.preventDefault();\n    const params = new URLSearchParams();\n    if (searchParams.animalType) params.append('kind', searchParams.animalType);\n    if (searchParams.district) params.append('district', searchParams.district);\n    navigate(`/search?${params.toString()}`);\n    performSearch(1, searchParams, 'advanced');\n  };\n  const handleReset = () => {\n    setSearchParams({\n      district: '',\n      animalType: ''\n    });\n    setQuickSearchQuery('');\n    setAdvancedSearchQuery('');\n    setCurrentPage(1);\n    navigate('/search');\n    loadAllOrders(1);\n  };\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    const queryParams = getQueryParams();\n    const searchType = queryParams.description ? 'quick' : 'advanced';\n    if (queryParams.description || queryParams.animalType || queryParams.district) {\n      performSearch(page, {\n        animalType: queryParams.animalType,\n        district: queryParams.district,\n        description: queryParams.description\n      }, searchType);\n    } else {\n      loadAllOrders(page);\n    }\n  };\n  const handleQuickSearchInputChange = value => {\n    setQuickSearchQuery(value);\n  };\n  const handleAdvancedSearchInputChange = e => {\n    const value = e.target.value;\n    setAdvancedSearchQuery(value);\n    setSearchParams(prev => ({\n      ...prev,\n      animalType: value\n    }));\n  };\n  const handleSuggestionSelect = suggestion => {\n    setQuickSearchQuery(suggestion.description);\n\n    // Выполняем поиск сразу при выборе подсказки\n    const params = new URLSearchParams();\n    if (suggestion.description) params.append('description', suggestion.description);\n    navigate(`/search?${params.toString()}`);\n    performSearch(1, {\n      description: suggestion.description\n    }, 'quick');\n  };\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ru-RU', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      });\n    } catch (error) {\n      console.error('Ошибка форматирования даты:', error);\n      return dateString;\n    }\n  };\n  const renderPagination = () => {\n    if (totalPages <= 1) return null;\n    const pages = [];\n    const maxVisiblePages = 5;\n    let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));\n    let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\n    if (endPage - startPage + 1 < maxVisiblePages) {\n      startPage = Math.max(1, endPage - maxVisiblePages + 1);\n    }\n    const paginationStyle = {\n      '--bs-pagination-color': 'rgb(0, 0, 0)',\n      '--bs-pagination-bg': '#fff',\n      '--bs-pagination-border-color': '#dee2e6',\n      '--bs-pagination-hover-color': '#fff',\n      '--bs-pagination-hover-bg': 'rgb(57, 80, 51)',\n      '--bs-pagination-hover-border-color': 'rgb(0, 0, 0)',\n      '--bs-pagination-focus-color': '#fff',\n      '--bs-pagination-focus-bg': 'rgb(0, 0, 0)',\n      '--bs-pagination-focus-box-shadow': '0 0 0 0.25rem rgba(91, 160, 74, 0.25)',\n      '--bs-pagination-active-color': '#fff',\n      '--bs-pagination-active-bg': 'rgb(0, 0, 0)',\n      '--bs-pagination-active-border-color': 'rgb(0, 0, 0)',\n      '--bs-pagination-disabled-color': '#6c757d',\n      '--bs-pagination-disabled-bg': '#fff',\n      '--bs-pagination-disabled-border-color': '#dee2e6'\n    };\n    if (startPage > 1) {\n      pages.push(/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"page-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-link\",\n          onClick: () => handlePageChange(1),\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this)\n      }, \"first\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this));\n      if (startPage > 2) {\n        pages.push(/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"page-item disabled\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"page-link\",\n            children: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 25\n          }, this)\n        }, \"dots1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this));\n      }\n    }\n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(/*#__PURE__*/_jsxDEV(\"li\", {\n        className: `page-item ${i === currentPage ? 'active' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-link\",\n          onClick: () => handlePageChange(i),\n          children: i\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }, this));\n    }\n    if (endPage < totalPages) {\n      if (endPage < totalPages - 1) {\n        pages.push(/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"page-item disabled\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"page-link\",\n            children: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 25\n          }, this)\n        }, \"dots2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 21\n        }, this));\n      }\n      pages.push(/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"page-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-link\",\n          onClick: () => handlePageChange(totalPages),\n          children: totalPages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }, this)\n      }, \"last\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 17\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"Page navigation\",\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"pagination justify-content-center\",\n        style: paginationStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: `page-item ${currentPage === 1 ? 'disabled' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"page-link\",\n            onClick: () => handlePageChange(currentPage - 1),\n            disabled: currentPage === 1,\n            children: \"\\xAB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this), pages, /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `page-item ${currentPage === totalPages ? 'disabled' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"page-link\",\n            onClick: () => handlePageChange(currentPage + 1),\n            disabled: currentPage === totalPages,\n            children: \"\\xBB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-filters card mb-4\",\n        style: {\n          overflow: 'visible'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body mt-2\",\n          style: {\n            position: 'relative',\n            overflow: 'visible'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              role: \"group\",\n              \"aria-label\": \"Search type\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${activeTab === 'quick' ? 'active' : ''}`,\n                onClick: () => setActiveTab('quick'),\n                style: activeTab === 'quick' ? {\n                  ...primaryButtonStyle,\n                  minWidth: '150px'\n                } : {\n                  backgroundColor: 'white',\n                  borderColor: 'rgb(0, 0, 0)',\n                  color: 'rgb(0, 0, 0)',\n                  minWidth: '150px'\n                },\n                onMouseEnter: e => {\n                  if (activeTab !== 'quick') {\n                    e.target.style.backgroundColor = 'rgb(0, 0, 0)';\n                    e.target.style.color = 'white';\n                  }\n                },\n                onMouseLeave: e => {\n                  if (activeTab !== 'quick') {\n                    e.target.style.backgroundColor = 'white';\n                    e.target.style.color = 'rgb(0, 0, 0)';\n                  }\n                },\n                children: \"\\u0411\\u044B\\u0441\\u0442\\u0440\\u044B\\u0439 \\u043F\\u043E\\u0438\\u0441\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `btn ${activeTab === 'advanced' ? 'active' : ''}`,\n                onClick: () => setActiveTab('advanced'),\n                style: activeTab === 'advanced' ? {\n                  ...primaryButtonStyle,\n                  minWidth: '150px'\n                } : {\n                  backgroundColor: 'white',\n                  borderColor: 'rgb(0, 0, 0)',\n                  color: 'rgb(0, 0, 0)',\n                  minWidth: '150px'\n                },\n                onMouseEnter: e => {\n                  if (activeTab !== 'advanced') {\n                    e.target.style.backgroundColor = 'rgb(0, 0, 0)';\n                    e.target.style.color = 'white';\n                  }\n                },\n                onMouseLeave: e => {\n                  if (activeTab !== 'advanced') {\n                    e.target.style.backgroundColor = 'white';\n                    e.target.style.color = 'rgb(0, 0, 0)';\n                  }\n                },\n                children: \"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u043E\\u0438\\u0441\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), activeTab === 'quick' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quick-search-section\",\n            children: /*#__PURE__*/_jsxDEV(QuickSearch, {\n              initialValue: getQueryParams().description || '',\n              showTitle: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 29\n          }, this), activeTab === 'advanced' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"advanced-search-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                id: \"advancedSearchForm\",\n                onSubmit: handleAdvancedSearch,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-grow-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"districtSearch\",\n                      className: \"form-label fw-bold\",\n                      children: \"\\u0420\\u0430\\u0439\\u043E\\u043D \\u0421\\u0430\\u043D\\u043A\\u0442-\\u041F\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"form-select\",\n                      id: \"districtSearch\",\n                      value: searchParams.district,\n                      onChange: e => setSearchParams({\n                        ...searchParams,\n                        district: e.target.value\n                      }),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"---\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 53\n                      }, this), districts.map((district, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: district,\n                        children: district\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 541,\n                        columnNumber: 57\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-grow-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"animalTypeSearch\",\n                      className: \"form-label fw-bold\",\n                      children: \"\\u0412\\u0438\\u0434 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      id: \"animalTypeSearch\",\n                      placeholder: \"\\u041A\\u043E\\u0448\\u043A\\u0430, \\u0441\\u043E\\u0431\\u0430\\u043A\\u0430, \\u043F\\u043E\\u043F\\u0443\\u0433\\u0430\\u0439\",\n                      value: advancedSearchQuery,\n                      onChange: handleAdvancedSearchInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-search btn-primary button-css\",\n                    style: {\n                      backgroundColor: 'rgb(226, 157, 186)',\n                      borderColor: 'rgb(226, 157, 186)'\n                    },\n                    disabled: loading,\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-1\",\n                        role: \"status\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 573,\n                        columnNumber: 57\n                      }, this), \"\\u041F\\u043E\\u0438\\u0441\\u043A...\"]\n                    }, void 0, true) : 'Найти объявления'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-outline-secondary\",\n                    onClick: handleReset,\n                    disabled: loading,\n                    children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-title text-center mb-4\",\n          children: [\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'rgb(91, 160, 74)'\n            },\n            children: [\" \", totalCount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner text-center py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          style: {\n            width: '3rem',\n            height: '3rem',\n            color: 'rgb(91, 160, 74)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0439...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 21\n      }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: results.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-results text-center py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search\",\n            style: {\n              fontSize: '4rem',\n              color: 'rgb(91, 160, 74)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mt-3\",\n            children: \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-2\",\n            style: {\n              backgroundColor: 'rgb(91, 160, 74)',\n              borderColor: 'rgb(91, 160, 74)'\n            },\n            onClick: handleReset,\n            children: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0441\\u0435 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-results-grid\",\n            children: results.map(ad => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-result-item\",\n              style: {\n                width: getColumnWidth()\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card h-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-relative\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: ad.photo || ad.photos || ad.image || placeholderImage,\n                    className: \"card-img-top\",\n                    alt: ad.kind || 'Животное',\n                    style: {\n                      height: '200px',\n                      objectFit: 'cover'\n                    },\n                    onError: e => {\n                      e.target.src = placeholderImage;\n                      e.target.style.objectFit = 'contain';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body d-flex flex-column\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"card-title\",\n                    children: ad.kind || 'Не указан вид'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text flex-grow-1\",\n                    children: ad.description && ad.description.length > 100 ? `${ad.description.substring(0, 100)}...` : ad.description || 'Описание отсутствует'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-icons-container\",\n                    children: [ad.date && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-1 d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: date,\n                        className: \"icon-img\",\n                        alt: \"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"icon-text\",\n                        children: [\"\\u0414\\u0430\\u0442\\u0430: \", formatDate(ad.date)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 671,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 61\n                    }, this), ad.district && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-1 d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: geo,\n                        className: \"icon-img\",\n                        alt: \"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0440\\u0430\\u0439\\u043E\\u043D\\u0430\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 676,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"icon-text\",\n                        children: [\"\\u0420\\u0430\\u0439\\u043E\\u043D: \", ad.district]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 681,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 675,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-primary button-css float-end m-2 btn-css\",\n                  href: `/pet/${ad.id || ad._id}`,\n                  children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 45\n              }, this)\n            }, ad.id || ad._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 33\n          }, this), renderPagination()]\n        }, void 0, true)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 703,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LogoutModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 445,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchPage, \"eMxGcFAoWWnhH+m9kxJMxZQpL1k=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useLocation","useNavigate","Header","Footer","LogoutModal","ApiService","placeholderImage","date","geo","QuickSearch","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchPage","_s","primaryButtonStyle","backgroundColor","borderColor","color","primaryButtonHoverStyle","location","navigate","searchParams","setSearchParams","district","animalType","activeTab","setActiveTab","results","setResults","loading","setLoading","currentPage","setCurrentPage","totalCount","setTotalCount","totalPages","setTotalPages","searchSuggestions","setSearchSuggestions","quickSearchQuery","setQuickSearchQuery","advancedSearchQuery","setAdvancedSearchQuery","columnsPerRow","setColumnsPerRow","pageSize","districts","updateColumnsPerRow","width","window","innerWidth","addEventListener","removeEventListener","getColumnWidth","getQueryParams","params","URLSearchParams","search","get","description","loadAllOrders","page","response","searchOrders","data","orders","allResults","startIndex","endIndex","paginatedResults","slice","length","Math","ceil","error","console","performSearch","searchType","queryLower","toLowerCase","filteredResults","filter","order","includes","kind","queryParams","newSearchParams","timer","setTimeout","allOrders","matchedOrders","formattedSuggestions","map","id","photo","photos","suggestion","trim","clearTimeout","handleQuickSearch","e","preventDefault","append","toString","handleAdvancedSearch","handleReset","handlePageChange","handleQuickSearchInputChange","value","handleAdvancedSearchInputChange","target","prev","handleSuggestionSelect","formatDate","dateString","Date","toLocaleDateString","day","month","year","renderPagination","pages","maxVisiblePages","startPage","max","floor","endPage","min","paginationStyle","push","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","i","style","disabled","overflow","position","role","type","minWidth","onMouseEnter","onMouseLeave","initialValue","showTitle","onSubmit","htmlFor","onChange","index","placeholder","height","fontSize","ad","src","image","alt","objectFit","onError","substring","href","_id","_c","$RefreshReg$"],"sources":["C:/Users/1874-23/Desktop/getpetback/src/pages/search-page.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport LogoutModal from '../components/logout-modal';\r\nimport ApiService from '../services/api';\r\nimport placeholderImage from '../assets/images/placeholder.svg';\r\nimport date from '../assets/images/icon_calendary.png';\r\nimport geo from '../assets/images/icon_district.png';\r\nimport QuickSearch from '../components/quick-search';\r\n\r\nconst SearchPage = () => {\r\n    const primaryButtonStyle = {\r\n        backgroundColor: 'rgb(91, 160, 74)',\r\n        borderColor: 'rgb(91, 160, 74)',\r\n        color: 'white'\r\n    };\r\n\r\n    const primaryButtonHoverStyle = {\r\n        backgroundColor: 'rgb(81, 140, 64)',\r\n        borderColor: 'rgb(81, 140, 64)',\r\n        color: 'white'\r\n    };\r\n\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [searchParams, setSearchParams] = useState({\r\n        district: '',\r\n        animalType: ''\r\n    });\r\n    const [activeTab, setActiveTab] = useState('quick'); // 'quick' или 'advanced'\r\n    const [results, setResults] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [searchSuggestions, setSearchSuggestions] = useState([]);\r\n    const [quickSearchQuery, setQuickSearchQuery] = useState(''); // Отдельное поле для быстрого поиска\r\n    const [advancedSearchQuery, setAdvancedSearchQuery] = useState(''); // Отдельное поле для расширенного поиска\r\n    const [columnsPerRow, setColumnsPerRow] = useState(4);\r\n    const pageSize = 8;\r\n\r\n    const districts = [\r\n        'Адмиралтейский район',\r\n        'Василеостровский район',\r\n        'Выборгский район',\r\n        'Калининский район',\r\n        'Кировский район',\r\n        'Колпинский район',\r\n        'Красногвардейский район',\r\n        'Красносельский район',\r\n        'Кронштадтский район',\r\n        'Курортный район',\r\n        'Московский район',\r\n        'Невский район',\r\n        'Петроградский район',\r\n        'Петродворцовый район',\r\n        'Приморский район',\r\n        'Пушкинский район',\r\n        'Фрунзенский район',\r\n        'Центральный район'\r\n    ];\r\n\r\n    const updateColumnsPerRow = useCallback(() => {\r\n        const width = window.innerWidth;\r\n\r\n        if (width >= 1200) {\r\n            setColumnsPerRow(4);\r\n        } else if (width >= 992) {\r\n            setColumnsPerRow(3);\r\n        } else if (width >= 768) {\r\n            setColumnsPerRow(2);\r\n        } else {\r\n            setColumnsPerRow(1);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        updateColumnsPerRow();\r\n        window.addEventListener('resize', updateColumnsPerRow);\r\n        return () => {\r\n            window.removeEventListener('resize', updateColumnsPerRow);\r\n        };\r\n    }, [updateColumnsPerRow]);\r\n\r\n    const getColumnWidth = () => {\r\n        return `${100 / columnsPerRow}%`;\r\n    };\r\n\r\n    const getQueryParams = useCallback(() => {\r\n        const params = new URLSearchParams(location.search);\r\n        return {\r\n            animalType: params.get('animalType') || params.get('kind') || '',\r\n            district: params.get('district') || '',\r\n            description: params.get('description') || ''\r\n        };\r\n    }, [location.search]);\r\n\r\n    const loadAllOrders = useCallback(async (page) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await ApiService.searchOrders({});\r\n            if (response && response.data && response.data.orders) {\r\n                const allResults = response.data.orders;\r\n\r\n                const startIndex = (page - 1) * pageSize;\r\n                const endIndex = startIndex + pageSize;\r\n                const paginatedResults = allResults.slice(startIndex, endIndex);\r\n\r\n                setResults(paginatedResults);\r\n                setTotalCount(allResults.length);\r\n                setTotalPages(Math.ceil(allResults.length / pageSize));\r\n            } else {\r\n                setResults([]);\r\n                setTotalCount(0);\r\n                setTotalPages(0);\r\n            }\r\n        } catch (error) {\r\n            console.error('Ошибка при загрузке объявлений:', error);\r\n            setResults([]);\r\n            setTotalCount(0);\r\n            setTotalPages(0);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const performSearch = useCallback(async (page, params, searchType = 'advanced') => {\r\n        setLoading(true);\r\n        setCurrentPage(page);\r\n\r\n        try {\r\n            if (!params.animalType && !params.district && !params.description) {\r\n                await loadAllOrders(page);\r\n                return;\r\n            }\r\n\r\n            let response;\r\n            if (searchType === 'quick' && params.description) {\r\n                // Для быстрого поиска ищем по описанию\r\n                response = await ApiService.searchOrders({});\r\n                if (response && response.data && response.data.orders) {\r\n                    const allResults = response.data.orders;\r\n                    const queryLower = params.description.toLowerCase();\r\n                    const filteredResults = allResults.filter(order => {\r\n                        const description = order.description || '';\r\n                        return description.toLowerCase().includes(queryLower);\r\n                    });\r\n\r\n                    const startIndex = (page - 1) * pageSize;\r\n                    const endIndex = startIndex + pageSize;\r\n                    const paginatedResults = filteredResults.slice(startIndex, endIndex);\r\n\r\n                    setResults(paginatedResults);\r\n                    setTotalCount(filteredResults.length);\r\n                    setTotalPages(Math.ceil(filteredResults.length / pageSize));\r\n                } else {\r\n                    setResults([]);\r\n                    setTotalCount(0);\r\n                    setTotalPages(0);\r\n                }\r\n            } else {\r\n                // Для расширенного поиска используем стандартный запрос\r\n                response = await ApiService.searchOrders({\r\n                    kind: params.animalType,\r\n                    district: params.district\r\n                });\r\n\r\n                if (response && response.data && response.data.orders) {\r\n                    const allResults = response.data.orders;\r\n\r\n                    const startIndex = (page - 1) * pageSize;\r\n                    const endIndex = startIndex + pageSize;\r\n                    const paginatedResults = allResults.slice(startIndex, endIndex);\r\n\r\n                    setResults(paginatedResults);\r\n                    setTotalCount(allResults.length);\r\n                    setTotalPages(Math.ceil(allResults.length / pageSize));\r\n                } else {\r\n                    setResults([]);\r\n                    setTotalCount(0);\r\n                    setTotalPages(0);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Ошибка при поиске:', error);\r\n            setResults([]);\r\n            setTotalCount(0);\r\n            setTotalPages(0);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [loadAllOrders]);\r\n\r\n    useEffect(() => {\r\n        const queryParams = getQueryParams();\r\n        const newSearchParams = {\r\n            animalType: queryParams.animalType,\r\n            district: queryParams.district,\r\n            description: queryParams.description\r\n        };\r\n\r\n        setSearchParams(newSearchParams);\r\n        setAdvancedSearchQuery(queryParams.animalType);\r\n        setQuickSearchQuery(queryParams.description || '');\r\n\r\n        if (queryParams.animalType || queryParams.district || queryParams.description) {\r\n            const searchType = queryParams.description ? 'quick' : 'advanced';\r\n            performSearch(1, newSearchParams, searchType);\r\n        } else {\r\n            loadAllOrders(1);\r\n        }\r\n    }, [location.search, getQueryParams, performSearch, loadAllOrders]);\r\n\r\n    useEffect(() => {\r\n        // Подсказки только для быстрого поиска (по описанию)\r\n        if (quickSearchQuery.length > 2 && activeTab === 'quick') {\r\n            const timer = setTimeout(async () => {\r\n                try {\r\n                    const response = await ApiService.searchOrders({});\r\n\r\n                    if (response && response.data && response.data.orders) {\r\n                        const allOrders = response.data.orders;\r\n                        const queryLower = quickSearchQuery.toLowerCase();\r\n\r\n                        // Ищем совпадения в описании\r\n                        const matchedOrders = allOrders.filter(order => {\r\n                            const description = order.description || '';\r\n                            return description.toLowerCase().includes(queryLower);\r\n                        }).slice(0, 10);\r\n\r\n                        const formattedSuggestions = matchedOrders.map(order => ({\r\n                            id: order.id,\r\n                            kind: order.kind || '',\r\n                            description: order.description || '',\r\n                            district: '',\r\n                            photo: order.photo || order.photos || null\r\n                        }))\r\n                            .filter(suggestion => suggestion.description.trim() !== '')\r\n                            .slice(0, 5); // Ограничиваем 5 подсказками\r\n\r\n                        setSearchSuggestions(formattedSuggestions);\r\n                    } else {\r\n                        setSearchSuggestions([]);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Ошибка при поиске подсказок:', error);\r\n                    setSearchSuggestions([]);\r\n                }\r\n            }, 300);\r\n\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            setSearchSuggestions([]);\r\n        }\r\n    }, [quickSearchQuery, activeTab]);\r\n\r\n    const handleQuickSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        const params = new URLSearchParams();\r\n        if (quickSearchQuery) params.append('description', quickSearchQuery);\r\n\r\n        navigate(`/search?${params.toString()}`);\r\n        performSearch(1, { description: quickSearchQuery }, 'quick');\r\n    };\r\n\r\n    const handleAdvancedSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        const params = new URLSearchParams();\r\n        if (searchParams.animalType) params.append('kind', searchParams.animalType);\r\n        if (searchParams.district) params.append('district', searchParams.district);\r\n\r\n        navigate(`/search?${params.toString()}`);\r\n        performSearch(1, searchParams, 'advanced');\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setSearchParams({ district: '', animalType: '' });\r\n        setQuickSearchQuery('');\r\n        setAdvancedSearchQuery('');\r\n        setCurrentPage(1);\r\n\r\n        navigate('/search');\r\n        loadAllOrders(1);\r\n    };\r\n\r\n    const handlePageChange = (page) => {\r\n        setCurrentPage(page);\r\n\r\n        const queryParams = getQueryParams();\r\n        const searchType = queryParams.description ? 'quick' : 'advanced';\r\n\r\n        if (queryParams.description || queryParams.animalType || queryParams.district) {\r\n            performSearch(page, {\r\n                animalType: queryParams.animalType,\r\n                district: queryParams.district,\r\n                description: queryParams.description\r\n            }, searchType);\r\n        } else {\r\n            loadAllOrders(page);\r\n        }\r\n    };\r\n\r\n    const handleQuickSearchInputChange = (value) => {\r\n        setQuickSearchQuery(value);\r\n    };\r\n\r\n    const handleAdvancedSearchInputChange = (e) => {\r\n        const value = e.target.value;\r\n        setAdvancedSearchQuery(value);\r\n        setSearchParams(prev => ({ ...prev, animalType: value }));\r\n    };\r\n\r\n    const handleSuggestionSelect = (suggestion) => {\r\n        setQuickSearchQuery(suggestion.description);\r\n\r\n        // Выполняем поиск сразу при выборе подсказки\r\n        const params = new URLSearchParams();\r\n        if (suggestion.description) params.append('description', suggestion.description);\r\n\r\n        navigate(`/search?${params.toString()}`);\r\n        performSearch(1, { description: suggestion.description }, 'quick');\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return '';\r\n\r\n        try {\r\n            const date = new Date(dateString);\r\n            return date.toLocaleDateString('ru-RU', {\r\n                day: '2-digit',\r\n                month: '2-digit',\r\n                year: 'numeric'\r\n            });\r\n        } catch (error) {\r\n            console.error('Ошибка форматирования даты:', error);\r\n            return dateString;\r\n        }\r\n    };\r\n\r\n    const renderPagination = () => {\r\n        if (totalPages <= 1) return null;\r\n\r\n        const pages = [];\r\n        const maxVisiblePages = 5;\r\n        let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));\r\n        let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\r\n\r\n        if (endPage - startPage + 1 < maxVisiblePages) {\r\n            startPage = Math.max(1, endPage - maxVisiblePages + 1);\r\n        }\r\n\r\n        const paginationStyle = {\r\n            '--bs-pagination-color': 'rgb(0, 0, 0)',\r\n            '--bs-pagination-bg': '#fff',\r\n            '--bs-pagination-border-color': '#dee2e6',\r\n            '--bs-pagination-hover-color': '#fff',\r\n            '--bs-pagination-hover-bg': 'rgb(57, 80, 51)',\r\n            '--bs-pagination-hover-border-color': 'rgb(0, 0, 0)',\r\n            '--bs-pagination-focus-color': '#fff',\r\n            '--bs-pagination-focus-bg': 'rgb(0, 0, 0)',\r\n            '--bs-pagination-focus-box-shadow': '0 0 0 0.25rem rgba(91, 160, 74, 0.25)',\r\n            '--bs-pagination-active-color': '#fff',\r\n            '--bs-pagination-active-bg': 'rgb(0, 0, 0)',\r\n            '--bs-pagination-active-border-color': 'rgb(0, 0, 0)',\r\n            '--bs-pagination-disabled-color': '#6c757d',\r\n            '--bs-pagination-disabled-bg': '#fff',\r\n            '--bs-pagination-disabled-border-color': '#dee2e6',\r\n        };\r\n\r\n        if (startPage > 1) {\r\n            pages.push(\r\n                <li key=\"first\" className=\"page-item\">\r\n                    <button className=\"page-link\" onClick={() => handlePageChange(1)}>\r\n                        1\r\n                    </button>\r\n                </li>\r\n            );\r\n            if (startPage > 2) {\r\n                pages.push(\r\n                    <li key=\"dots1\" className=\"page-item disabled\">\r\n                        <span className=\"page-link\">...</span>\r\n                    </li>\r\n                );\r\n            }\r\n        }\r\n\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            pages.push(\r\n                <li key={i} className={`page-item ${i === currentPage ? 'active' : ''}`}>\r\n                    <button className=\"page-link\" onClick={() => handlePageChange(i)}>\r\n                        {i}\r\n                    </button>\r\n                </li>\r\n            );\r\n        }\r\n\r\n        if (endPage < totalPages) {\r\n            if (endPage < totalPages - 1) {\r\n                pages.push(\r\n                    <li key=\"dots2\" className=\"page-item disabled\">\r\n                        <span className=\"page-link\">...</span>\r\n                    </li>\r\n                );\r\n            }\r\n            pages.push(\r\n                <li key=\"last\" className=\"page-item\">\r\n                    <button className=\"page-link\" onClick={() => handlePageChange(totalPages)}>\r\n                        {totalPages}\r\n                    </button>\r\n                </li>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <nav aria-label=\"Page navigation\" className=\"mt-4\">\r\n                <ul className=\"pagination justify-content-center\" style={paginationStyle}>\r\n                    <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\r\n                        <button\r\n                            className=\"page-link\"\r\n                            onClick={() => handlePageChange(currentPage - 1)}\r\n                            disabled={currentPage === 1}\r\n                        >\r\n                            &laquo;\r\n                        </button>\r\n                    </li>\r\n                    {pages}\r\n                    <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\r\n                        <button\r\n                            className=\"page-link\"\r\n                            onClick={() => handlePageChange(currentPage + 1)}\r\n                            disabled={currentPage === totalPages}\r\n                        >\r\n                            &raquo;\r\n                        </button>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <br />\r\n\r\n            <div className=\"container mt-4\">\r\n                <div className=\"search-filters card mb-4\" style={{ overflow: 'visible' }}>\r\n                    <div className=\"card-body mt-2\" style={{ position: 'relative', overflow: 'visible' }}>\r\n                        {/* Кнопки переключения между видами поиска */}\r\n                        <div className=\"d-flex justify-content-center mb-4\">\r\n\r\n                            <div className=\"btn-group\" role=\"group\" aria-label=\"Search type\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={`btn ${activeTab === 'quick' ? 'active' : ''}`}\r\n                                    onClick={() => setActiveTab('quick')}\r\n                                    style={activeTab === 'quick' ? {\r\n                                        ...primaryButtonStyle,\r\n                                        minWidth: '150px'\r\n                                    } : {\r\n                                        backgroundColor: 'white',\r\n                                        borderColor: 'rgb(0, 0, 0)',\r\n                                        color: 'rgb(0, 0, 0)',\r\n                                        minWidth: '150px'\r\n                                    }}\r\n                                    onMouseEnter={(e) => {\r\n                                        if (activeTab !== 'quick') {\r\n                                            e.target.style.backgroundColor = 'rgb(0, 0, 0)';\r\n                                            e.target.style.color = 'white';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        if (activeTab !== 'quick') {\r\n                                            e.target.style.backgroundColor = 'white';\r\n                                            e.target.style.color = 'rgb(0, 0, 0)';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Быстрый поиск\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={`btn ${activeTab === 'advanced' ? 'active' : ''}`}\r\n                                    onClick={() => setActiveTab('advanced')}\r\n                                    style={activeTab === 'advanced' ? {\r\n                                        ...primaryButtonStyle,\r\n                                        minWidth: '150px'\r\n                                    } : {\r\n                                        backgroundColor: 'white',\r\n                                        borderColor: 'rgb(0, 0, 0)',\r\n                                        color: 'rgb(0, 0, 0)',\r\n                                        minWidth: '150px'\r\n                                    }}\r\n                                    onMouseEnter={(e) => {\r\n                                        if (activeTab !== 'advanced') {\r\n                                            e.target.style.backgroundColor = 'rgb(0, 0, 0)';\r\n                                            e.target.style.color = 'white';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        if (activeTab !== 'advanced') {\r\n                                            e.target.style.backgroundColor = 'white';\r\n                                            e.target.style.color = 'rgb(0, 0, 0)';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Расширенный поиск\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Быстрый поиск */}\r\n                        {activeTab === 'quick' && (\r\n                            <div className=\"quick-search-section\">\r\n                                <QuickSearch\r\n                                    initialValue={getQueryParams().description || ''}\r\n                                    showTitle={false}\r\n                                />\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Расширенный поиск */}\r\n                        {activeTab === 'advanced' && (\r\n                            <div className=\"advanced-search-section\">\r\n                                <div className='card-body'>\r\n                                    <form id=\"advancedSearchForm\" onSubmit={handleAdvancedSearch}>\r\n                                        <div className=\"d-flex gap-3\">\r\n                                            <div className=\"flex-grow-1\">\r\n                                                <label htmlFor=\"districtSearch\" className=\"form-label fw-bold\">Район Санкт-Петербурга</label>\r\n                                                <select\r\n                                                    className=\"form-select\"\r\n                                                    id=\"districtSearch\"\r\n                                                    value={searchParams.district}\r\n                                                    onChange={(e) => setSearchParams({ ...searchParams, district: e.target.value })}\r\n                                                >\r\n                                                    <option value=\"\">---</option>\r\n                                                    {districts.map((district, index) => (\r\n                                                        <option key={index} value={district}>\r\n                                                            {district}\r\n                                                        </option>\r\n                                                    ))}\r\n                                                </select>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-grow-1\">\r\n                                                <label htmlFor=\"animalTypeSearch\" className=\"form-label fw-bold\">Вид животного</label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"form-control\"\r\n                                                    id=\"animalTypeSearch\"\r\n                                                    placeholder=\"Кошка, собака, попугай\"\r\n                                                    value={advancedSearchQuery}\r\n                                                    onChange={handleAdvancedSearchInputChange}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <br />\r\n                                        <div className=\"d-flex gap-2\">\r\n                                            <button\r\n                                                type=\"submit\"\r\n                                                className=\"btn btn-search btn-primary button-css\"\r\n                                                style={{\r\n                                                    backgroundColor: 'rgb(226, 157, 186)',\r\n                                                    borderColor: 'rgb(226, 157, 186)'\r\n                                                }}\r\n                                                disabled={loading}\r\n                                            >\r\n                                                {loading ? (\r\n                                                    <>\r\n                                                        <span className=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                                        Поиск...\r\n                                                    </>\r\n                                                ) : (\r\n                                                    'Найти объявления'\r\n                                                )}\r\n                                            </button>\r\n\r\n                                            <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={handleReset} disabled={loading}>\r\n                                                Сбросить\r\n                                            </button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <br />\r\n                <h1>\r\n                    <div className='card-title text-center mb-4'>\r\n                        Найдено объявлений:\r\n                        <span style={{ color: 'rgb(91, 160, 74)' }}> {totalCount}</span>\r\n                    </div>\r\n                </h1>\r\n                <br />\r\n                {loading && (\r\n                    <div className=\"loading-spinner text-center py-5\">\r\n                        <div className=\"spinner-border\" role=\"status\" style={{\r\n                            width: '3rem',\r\n                            height: '3rem',\r\n                            color: 'rgb(91, 160, 74)'\r\n                        }}>\r\n                            <span className=\"visually-hidden\">Загрузка...</span>\r\n                        </div>\r\n                        <p className=\"mt-3\">Загрузка объявлений...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {!loading && (\r\n                    <>\r\n                        {results.length === 0 ? (\r\n                            <div className=\"no-results text-center py-5\">\r\n                                <i className=\"bi bi-search\" style={{ fontSize: '4rem', color: 'rgb(91, 160, 74)' }}></i>\r\n                                <h4 className=\"mt-3\">Ничего не найдено</h4>\r\n                                <p className=\"text-muted\">Попробуйте изменить параметры поиска</p>\r\n                                <button\r\n                                    className=\"btn btn-primary mt-2\"\r\n                                    style={{\r\n                                        backgroundColor: 'rgb(91, 160, 74)',\r\n                                        borderColor: 'rgb(91, 160, 74)'\r\n                                    }}\r\n                                    onClick={handleReset}\r\n                                >\r\n                                    Показать все объявления\r\n                                </button>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                <div className=\"search-results-grid\">\r\n                                    {results.map(ad => (\r\n                                        <div\r\n                                            key={ad.id || ad._id}\r\n                                            className=\"search-result-item\"\r\n                                            style={{ width: getColumnWidth() }}\r\n                                        >\r\n                                            <div className=\"card h-100\">\r\n                                                <div className=\"position-relative\">\r\n                                                    <img\r\n                                                        src={ad.photo || ad.photos || ad.image || placeholderImage}\r\n                                                        className=\"card-img-top\"\r\n                                                        alt={ad.kind || 'Животное'}\r\n                                                        style={{ height: '200px', objectFit: 'cover' }}\r\n                                                        onError={(e) => {\r\n                                                            e.target.src = placeholderImage;\r\n                                                            e.target.style.objectFit = 'contain';\r\n                                                        }}\r\n                                                    />\r\n\r\n                                                </div>\r\n\r\n                                                <div className=\"card-body d-flex flex-column\">\r\n                                                    <h3 className=\"card-title\">{ad.kind || 'Не указан вид'}</h3>\r\n                                                    <p className=\"card-text flex-grow-1\">\r\n                                                        {ad.description && ad.description.length > 100\r\n                                                            ? `${ad.description.substring(0, 100)}...`\r\n                                                            : ad.description || 'Описание отсутствует'}\r\n                                                    </p>\r\n\r\n                                                    <div className=\"card-icons-container\">\r\n                                                        {ad.date && (\r\n                                                            <div className=\"mb-1 d-flex align-items-center\">\r\n                                                                <img\r\n                                                                    src={date}\r\n                                                                    className=\"icon-img\"\r\n                                                                    alt=\"Иконка календаря\"\r\n                                                                />\r\n                                                                <small className=\"icon-text\">Дата: {formatDate(ad.date)}</small>\r\n                                                            </div>\r\n                                                        )}\r\n                                                        {ad.district && (\r\n                                                            <div className=\"mb-1 d-flex align-items-center\">\r\n                                                                <img\r\n                                                                    src={geo}\r\n                                                                    className=\"icon-img\"\r\n                                                                    alt=\"Иконка района\"\r\n                                                                />\r\n                                                                <small className=\"icon-text\">Район: {ad.district}</small>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <a\r\n                                                    className=\"btn btn-primary button-css float-end m-2 btn-css\"\r\n                                                    href={`/pet/${ad.id || ad._id}`}\r\n                                                >\r\n                                                    Подробнее\r\n                                                </a>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                {renderPagination()}\r\n                            </>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <LogoutModal />\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}