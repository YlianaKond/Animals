{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1874-23\\\\Desktop\\\\getpetback\\\\src\\\\pages\\\\addob.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport LogoutModal from '../components/logout-modal';\nimport ApiService from '../services/api';\nimport AuthService from '../services/AuthService';\nimport { validateField } from '../utils/validation';\nimport Text from '../components/Text';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Addob = () => {\n  _s();\n  const navigate = useNavigate();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [formData, setFormData] = useState({\n    petType: '',\n    petDescription: '',\n    mark: '',\n    petLocation: '',\n    name: '',\n    phone: '',\n    email: '',\n    register: false,\n    password: '',\n    password_confirmation: '',\n    confirm: false\n  });\n  const [images, setImages] = useState([null, null, null]);\n  const [imagePreviews, setImagePreviews] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [districts] = useState(['Адмиралтейский район', 'Василеостровский район', 'Выборгский район', 'Калининский район', 'Кировский район', 'Колпинский район', 'Красногвардейский район', 'Красносельский район', 'Кронштадтский район', 'Курортный район', 'Московский район', 'Невский район', 'Петроградский район', 'Петродворцовый район', 'Приморский район', 'Пушкинский район', 'Фрунзенский район', 'Центральный район']);\n\n  // Добавлены новые состояния из кода 2\n  const [passwordRequirements, setPasswordRequirements] = useState({\n    length: false,\n    lowercase: false,\n    uppercase: false,\n    digit: false\n  });\n\n  // Проверка авторизации и загрузка данных пользователя\n  useEffect(() => {\n    const checkAuthAndLoadData = () => {\n      const authStatus = AuthService.isAuthenticated();\n      setIsAuthenticated(authStatus);\n      if (authStatus) {\n        const userData = AuthService.getUserData();\n        if (userData) {\n          const cleanName = userData.name ? userData.name.replace(/[^А-Яа-яЁё\\s-]/g, '') : '';\n          setUserName(userData.name || '');\n          setFormData(prev => ({\n            ...prev,\n            name: cleanName || userData.name || '',\n            phone: userData.phone || '',\n            email: userData.email || '',\n            // Для авторизованных автоматически включаем \"сохранение в личном кабинете\"\n            register: true\n          }));\n        }\n      }\n    };\n    checkAuthAndLoadData();\n    window.addEventListener('authChange', checkAuthAndLoadData);\n    window.addEventListener('userDataUpdate', checkAuthAndLoadData);\n    return () => {\n      window.removeEventListener('authChange', checkAuthAndLoadData);\n      window.removeEventListener('userDataUpdate', checkAuthAndLoadData);\n    };\n  }, []);\n\n  // Проверка требований к паролю при изменении\n  useEffect(() => {\n    if (formData.password) {\n      const newRequirements = {\n        length: formData.password.length >= 7,\n        lowercase: /[a-z]/.test(formData.password),\n        uppercase: /[A-Z]/.test(formData.password),\n        digit: /\\d/.test(formData.password)\n      };\n      setPasswordRequirements(newRequirements);\n    }\n  }, [formData.password]);\n\n  // Валидация имени с поддержкой автозаполнения\n  const validateName = (name, isAutoFilled = false) => {\n    if (!name.trim()) return false;\n    if (isAutoFilled) return true;\n    return /^[А-Яа-яЁё\\s-]+$/.test(name);\n  };\n\n  // Валидация телефона\n  const validatePhone = phone => /^\\+?[0-9\\s\\-()]+$/.test(phone);\n\n  // Валидация пароля\n  const validatePassword = pwd => /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{7,}$/.test(pwd);\n\n  // Валидация формы (улучшенная версия с кодом 2)\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Проверка обязательных полей\n    if (!formData.petType.trim()) {\n      newErrors.petType = 'Укажите вид животного';\n    }\n    if (!formData.petDescription.trim()) {\n      newErrors.petDescription = 'Введите описание';\n    } else if (formData.petDescription.length < 10 || formData.petDescription.length > 500) {\n      newErrors.petDescription = 'Описание должно содержать от 10 до 500 символов';\n    }\n    if (!formData.petLocation) {\n      newErrors.petLocation = 'Выберите район';\n    }\n    if (!images[0]) {\n      newErrors.photo1 = 'Добавьте хотя бы одну фотографию';\n    }\n    if (!formData.name.trim()) {\n      newErrors.name = 'Введите ваше имя';\n    } else if (!validateName(formData.name, isAuthenticated)) {\n      if (isAuthenticated) {\n        newErrors.name = 'Имя содержит некириллические символы. Рекомендуется исправить.';\n      } else {\n        newErrors.name = 'Имя должно содержать только кириллицу, пробелы и дефисы';\n      }\n    }\n    if (!formData.phone.trim()) {\n      newErrors.phone = 'Введите телефон';\n    } else if (!validatePhone(formData.phone)) {\n      newErrors.phone = 'Телефон должен содержать только цифры';\n    }\n    if (!formData.email.trim()) {\n      newErrors.email = 'Введите email';\n    } else {\n      const emailValidation = validateField('email', formData.email);\n      if (!emailValidation.isValid) {\n        newErrors.email = emailValidation.message;\n      }\n    }\n\n    // Валидация клейма (если заполнено)\n    if (formData.mark.trim() && !/^[A-Za-z0-9-]+$/.test(formData.mark)) {\n      newErrors.mark = 'Номер клейма/чипа может содержать только латинские буквы, цифры и дефисы';\n    }\n\n    // Валидация пароля ТОЛЬКО для НЕавторизованных пользователей С регистрацией\n    if (!isAuthenticated && formData.register) {\n      if (!formData.password.trim()) {\n        newErrors.password = 'Введите пароль';\n      } else if (!validatePassword(formData.password)) {\n        newErrors.password = 'Пароль должен содержать минимум 7 символов, включая 1 цифру, 1 строчную и 1 заглавную букву';\n      }\n      if (!formData.password_confirmation.trim()) {\n        newErrors.password_confirmation = 'Подтвердите пароль';\n      } else if (formData.password !== formData.password_confirmation) {\n        newErrors.password_confirmation = 'Пароли не совпадают';\n      }\n    }\n\n    // Валидация пароля для авторизованных пользователей с регистрацией\n    if (isAuthenticated && formData.register) {\n      if (!formData.password.trim()) {\n        newErrors.password = 'Введите пароль для подтверждения';\n      }\n    }\n\n    // Согласие на обработку данных\n    if (!formData.confirm) {\n      newErrors.confirm = 'Необходимо согласие на обработку персональных данных';\n    }\n    return newErrors;\n  };\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Очищаем ошибку при изменении поля\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n  const handleImageChange = (e, index) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Проверяем формат файла (только PNG)\n    if (file.type !== 'image/jpeg') {\n      setErrors(prev => ({\n        ...prev,\n        [`photo${index + 1}`]: 'Формат файла должен быть PNG'\n      }));\n      return;\n    }\n\n    // Проверяем размер файла (максимум 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setErrors(prev => ({\n        ...prev,\n        [`photo${index + 1}`]: 'Размер файла не должен превышать 5MB'\n      }));\n      return;\n    }\n    const newImages = [...images];\n    newImages[index] = file;\n    setImages(newImages);\n\n    // Создаем превью\n    const reader = new FileReader();\n    reader.onload = e => {\n      const newPreviews = [...imagePreviews];\n      newPreviews[index] = e.target.result;\n      setImagePreviews(newPreviews);\n    };\n    reader.readAsDataURL(file);\n\n    // Очищаем ошибку\n    if (errors[`photo${index + 1}`]) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[`photo${index + 1}`];\n        return newErrors;\n      });\n    }\n  };\n  const removeImage = index => {\n    const newImages = [...images];\n    newImages[index] = null;\n    setImages(newImages);\n    const newPreviews = [...imagePreviews];\n    newPreviews[index] = null;\n    setImagePreviews(newPreviews);\n  };\n\n  // Функция регистрации пользователя из кода 2\n  const registerUser = async userData => {\n    try {\n      const response = await ApiService.register({\n        name: userData.name,\n        phone: userData.phone,\n        email: userData.email,\n        password: userData.password,\n        password_confirmation: userData.password_confirmation,\n        confirm: 1\n      });\n      if (response && response.data) {\n        return {\n          success: true,\n          data: response.data\n        };\n      } else {\n        var _response$error, _response$error2, _response$error3;\n        let errorMessage = 'Ошибка регистрации';\n        if ((_response$error = response.error) !== null && _response$error !== void 0 && _response$error.errors) {\n          const serverErrors = response.error.errors;\n          for (const field in serverErrors) {\n            if (serverErrors[field] && serverErrors[field][0]) {\n              errorMessage = serverErrors[field][0];\n              break;\n            }\n          }\n        } else if ((_response$error2 = response.error) !== null && _response$error2 !== void 0 && _response$error2.message) {\n          errorMessage = response.error.message;\n        }\n        return {\n          success: false,\n          error: errorMessage,\n          errors: ((_response$error3 = response.error) === null || _response$error3 === void 0 ? void 0 : _response$error3.errors) || {}\n        };\n      }\n    } catch (error) {\n      console.error('Ошибка при регистрации пользователя:', error);\n      return {\n        success: false,\n        error: 'Сетевая ошибка'\n      };\n    }\n  };\n\n  // Функция входа пользователя из кода 2\n  const loginUser = async (email, password) => {\n    try {\n      const response = await ApiService.login(email, password);\n      if (response && response.data && response.data.token) {\n        return {\n          success: true,\n          token: response.data.token,\n          userData: response.data\n        };\n      } else {\n        var _response$error4;\n        const errorMsg = (response === null || response === void 0 ? void 0 : (_response$error4 = response.error) === null || _response$error4 === void 0 ? void 0 : _response$error4.message) || 'Ошибка входа';\n        return {\n          success: false,\n          error: errorMsg\n        };\n      }\n    } catch (error) {\n      console.error('Ошибка при входе:', error);\n      return {\n        success: false,\n        error: 'Сетевая ошибка'\n      };\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const validationErrors = validateForm();\n    if (Object.keys(validationErrors).length > 0) {\n      setErrors(validationErrors);\n      return;\n    }\n    setLoading(true);\n    setErrors({});\n    setSuccessMessage('');\n    try {\n      let userToken = null;\n      let isNewRegistration = false;\n\n      // Логика регистрации/входа из кода 2\n      if (formData.register) {\n        if (!isAuthenticated) {\n          // Попытка регистрации нового пользователя\n          const registrationResult = await registerUser({\n            name: formData.name,\n            phone: formData.phone,\n            email: formData.email,\n            password: formData.password,\n            password_confirmation: formData.password_confirmation\n          });\n          if (!registrationResult.success) {\n            // Если email уже занят, пробуем войти\n            if (registrationResult.error.includes('email has already been taken') || registrationResult.error.includes('email уже занят')) {\n              const loginResult = await loginUser(formData.email, formData.password);\n              if (loginResult.success) {\n                var _loginResult$userData;\n                userToken = loginResult.token;\n                AuthService.login(userToken, {\n                  email: formData.email,\n                  name: formData.name,\n                  phone: formData.phone,\n                  id: (_loginResult$userData = loginResult.userData) === null || _loginResult$userData === void 0 ? void 0 : _loginResult$userData.id\n                });\n              } else {\n                setErrors({\n                  password: 'Введите правильный пароль для этого аккаунта'\n                });\n                setLoading(false);\n                return;\n              }\n            } else {\n              setErrors({\n                general: `Ошибка регистрации: ${registrationResult.error}`\n              });\n              setLoading(false);\n              return;\n            }\n          } else {\n            // Регистрация успешна, пробуем войти\n            const loginResult = await loginUser(formData.email, formData.password);\n            if (loginResult.success) {\n              var _loginResult$userData2;\n              userToken = loginResult.token;\n              AuthService.login(userToken, {\n                email: formData.email,\n                name: formData.name,\n                phone: formData.phone,\n                id: (_loginResult$userData2 = loginResult.userData) === null || _loginResult$userData2 === void 0 ? void 0 : _loginResult$userData2.id\n              });\n              isNewRegistration = true;\n            } else {\n              setErrors({\n                general: `Регистрация прошла, но вход не удался: ${loginResult.error}`\n              });\n              setLoading(false);\n              return;\n            }\n          }\n        } else {\n          // Авторизованный пользователь - проверяем пароль\n          const loginResult = await loginUser(formData.email, formData.password);\n          if (loginResult.success) {\n            const userData = AuthService.getUserData();\n            userToken = userData === null || userData === void 0 ? void 0 : userData.token;\n          } else {\n            setErrors({\n              password: 'Неверный пароль'\n            });\n            setLoading(false);\n            return;\n          }\n        }\n      }\n\n      // Отправка формы объявления\n      const formDataObj = new FormData();\n\n      // Добавляем файлы\n      images.forEach((image, index) => {\n        if (image) {\n          formDataObj.append(`photo${index + 1}`, image);\n        }\n      });\n\n      // Добавляем текстовые поля\n      formDataObj.append('kind', formData.petType);\n      formDataObj.append('description', formData.petDescription);\n      formDataObj.append('district', formData.petLocation);\n      formDataObj.append('name', formData.name);\n      formDataObj.append('phone', formData.phone);\n      formDataObj.append('email', formData.email);\n      formDataObj.append('confirm', formData.confirm ? 1 : 0);\n      formDataObj.append('register', formData.register ? 1 : 0);\n      if (formData.mark.trim()) {\n        formDataObj.append('mark', formData.mark);\n      }\n\n      // Если выбран режим регистрации, добавляем пароли\n      if (formData.register) {\n        formDataObj.append('password', formData.password);\n        formDataObj.append('password_confirmation', formData.password_confirmation || formData.password);\n      }\n\n      // Добавляем заголовок авторизации если есть токен\n      const config = {};\n      if (userToken) {\n        config.headers = {\n          'Authorization': `Bearer ${userToken}`\n        };\n      }\n      console.log('Отправка объявления...');\n      console.log('Авторизован:', isAuthenticated);\n      console.log('Регистрация:', formData.register);\n      const response = await ApiService.createOrder(formDataObj, config);\n      console.log('Ответ от создания объявления:', response);\n      if (response && response.data && response.data.id) {\n        setSuccessMessage('Объявление успешно создано!');\n\n        // Обработка перенаправления\n        if (formData.register) {\n          if (isNewRegistration) {\n            setSuccessMessage('Аккаунт создан и объявление успешно добавлено! Перенаправление в личный кабинет...');\n          } else {\n            setSuccessMessage('Объявление успешно добавлено и привязано к вашему аккаунту! Перенаправление в личный кабинет...');\n          }\n          setTimeout(() => {\n            navigate('/profile');\n          }, 2000);\n        } else {\n          setSuccessMessage('Анонимное объявление успешно добавлено! Перенаправление...');\n          setTimeout(() => {\n            navigate(`/pet/${response.data.id}`);\n          }, 2000);\n        }\n      } else {\n        setErrors({\n          general: 'Ошибка при создании объявления'\n        });\n      }\n    } catch (error) {\n      console.error('Create order error:', error);\n      if (error.status === 422) {\n        var _error$data, _error$data$error;\n        // Ошибки валидации с сервера\n        const serverErrors = ((_error$data = error.data) === null || _error$data === void 0 ? void 0 : (_error$data$error = _error$data.error) === null || _error$data$error === void 0 ? void 0 : _error$data$error.errors) || {};\n        const formattedErrors = {};\n        Object.keys(serverErrors).forEach(key => {\n          if (Array.isArray(serverErrors[key])) {\n            formattedErrors[key] = serverErrors[key][0];\n          } else {\n            formattedErrors[key] = serverErrors[key];\n          }\n        });\n        setErrors(formattedErrors);\n      } else {\n        setErrors({\n          general: 'Ошибка при подключении к серверу'\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const renderPasswordRequirements = () => {\n    // Показываем требования только для неавторизованных пользователей с регистрацией\n    if (!isAuthenticated && formData.register && formData.password) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password-requirements mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `requirement ${passwordRequirements.length ? 'text-success' : 'text-danger'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${passwordRequirements.length ? 'bi-check-circle' : 'bi-circle'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \\u041C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C 7 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `requirement ${passwordRequirements.lowercase ? 'text-success' : 'text-danger'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${passwordRequirements.lowercase ? 'bi-check-circle' : 'bi-circle'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \\u041E\\u0434\\u043D\\u0430 \\u0441\\u0442\\u0440\\u043E\\u0447\\u043D\\u0430\\u044F \\u0431\\u0443\\u043A\\u0432\\u0430 (a-z)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `requirement ${passwordRequirements.uppercase ? 'text-success' : 'text-danger'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${passwordRequirements.uppercase ? 'bi-check-circle' : 'bi-circle'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \\u041E\\u0434\\u043D\\u0430 \\u0437\\u0430\\u0433\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F \\u0431\\u0443\\u043A\\u0432\\u0430 (A-Z)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `requirement ${passwordRequirements.digit ? 'text-success' : 'text-danger'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `bi ${passwordRequirements.digit ? 'bi-check-circle' : 'bi-circle'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \\u041E\\u0434\\u043D\\u0430 \\u0446\\u0438\\u0444\\u0440\\u0430 (0-9)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 17\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registration-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            value: 'Новое объявление'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body p-4\",\n            children: [errors.general && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: errors.general\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 33\n            }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success\",\n              role: \"alert\",\n              children: successMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              id: \"adForm\",\n              onSubmit: handleSubmit,\n              noValidate: true,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"petType\",\n                    className: \"form-label fw-bold\",\n                    children: \"\\u0412\\u0438\\u0434 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u043E\\u0433\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: `form-control ${errors.petType ? 'is-invalid' : ''}`,\n                    id: \"petType\",\n                    value: formData.petType,\n                    onChange: e => handleInputChange('petType', e.target.value),\n                    required: true,\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 41\n                  }, this), errors.petType && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.petType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 required-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"petDescription\",\n                  className: \"form-label fw-bold\",\n                  children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: `form-control ${errors.petDescription ? 'is-invalid' : ''}`,\n                  id: \"petDescription\",\n                  rows: \"4\",\n                  value: formData.petDescription,\n                  onChange: e => handleInputChange('petDescription', e.target.value),\n                  required: true,\n                  disabled: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 37\n                }, this), errors.petDescription && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.petDescription\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"mark\",\n                  className: \"form-label fw-bold\",\n                  children: \"\\u041A\\u043B\\u0435\\u0439\\u043C\\u043E (\\u043D\\u0435\\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: `form-control ${errors.mark ? 'is-invalid' : ''}`,\n                  id: \"mark\",\n                  value: formData.mark,\n                  onChange: e => handleInputChange('mark', e.target.value),\n                  disabled: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 37\n                }, this), errors.mark && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.mark\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 required-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"petLocation\",\n                  className: \"form-label fw-bold\",\n                  children: \"\\u0420\\u0430\\u0439\\u043E\\u043D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: `form-control ${errors.petLocation ? 'is-invalid' : ''} required-field`,\n                  id: \"petLocation\",\n                  value: formData.petLocation,\n                  onChange: e => handleInputChange('petLocation', e.target.value),\n                  required: true,\n                  disabled: loading,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    disabled: true,\n                    children: \"---\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 41\n                  }, this), districts.map((district, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: district,\n                    children: district\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 45\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 37\n                }, this), errors.petLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.petLocation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-title text-center mb-4\",\n                  children: \"\\u0424\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: `form-control ${errors.photo1 ? 'is-invalid' : ''}`,\n                  id: \"petPhoto1\",\n                  accept: \"image/png, .png\",\n                  onChange: e => handleImageChange(e, 0),\n                  required: true,\n                  disabled: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 PNG.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 37\n                }, this), errors.photo1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.photo1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: `form-control ${errors.photo2 ? 'is-invalid' : ''}`,\n                  id: \"petPhoto2\",\n                  accept: \"image/png, .png\",\n                  onChange: e => handleImageChange(e, 1),\n                  disabled: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 677,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 PNG.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 37\n                }, this), errors.photo2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.photo2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  className: `form-control ${errors.photo3 ? 'is-invalid' : ''}`,\n                  id: \"petPhoto3\",\n                  accept: \"image/png, .png\",\n                  onChange: e => handleImageChange(e, 2),\n                  disabled: loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-text\",\n                  children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u0444\\u043E\\u0442\\u043E\\u0433\\u0440\\u0430\\u0444\\u0438\\u044E \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 PNG.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 37\n                }, this), errors.photo3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"invalid-feedback\",\n                  children: errors.photo3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"imagePreview\",\n                  className: \"mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: imagePreviews.map((preview, index) => preview && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-4 mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"position-relative\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: preview,\n                          className: \"preview-image img-thumbnail w-100\",\n                          alt: `Preview ${index + 1}`,\n                          style: {\n                            height: '200px',\n                            objectFit: 'cover'\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 714,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"btn btn-danger btn-sm position-absolute top-0 end-0 mt-1 me-1\",\n                          onClick: () => removeImage(index),\n                          disabled: loading,\n                          children: /*#__PURE__*/_jsxDEV(\"a\", {\n                            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 726,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 720,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 713,\n                        columnNumber: 57\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 712,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 709,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-title text-center mb-4\",\n                  children: \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"name\",\n                    className: \"form-label\",\n                    children: \"\\u0418\\u043C\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 739,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: `form-control ${errors.name ? 'is-invalid' : ''} ${isAuthenticated ? errors.name ? 'is-warning' : '' : ''}`,\n                    id: \"name\",\n                    value: formData.name,\n                    onChange: e => handleInputChange('name', e.target.value),\n                    required: true,\n                    disabled: loading || isAuthenticated,\n                    readOnly: isAuthenticated\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 41\n                  }, this), errors.name && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `invalid-feedback ${isAuthenticated ? 'text-warning' : ''}`,\n                    children: errors.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 751,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"phone\",\n                    className: \"form-label\",\n                    children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"tel\",\n                    className: `form-control ${errors.phone ? 'is-invalid' : ''}`,\n                    id: \"phone\",\n                    value: formData.phone,\n                    onChange: e => handleInputChange('phone', e.target.value),\n                    required: true,\n                    disabled: loading || isAuthenticated,\n                    readOnly: isAuthenticated\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 760,\n                    columnNumber: 41\n                  }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 771,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    className: \"form-label\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: `form-control ${errors.email ? 'is-invalid' : ''}`,\n                    id: \"email\",\n                    value: formData.email,\n                    onChange: e => handleInputChange('email', e.target.value),\n                    required: true,\n                    disabled: loading || isAuthenticated,\n                    readOnly: isAuthenticated\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 780,\n                    columnNumber: 41\n                  }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 form-check\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: `form-check-input ${errors.register ? 'is-invalid' : ''}`,\n                    type: \"checkbox\",\n                    id: \"register\",\n                    checked: formData.register,\n                    onChange: e => handleInputChange('register', e.target.checked),\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 801,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"form-check-label\",\n                    htmlFor: \"register\",\n                    children: isAuthenticated ? 'Привязать объявление к аккаунту' : 'Пройти автоматическую регистрацию'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 809,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 33\n              }, this), formData.register && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"password-fields mb-4 show\",\n                id: \"passwordFields\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field text-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"password\",\n                    className: \"form-label\",\n                    children: isAuthenticated ? 'Пароль для подтверждения' : 'Пароль для аккаунта'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: `form-control ${errors.password ? 'is-invalid' : ''}`,\n                    id: \"password\",\n                    value: formData.password,\n                    onChange: e => handleInputChange('password', e.target.value),\n                    disabled: loading,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 821,\n                    columnNumber: 45\n                  }, this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.password\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 49\n                  }, this), renderPasswordRequirements()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 817,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 required-field text-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"password_confirmation\",\n                    className: \"form-label\",\n                    children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: `form-control ${errors.password_confirmation ? 'is-invalid' : ''}`,\n                    id: \"password_confirmation\",\n                    value: formData.password_confirmation,\n                    onChange: e => handleInputChange('password_confirmation', e.target.value),\n                    disabled: loading,\n                    required: formData.register\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 841,\n                    columnNumber: 45\n                  }, this), errors.password_confirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid-feedback\",\n                    children: errors.password_confirmation\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 form-check\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check required-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: `form-check-input ${errors.confirm ? 'is-invalid' : ''}`,\n                    type: \"checkbox\",\n                    id: \"confirm\",\n                    checked: formData.confirm,\n                    onChange: e => handleInputChange('confirm', e.target.checked),\n                    required: true,\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"confirmError\",\n                    className: \"invalid-feedback\",\n                    children: errors.confirm\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 871,\n                    columnNumber: 41\n                  }, this), \"\\u042F \\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D \\u0441 \", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    className: \"text-decoration-none\",\n                    children: \"\\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F\\u043C\\u0438 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 54\n                  }, this), \" \\u0438\", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    className: \"text-decoration-none\",\n                    children: \" \\u043F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 873,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-grid mb-3\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-success btn-lg button-css\",\n                  disabled: loading,\n                  style: {\n                    backgroundColor: 'rgb(91, 160, 74)',\n                    borderColor: 'rgb(91, 160, 74)',\n                    color: 'white'\n                  },\n                  onMouseEnter: e => {\n                    e.target.style.backgroundColor = 'rgb(66, 124, 51)';\n                    e.target.style.borderColor = 'rgb(66, 124, 51)';\n                  },\n                  onMouseLeave: e => {\n                    e.target.style.backgroundColor = 'rgb(91, 160, 74)';\n                    e.target.style.borderColor = 'rgb(91, 160, 74)';\n                  },\n                  children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"spinner-border spinner-border-sm me-1\",\n                      role: \"status\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 49\n                    }, this), \"\\u041F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F...\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: formData.register ? isAuthenticated ? 'Опубликовать и привязать к аккаунту' : 'Опубликовать и зарегистрироваться' : 'Опубликовать анонимно'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 903,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LogoutModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 922,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 552,\n    columnNumber: 9\n  }, this);\n};\n_s(Addob, \"1qqUTISg2UH2Gs6z294JP5ElUYk=\", false, function () {\n  return [useNavigate];\n});\n_c = Addob;\nexport default Addob;\nvar _c;\n$RefreshReg$(_c, \"Addob\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Header","Footer","LogoutModal","ApiService","AuthService","validateField","Text","jsxDEV","_jsxDEV","Fragment","_Fragment","Addob","_s","navigate","isAuthenticated","setIsAuthenticated","userName","setUserName","formData","setFormData","petType","petDescription","mark","petLocation","name","phone","email","register","password","password_confirmation","confirm","images","setImages","imagePreviews","setImagePreviews","errors","setErrors","loading","setLoading","successMessage","setSuccessMessage","districts","passwordRequirements","setPasswordRequirements","length","lowercase","uppercase","digit","checkAuthAndLoadData","authStatus","userData","getUserData","cleanName","replace","prev","window","addEventListener","removeEventListener","newRequirements","test","validateName","isAutoFilled","trim","validatePhone","validatePassword","pwd","validateForm","newErrors","photo1","emailValidation","isValid","message","handleInputChange","field","value","handleImageChange","e","index","file","target","files","type","size","newImages","reader","FileReader","onload","newPreviews","result","readAsDataURL","removeImage","registerUser","response","data","success","_response$error","_response$error2","_response$error3","errorMessage","error","serverErrors","console","loginUser","login","token","_response$error4","errorMsg","handleSubmit","preventDefault","validationErrors","Object","keys","userToken","isNewRegistration","registrationResult","includes","loginResult","_loginResult$userData","id","general","_loginResult$userData2","formDataObj","FormData","forEach","image","append","config","headers","log","createOrder","setTimeout","status","_error$data","_error$data$error","formattedErrors","key","Array","isArray","renderPasswordRequirements","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onSubmit","noValidate","htmlFor","onChange","required","disabled","rows","map","district","accept","photo2","photo3","preview","src","alt","style","height","objectFit","onClick","readOnly","checked","href","backgroundColor","borderColor","color","onMouseEnter","onMouseLeave","_c","$RefreshReg$"],"sources":["C:/Users/1874-23/Desktop/getpetback/src/pages/addob.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport LogoutModal from '../components/logout-modal';\r\nimport ApiService from '../services/api';\r\nimport AuthService from '../services/AuthService';\r\nimport { validateField } from '../utils/validation';\r\nimport Text from '../components/Text';\r\n\r\nconst Addob = () => {\r\n    const navigate = useNavigate();\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [userName, setUserName] = useState('');\r\n    const [formData, setFormData] = useState({\r\n        petType: '',\r\n        petDescription: '',\r\n        mark: '',\r\n        petLocation: '',\r\n        name: '',\r\n        phone: '',\r\n        email: '',\r\n        register: false,\r\n        password: '',\r\n        password_confirmation: '',\r\n        confirm: false\r\n    });\r\n    const [images, setImages] = useState([null, null, null]);\r\n    const [imagePreviews, setImagePreviews] = useState([]);\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [districts] = useState([\r\n        'Адмиралтейский район',\r\n        'Василеостровский район',\r\n        'Выборгский район',\r\n        'Калининский район',\r\n        'Кировский район',\r\n        'Колпинский район',\r\n        'Красногвардейский район',\r\n        'Красносельский район',\r\n        'Кронштадтский район',\r\n        'Курортный район',\r\n        'Московский район',\r\n        'Невский район',\r\n        'Петроградский район',\r\n        'Петродворцовый район',\r\n        'Приморский район',\r\n        'Пушкинский район',\r\n        'Фрунзенский район',\r\n        'Центральный район'\r\n    ]);\r\n\r\n    // Добавлены новые состояния из кода 2\r\n    const [passwordRequirements, setPasswordRequirements] = useState({\r\n        length: false,\r\n        lowercase: false,\r\n        uppercase: false,\r\n        digit: false\r\n    });\r\n\r\n    // Проверка авторизации и загрузка данных пользователя\r\n    useEffect(() => {\r\n        const checkAuthAndLoadData = () => {\r\n            const authStatus = AuthService.isAuthenticated();\r\n            setIsAuthenticated(authStatus);\r\n\r\n            if (authStatus) {\r\n                const userData = AuthService.getUserData();\r\n                if (userData) {\r\n                    const cleanName = userData.name ? userData.name.replace(/[^А-Яа-яЁё\\s-]/g, '') : '';\r\n                    setUserName(userData.name || '');\r\n                    setFormData(prev => ({\r\n                        ...prev,\r\n                        name: cleanName || userData.name || '',\r\n                        phone: userData.phone || '',\r\n                        email: userData.email || '',\r\n                        // Для авторизованных автоматически включаем \"сохранение в личном кабинете\"\r\n                        register: true\r\n                    }));\r\n                }\r\n            }\r\n        };\r\n\r\n        checkAuthAndLoadData();\r\n\r\n        window.addEventListener('authChange', checkAuthAndLoadData);\r\n        window.addEventListener('userDataUpdate', checkAuthAndLoadData);\r\n\r\n        return () => {\r\n            window.removeEventListener('authChange', checkAuthAndLoadData);\r\n            window.removeEventListener('userDataUpdate', checkAuthAndLoadData);\r\n        };\r\n    }, []);\r\n\r\n    // Проверка требований к паролю при изменении\r\n    useEffect(() => {\r\n        if (formData.password) {\r\n            const newRequirements = {\r\n                length: formData.password.length >= 7,\r\n                lowercase: /[a-z]/.test(formData.password),\r\n                uppercase: /[A-Z]/.test(formData.password),\r\n                digit: /\\d/.test(formData.password)\r\n            };\r\n            setPasswordRequirements(newRequirements);\r\n        }\r\n    }, [formData.password]);\r\n\r\n    // Валидация имени с поддержкой автозаполнения\r\n    const validateName = (name, isAutoFilled = false) => {\r\n        if (!name.trim()) return false;\r\n        if (isAutoFilled) return true;\r\n        return /^[А-Яа-яЁё\\s-]+$/.test(name);\r\n    };\r\n\r\n    // Валидация телефона\r\n    const validatePhone = (phone) => /^\\+?[0-9\\s\\-()]+$/.test(phone);\r\n\r\n    // Валидация пароля\r\n    const validatePassword = (pwd) => /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{7,}$/.test(pwd);\r\n\r\n    // Валидация формы (улучшенная версия с кодом 2)\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n\r\n        // Проверка обязательных полей\r\n        if (!formData.petType.trim()) {\r\n            newErrors.petType = 'Укажите вид животного';\r\n        }\r\n\r\n        if (!formData.petDescription.trim()) {\r\n            newErrors.petDescription = 'Введите описание';\r\n        } else if (formData.petDescription.length < 10 || formData.petDescription.length > 500) {\r\n            newErrors.petDescription = 'Описание должно содержать от 10 до 500 символов';\r\n        }\r\n\r\n        if (!formData.petLocation) {\r\n            newErrors.petLocation = 'Выберите район';\r\n        }\r\n\r\n        if (!images[0]) {\r\n            newErrors.photo1 = 'Добавьте хотя бы одну фотографию';\r\n        }\r\n\r\n        if (!formData.name.trim()) {\r\n            newErrors.name = 'Введите ваше имя';\r\n        } else if (!validateName(formData.name, isAuthenticated)) {\r\n            if (isAuthenticated) {\r\n                newErrors.name = 'Имя содержит некириллические символы. Рекомендуется исправить.';\r\n            } else {\r\n                newErrors.name = 'Имя должно содержать только кириллицу, пробелы и дефисы';\r\n            }\r\n        }\r\n\r\n        if (!formData.phone.trim()) {\r\n            newErrors.phone = 'Введите телефон';\r\n        } else if (!validatePhone(formData.phone)) {\r\n            newErrors.phone = 'Телефон должен содержать только цифры';\r\n        }\r\n\r\n        if (!formData.email.trim()) {\r\n            newErrors.email = 'Введите email';\r\n        } else {\r\n            const emailValidation = validateField('email', formData.email);\r\n            if (!emailValidation.isValid) {\r\n                newErrors.email = emailValidation.message;\r\n            }\r\n        }\r\n\r\n        // Валидация клейма (если заполнено)\r\n        if (formData.mark.trim() && !/^[A-Za-z0-9-]+$/.test(formData.mark)) {\r\n            newErrors.mark = 'Номер клейма/чипа может содержать только латинские буквы, цифры и дефисы';\r\n        }\r\n\r\n        // Валидация пароля ТОЛЬКО для НЕавторизованных пользователей С регистрацией\r\n        if (!isAuthenticated && formData.register) {\r\n            if (!formData.password.trim()) {\r\n                newErrors.password = 'Введите пароль';\r\n            } else if (!validatePassword(formData.password)) {\r\n                newErrors.password = 'Пароль должен содержать минимум 7 символов, включая 1 цифру, 1 строчную и 1 заглавную букву';\r\n            }\r\n\r\n            if (!formData.password_confirmation.trim()) {\r\n                newErrors.password_confirmation = 'Подтвердите пароль';\r\n            } else if (formData.password !== formData.password_confirmation) {\r\n                newErrors.password_confirmation = 'Пароли не совпадают';\r\n            }\r\n        }\r\n\r\n        // Валидация пароля для авторизованных пользователей с регистрацией\r\n        if (isAuthenticated && formData.register) {\r\n            if (!formData.password.trim()) {\r\n                newErrors.password = 'Введите пароль для подтверждения';\r\n            }\r\n        }\r\n\r\n        // Согласие на обработку данных\r\n        if (!formData.confirm) {\r\n            newErrors.confirm = 'Необходимо согласие на обработку персональных данных';\r\n        }\r\n\r\n        return newErrors;\r\n    };\r\n\r\n    const handleInputChange = (field, value) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [field]: value\r\n        }));\r\n\r\n        // Очищаем ошибку при изменении поля\r\n        if (errors[field]) {\r\n            setErrors(prev => {\r\n                const newErrors = { ...prev };\r\n                delete newErrors[field];\r\n                return newErrors;\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleImageChange = (e, index) => {\r\n        const file = e.target.files[0];\r\n\r\n        if (!file) return;\r\n\r\n        // Проверяем формат файла (только PNG)\r\n        if (file.type !== 'image/jpeg') {\r\n            setErrors(prev => ({\r\n                ...prev,\r\n                [`photo${index + 1}`]: 'Формат файла должен быть PNG'\r\n            }));\r\n            return;\r\n        }\r\n\r\n        // Проверяем размер файла (максимум 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n            setErrors(prev => ({\r\n                ...prev,\r\n                [`photo${index + 1}`]: 'Размер файла не должен превышать 5MB'\r\n            }));\r\n            return;\r\n        }\r\n\r\n        const newImages = [...images];\r\n        newImages[index] = file;\r\n        setImages(newImages);\r\n\r\n        // Создаем превью\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            const newPreviews = [...imagePreviews];\r\n            newPreviews[index] = e.target.result;\r\n            setImagePreviews(newPreviews);\r\n        };\r\n        reader.readAsDataURL(file);\r\n\r\n        // Очищаем ошибку\r\n        if (errors[`photo${index + 1}`]) {\r\n            setErrors(prev => {\r\n                const newErrors = { ...prev };\r\n                delete newErrors[`photo${index + 1}`];\r\n                return newErrors;\r\n            });\r\n        }\r\n    };\r\n\r\n    const removeImage = (index) => {\r\n        const newImages = [...images];\r\n        newImages[index] = null;\r\n        setImages(newImages);\r\n\r\n        const newPreviews = [...imagePreviews];\r\n        newPreviews[index] = null;\r\n        setImagePreviews(newPreviews);\r\n    };\r\n\r\n    // Функция регистрации пользователя из кода 2\r\n    const registerUser = async (userData) => {\r\n        try {\r\n            const response = await ApiService.register({\r\n                name: userData.name,\r\n                phone: userData.phone,\r\n                email: userData.email,\r\n                password: userData.password,\r\n                password_confirmation: userData.password_confirmation,\r\n                confirm: 1\r\n            });\r\n\r\n            if (response && response.data) {\r\n                return { success: true, data: response.data };\r\n            } else {\r\n                let errorMessage = 'Ошибка регистрации';\r\n\r\n                if (response.error?.errors) {\r\n                    const serverErrors = response.error.errors;\r\n                    for (const field in serverErrors) {\r\n                        if (serverErrors[field] && serverErrors[field][0]) {\r\n                            errorMessage = serverErrors[field][0];\r\n                            break;\r\n                        }\r\n                    }\r\n                } else if (response.error?.message) {\r\n                    errorMessage = response.error.message;\r\n                }\r\n\r\n                return {\r\n                    success: false,\r\n                    error: errorMessage,\r\n                    errors: response.error?.errors || {}\r\n                };\r\n            }\r\n        } catch (error) {\r\n            console.error('Ошибка при регистрации пользователя:', error);\r\n            return { success: false, error: 'Сетевая ошибка' };\r\n        }\r\n    };\r\n\r\n    // Функция входа пользователя из кода 2\r\n    const loginUser = async (email, password) => {\r\n        try {\r\n            const response = await ApiService.login(email, password);\r\n\r\n            if (response && response.data && response.data.token) {\r\n                return {\r\n                    success: true,\r\n                    token: response.data.token,\r\n                    userData: response.data\r\n                };\r\n            } else {\r\n                const errorMsg = response?.error?.message || 'Ошибка входа';\r\n                return { success: false, error: errorMsg };\r\n            }\r\n        } catch (error) {\r\n            console.error('Ошибка при входе:', error);\r\n            return { success: false, error: 'Сетевая ошибка' };\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const validationErrors = validateForm();\r\n        if (Object.keys(validationErrors).length > 0) {\r\n            setErrors(validationErrors);\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setErrors({});\r\n        setSuccessMessage('');\r\n\r\n        try {\r\n            let userToken = null;\r\n            let isNewRegistration = false;\r\n            \r\n            // Логика регистрации/входа из кода 2\r\n            if (formData.register) {\r\n                if (!isAuthenticated) {\r\n                    // Попытка регистрации нового пользователя\r\n                    const registrationResult = await registerUser({\r\n                        name: formData.name,\r\n                        phone: formData.phone,\r\n                        email: formData.email,\r\n                        password: formData.password,\r\n                        password_confirmation: formData.password_confirmation\r\n                    });\r\n\r\n                    if (!registrationResult.success) {\r\n                        // Если email уже занят, пробуем войти\r\n                        if (registrationResult.error.includes('email has already been taken') ||\r\n                            registrationResult.error.includes('email уже занят')) {\r\n\r\n                            const loginResult = await loginUser(formData.email, formData.password);\r\n\r\n                            if (loginResult.success) {\r\n                                userToken = loginResult.token;\r\n                                AuthService.login(userToken, {\r\n                                    email: formData.email,\r\n                                    name: formData.name,\r\n                                    phone: formData.phone,\r\n                                    id: loginResult.userData?.id\r\n                                });\r\n                            } else {\r\n                                setErrors({ password: 'Введите правильный пароль для этого аккаунта' });\r\n                                setLoading(false);\r\n                                return;\r\n                            }\r\n                        } else {\r\n                            setErrors({ general: `Ошибка регистрации: ${registrationResult.error}` });\r\n                            setLoading(false);\r\n                            return;\r\n                        }\r\n                    } else {\r\n                        // Регистрация успешна, пробуем войти\r\n                        const loginResult = await loginUser(formData.email, formData.password);\r\n\r\n                        if (loginResult.success) {\r\n                            userToken = loginResult.token;\r\n                            AuthService.login(userToken, {\r\n                                email: formData.email,\r\n                                name: formData.name,\r\n                                phone: formData.phone,\r\n                                id: loginResult.userData?.id\r\n                            });\r\n\r\n                            isNewRegistration = true;\r\n                        } else {\r\n                            setErrors({ general: `Регистрация прошла, но вход не удался: ${loginResult.error}` });\r\n                            setLoading(false);\r\n                            return;\r\n                        }\r\n                    }\r\n                } else {\r\n                    // Авторизованный пользователь - проверяем пароль\r\n                    const loginResult = await loginUser(formData.email, formData.password);\r\n\r\n                    if (loginResult.success) {\r\n                        const userData = AuthService.getUserData();\r\n                        userToken = userData?.token;\r\n                    } else {\r\n                        setErrors({ password: 'Неверный пароль' });\r\n                        setLoading(false);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Отправка формы объявления\r\n            const formDataObj = new FormData();\r\n\r\n            // Добавляем файлы\r\n            images.forEach((image, index) => {\r\n                if (image) {\r\n                    formDataObj.append(`photo${index + 1}`, image);\r\n                }\r\n            });\r\n\r\n            // Добавляем текстовые поля\r\n            formDataObj.append('kind', formData.petType);\r\n            formDataObj.append('description', formData.petDescription);\r\n            formDataObj.append('district', formData.petLocation);\r\n            formDataObj.append('name', formData.name);\r\n            formDataObj.append('phone', formData.phone);\r\n            formDataObj.append('email', formData.email);\r\n            formDataObj.append('confirm', formData.confirm ? 1 : 0);\r\n            formDataObj.append('register', formData.register ? 1 : 0);\r\n\r\n            if (formData.mark.trim()) {\r\n                formDataObj.append('mark', formData.mark);\r\n            }\r\n\r\n            // Если выбран режим регистрации, добавляем пароли\r\n            if (formData.register) {\r\n                formDataObj.append('password', formData.password);\r\n                formDataObj.append('password_confirmation', formData.password_confirmation || formData.password);\r\n            }\r\n\r\n            // Добавляем заголовок авторизации если есть токен\r\n            const config = {};\r\n            if (userToken) {\r\n                config.headers = {\r\n                    'Authorization': `Bearer ${userToken}`\r\n                };\r\n            }\r\n\r\n            console.log('Отправка объявления...');\r\n            console.log('Авторизован:', isAuthenticated);\r\n            console.log('Регистрация:', formData.register);\r\n\r\n            const response = await ApiService.createOrder(formDataObj, config);\r\n\r\n            console.log('Ответ от создания объявления:', response);\r\n\r\n            if (response && response.data && response.data.id) {\r\n                setSuccessMessage('Объявление успешно создано!');\r\n\r\n                // Обработка перенаправления\r\n                if (formData.register) {\r\n                    if (isNewRegistration) {\r\n                        setSuccessMessage('Аккаунт создан и объявление успешно добавлено! Перенаправление в личный кабинет...');\r\n                    } else {\r\n                        setSuccessMessage('Объявление успешно добавлено и привязано к вашему аккаунту! Перенаправление в личный кабинет...');\r\n                    }\r\n\r\n                    setTimeout(() => {\r\n                        navigate('/profile');\r\n                    }, 2000);\r\n                } else {\r\n                    setSuccessMessage('Анонимное объявление успешно добавлено! Перенаправление...');\r\n                    setTimeout(() => {\r\n                        navigate(`/pet/${response.data.id}`);\r\n                    }, 2000);\r\n                }\r\n\r\n            } else {\r\n                setErrors({ general: 'Ошибка при создании объявления' });\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Create order error:', error);\r\n\r\n            if (error.status === 422) {\r\n                // Ошибки валидации с сервера\r\n                const serverErrors = error.data?.error?.errors || {};\r\n                const formattedErrors = {};\r\n\r\n                Object.keys(serverErrors).forEach(key => {\r\n                    if (Array.isArray(serverErrors[key])) {\r\n                        formattedErrors[key] = serverErrors[key][0];\r\n                    } else {\r\n                        formattedErrors[key] = serverErrors[key];\r\n                    }\r\n                });\r\n\r\n                setErrors(formattedErrors);\r\n            } else {\r\n                setErrors({ general: 'Ошибка при подключении к серверу' });\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderPasswordRequirements = () => {\r\n        // Показываем требования только для неавторизованных пользователей с регистрацией\r\n        if (!isAuthenticated && formData.register && formData.password) {\r\n            return (\r\n                <div className=\"password-requirements mt-2\">\r\n                    <div className={`requirement ${passwordRequirements.length ? 'text-success' : 'text-danger'}`}>\r\n                        <i className={`bi ${passwordRequirements.length ? 'bi-check-circle' : 'bi-circle'}`}></i>\r\n                        <span> Минимум 7 символов</span>\r\n                    </div>\r\n                    <div className={`requirement ${passwordRequirements.lowercase ? 'text-success' : 'text-danger'}`}>\r\n                        <i className={`bi ${passwordRequirements.lowercase ? 'bi-check-circle' : 'bi-circle'}`}></i>\r\n                        <span> Одна строчная буква (a-z)</span>\r\n                    </div>\r\n                    <div className={`requirement ${passwordRequirements.uppercase ? 'text-success' : 'text-danger'}`}>\r\n                        <i className={`bi ${passwordRequirements.uppercase ? 'bi-check-circle' : 'bi-circle'}`}></i>\r\n                        <span> Одна заглавная буква (A-Z)</span>\r\n                    </div>\r\n                    <div className={`requirement ${passwordRequirements.digit ? 'text-success' : 'text-danger'}`}>\r\n                        <i className={`bi ${passwordRequirements.digit ? 'bi-check-circle' : 'bi-circle'}`}></i>\r\n                        <span> Одна цифра (0-9)</span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n\r\n            <div className=\"registration-container\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body p-4\">\r\n                        <br />\r\n                        <Text value={'Новое объявление'} />\r\n                        <div className=\"card-body p-4\">\r\n\r\n                            {/* Сообщения об ошибках и успехе */}\r\n                            {errors.general && (\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    {errors.general}\r\n                                </div>\r\n                            )}\r\n\r\n                            {successMessage && (\r\n                                <div className=\"alert alert-success\" role=\"alert\">\r\n                                    {successMessage}\r\n                                </div>\r\n                            )}\r\n\r\n\r\n\r\n                            <form id=\"adForm\" onSubmit={handleSubmit} noValidate>\r\n                                <div className=\"row\">\r\n                                    <div className=\"mb-3 required-field\">\r\n                                        <label htmlFor=\"petType\" className=\"form-label fw-bold\">Вид животного</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className={`form-control ${errors.petType ? 'is-invalid' : ''}`}\r\n                                            id=\"petType\"\r\n                                            value={formData.petType}\r\n                                            onChange={(e) => handleInputChange('petType', e.target.value)}\r\n                                            required\r\n                                            disabled={loading}\r\n                                        />\r\n                                        {errors.petType && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                                {errors.petType}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mb-3 required-field\">\r\n                                    <label htmlFor=\"petDescription\" className=\"form-label fw-bold\">Описание</label>\r\n                                    <textarea\r\n                                        className={`form-control ${errors.petDescription ? 'is-invalid' : ''}`}\r\n                                        id=\"petDescription\"\r\n                                        rows=\"4\"\r\n                                        value={formData.petDescription}\r\n                                        onChange={(e) => handleInputChange('petDescription', e.target.value)}\r\n                                        required\r\n                                        disabled={loading}\r\n                                    ></textarea>\r\n                                    {errors.petDescription && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.petDescription}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                </div>\r\n\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"mark\" className=\"form-label fw-bold\">Клеймо (необязательно)</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className={`form-control ${errors.mark ? 'is-invalid' : ''}`}\r\n                                        id=\"mark\"\r\n                                        value={formData.mark}\r\n                                        onChange={(e) => handleInputChange('mark', e.target.value)}\r\n                                        disabled={loading}\r\n\r\n                                    />\r\n                                    {errors.mark && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.mark}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"mb-3 required-field\">\r\n                                    <label htmlFor=\"petLocation\" className=\"form-label fw-bold\">Район</label>\r\n                                    <select\r\n                                        className={`form-control ${errors.petLocation ? 'is-invalid' : ''} required-field`}\r\n                                        id=\"petLocation\"\r\n                                        value={formData.petLocation}\r\n                                        onChange={(e) => handleInputChange('petLocation', e.target.value)}\r\n                                        required\r\n                                        disabled={loading}\r\n                                    >\r\n                                        <option value=\"\" disabled>---</option>\r\n                                        {districts.map((district, index) => (\r\n                                            <option key={index} value={district}>\r\n                                                {district}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                    {errors.petLocation && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.petLocation}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"mb-4\">\r\n                                    <h3 className=\"card-title text-center mb-4\">Фотографии</h3>\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        className={`form-control ${errors.photo1 ? 'is-invalid' : ''}`}\r\n                                        id=\"petPhoto1\"\r\n                                        accept=\"image/png, .png\"\r\n                                        onChange={(e) => handleImageChange(e, 0)}\r\n                                        required\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <div className=\"form-text\">Загрузите фотографию в формате PNG.</div>\r\n                                    {errors.photo1 && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.photo1}\r\n                                        </div>\r\n                                    )}\r\n                                    <p />\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        className={`form-control ${errors.photo2 ? 'is-invalid' : ''}`}\r\n                                        id=\"petPhoto2\"\r\n                                        accept=\"image/png, .png\"\r\n                                        onChange={(e) => handleImageChange(e, 1)}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <div className=\"form-text\">Загрузите фотографию в формате PNG.</div>\r\n                                    {errors.photo2 && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.photo2}\r\n                                        </div>\r\n                                    )}\r\n                                    <p />\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        className={`form-control ${errors.photo3 ? 'is-invalid' : ''}`}\r\n                                        id=\"petPhoto3\"\r\n                                        accept=\"image/png, .png\"\r\n                                        onChange={(e) => handleImageChange(e, 2)}\r\n                                        disabled={loading}\r\n                                    />\r\n                                    <div className=\"form-text\">Загрузите фотографию в формате PNG.</div>\r\n                                    {errors.photo3 && (\r\n                                        <div className=\"invalid-feedback\">\r\n                                            {errors.photo3}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Превью изображений */}\r\n                                    <div id=\"imagePreview\" className=\"mt-3\">\r\n                                        <div className=\"row\">\r\n                                            {imagePreviews.map((preview, index) => (\r\n                                                preview && (\r\n                                                    <div key={index} className=\"col-md-4 mb-3\">\r\n                                                        <div className=\"position-relative\">\r\n                                                            <img\r\n                                                                src={preview}\r\n                                                                className=\"preview-image img-thumbnail w-100\"\r\n                                                                alt={`Preview ${index + 1}`}\r\n                                                                style={{ height: '200px', objectFit: 'cover' }}\r\n                                                            />\r\n                                                            <button\r\n                                                                type=\"button\"\r\n                                                                className=\"btn btn-danger btn-sm position-absolute top-0 end-0 mt-1 me-1\"\r\n                                                                onClick={() => removeImage(index)}\r\n                                                                disabled={loading}\r\n                                                            >\r\n                                                                <a>Удалить</a>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mb-4\">\r\n                                    <h3 className=\"card-title text-center mb-4\">Контактная информация</h3>\r\n                                    <div className=\"mb-3 required-field\">\r\n                                        <label htmlFor=\"name\" className=\"form-label\">Имя</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className={`form-control ${errors.name ? 'is-invalid' : ''} ${isAuthenticated ? (errors.name ? 'is-warning' : '') : ''}`}\r\n                                            id=\"name\"\r\n                                            value={formData.name}\r\n                                            onChange={(e) => handleInputChange('name', e.target.value)}\r\n                                            required\r\n                                            disabled={loading || isAuthenticated}\r\n                                            readOnly={isAuthenticated}\r\n                                        />\r\n                                        {errors.name && (\r\n                                            <div className={`invalid-feedback ${isAuthenticated ? 'text-warning' : ''}`}>\r\n                                                {errors.name}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"mb-3 required-field\">\r\n                                        <label htmlFor=\"phone\" className=\"form-label\">Телефон</label>\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            className={`form-control ${errors.phone ? 'is-invalid' : ''}`}\r\n                                            id=\"phone\"\r\n                                            value={formData.phone}\r\n                                            onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                                            required\r\n                                            disabled={loading || isAuthenticated}\r\n                                            readOnly={isAuthenticated}\r\n                                        />\r\n                                        {errors.phone && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                                {errors.phone}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                    </div>\r\n\r\n                                    <div className=\"mb-3 required-field\">\r\n                                        <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            className={`form-control ${errors.email ? 'is-invalid' : ''}`}\r\n                                            id=\"email\"\r\n                                            value={formData.email}\r\n                                            onChange={(e) => handleInputChange('email', e.target.value)}\r\n                                            required\r\n                                            disabled={loading || isAuthenticated}\r\n                                            readOnly={isAuthenticated}\r\n                                        />\r\n                                        {errors.email && (\r\n                                            <div className=\"invalid-feedback\">\r\n                                                {errors.email}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Чекбокс регистрации */}\r\n                                <div className=\"mb-4 form-check\">\r\n                                    <div className=\"form-check\">\r\n                                        <input\r\n                                            className={`form-check-input ${errors.register ? 'is-invalid' : ''}`}\r\n                                            type=\"checkbox\"\r\n                                            id=\"register\"\r\n                                            checked={formData.register}\r\n                                            onChange={(e) => handleInputChange('register', e.target.checked)}\r\n                                            disabled={loading}\r\n                                        />\r\n                                        <label className=\"form-check-label\" htmlFor=\"register\">\r\n                                            {isAuthenticated ? 'Привязать объявление к аккаунту' : 'Пройти автоматическую регистрацию'}\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {formData.register && (\r\n                                    <div className=\"password-fields mb-4 show\" id=\"passwordFields\">\r\n                                        <div className=\"mb-3 required-field text-start\">\r\n                                            <label htmlFor=\"password\" className=\"form-label\">\r\n                                                {isAuthenticated ? 'Пароль для подтверждения' : 'Пароль для аккаунта'}\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"password\"\r\n                                                className={`form-control ${errors.password ? 'is-invalid' : ''}`}\r\n                                                id=\"password\"\r\n                                                value={formData.password}\r\n                                                onChange={(e) => handleInputChange('password', e.target.value)}\r\n                                                disabled={loading}\r\n                                                required\r\n\r\n                                            />\r\n                                            {errors.password && (\r\n                                                <div className=\"invalid-feedback\">\r\n                                                    {errors.password}\r\n                                                </div>\r\n                                            )}\r\n                                            {renderPasswordRequirements()}\r\n                                        </div>\r\n\r\n                                        <div className=\"mb-3 required-field text-start\">\r\n                                            <label htmlFor=\"password_confirmation\" className=\"form-label\">Подтверждение пароля</label>\r\n                                            <input\r\n                                                type=\"password\"\r\n                                                className={`form-control ${errors.password_confirmation ? 'is-invalid' : ''}`}\r\n                                                id=\"password_confirmation\"\r\n                                                value={formData.password_confirmation}\r\n                                                onChange={(e) => handleInputChange('password_confirmation', e.target.value)}\r\n                                                disabled={loading}\r\n                                                required={formData.register}\r\n\r\n                                            />\r\n                                            {errors.password_confirmation && (\r\n                                                <div className=\"invalid-feedback\">\r\n                                                    {errors.password_confirmation}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"mb-4 form-check\">\r\n                                    <div className=\"form-check required-field\">\r\n                                        <input\r\n                                            className={`form-check-input ${errors.confirm ? 'is-invalid' : ''}`}\r\n                                            type=\"checkbox\"\r\n                                            id=\"confirm\"\r\n                                            checked={formData.confirm}\r\n                                            onChange={(e) => handleInputChange('confirm', e.target.checked)}\r\n                                            required\r\n                                            disabled={loading}\r\n                                        />\r\n                                        <div id=\"confirmError\" className=\"invalid-feedback\">{errors.confirm}</div>\r\n                                        Я согласен с <a href=\"#\" className=\"text-decoration-none\">условиями использования</a> и\r\n                                        <a href=\"#\" className=\"text-decoration-none\"> политикой конфиденциальности</a>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"d-grid mb-3\">\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"btn btn-success btn-lg button-css\"\r\n                                        disabled={loading}\r\n                                        style={{\r\n                                            backgroundColor: 'rgb(91, 160, 74)',\r\n                                            borderColor: 'rgb(91, 160, 74)',\r\n                                            color: 'white'\r\n                                        }}\r\n                                        onMouseEnter={(e) => {\r\n                                            e.target.style.backgroundColor = 'rgb(66, 124, 51)';\r\n                                            e.target.style.borderColor = 'rgb(66, 124, 51)';\r\n                                        }}\r\n                                        onMouseLeave={(e) => {\r\n                                            e.target.style.backgroundColor = 'rgb(91, 160, 74)';\r\n                                            e.target.style.borderColor = 'rgb(91, 160, 74)';\r\n                                        }}\r\n                                    >\r\n                                        {loading ? (\r\n                                            <>\r\n                                                <span className=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                                Публикация...\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <small>\r\n                                                    {formData.register\r\n                                                        ? (isAuthenticated\r\n                                                            ? 'Опубликовать и привязать к аккаунту'\r\n                                                            : 'Опубликовать и зарегистрироваться')\r\n                                                        : 'Опубликовать анонимно'\r\n                                                    }\r\n                                                </small>\r\n                                            </>\r\n                                        )}\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n            <LogoutModal />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Addob;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}