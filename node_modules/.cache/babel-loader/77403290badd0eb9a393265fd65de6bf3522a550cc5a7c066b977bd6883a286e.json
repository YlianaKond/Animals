{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1874-23\\\\Desktop\\\\getpetback\\\\src\\\\pages\\\\Main.jsx\",\n  _s = $RefreshSig$();\n// src/pages/main.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom'; // Добавляем useNavigate\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport NewsletterSection from '../components/newletter-section';\nimport LogoutModal from '../components/logout-modal';\nimport QuickSearch from '../components/quick-search';\nimport ApiService from '../services/api';\nimport AuthService from '../services/AuthService';\nimport placeholderImage from '../assets/images/placeholder.svg';\nimport Text from '../components/Text';\nimport dateIcon from '../assets/images/icon_calendary.png';\nimport geoIcon from '../assets/images/icon_district.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Main = () => {\n  _s();\n  const [sliderPets, setSliderPets] = useState([]);\n  const [recentPets, setRecentPets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchSuggestions, setSearchSuggestions] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showSlider, setShowSlider] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userName, setUserName] = useState('');\n\n  // Добавляем состояния из второго кода\n  const [quickSearchQuery, setQuickSearchQuery] = useState(''); // Состояние для быстрого поиска\n  const navigate = useNavigate(); // Добавляем навигацию\n\n  // Проверка авторизации (логика из первого кода)\n  useEffect(() => {\n    const checkAuth = () => {\n      const authStatus = AuthService.isAuthenticated();\n      setIsAuthenticated(authStatus);\n      setUserName(AuthService.getUserName());\n    };\n    checkAuth();\n\n    // Подписываемся на события изменения авторизации\n    window.addEventListener('authChange', checkAuth);\n    window.addEventListener('userDataUpdate', checkAuth);\n    return () => {\n      window.removeEventListener('authChange', checkAuth);\n      window.removeEventListener('userDataUpdate', checkAuth);\n    };\n  }, []);\n\n  // Загрузка данных для слайдера и последних найденных животных\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n\n        // Загрузка слайдера\n        const sliderResponse = await ApiService.getPetsSlider();\n        if (sliderResponse && sliderResponse.data && sliderResponse.data.pets) {\n          const pets = sliderResponse.data.pets;\n          setSliderPets(pets);\n          setShowSlider(pets.length > 0);\n        } else {\n          var _emptyResponse$data;\n          // Если нет данных, пробуем получить пустой массив\n          const emptyResponse = await ApiService.getPetsSlider(true);\n          setSliderPets((emptyResponse === null || emptyResponse === void 0 ? void 0 : (_emptyResponse$data = emptyResponse.data) === null || _emptyResponse$data === void 0 ? void 0 : _emptyResponse$data.pets) || []);\n          setShowSlider(false);\n        }\n\n        // Загрузка последних найденных животных\n        const recentResponse = await ApiService.getRecentPets();\n        if (recentResponse && recentResponse.data && recentResponse.data.orders) {\n          // Сортируем по дате\n          const sortedPets = recentResponse.data.orders.sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 6);\n          setRecentPets(sortedPets);\n        }\n      } catch (error) {\n        console.error('Ошибка при загрузке данных:', error);\n        setShowSlider(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  // Debounce поиск для подсказок (исправленная версия)\n  useEffect(() => {\n    if (quickSearchQuery.length > 2) {\n      const timer = setTimeout(async () => {\n        try {\n          const response = await ApiService.searchOrders({});\n          if (response && response.data && response.data.orders) {\n            const allOrders = response.data.orders;\n            const queryLower = quickSearchQuery.toLowerCase();\n\n            // Ищем совпадения в описании\n            const matchedOrders = allOrders.filter(order => {\n              const description = order.description || '';\n              return description.toLowerCase().includes(queryLower);\n            }).slice(0, 10);\n\n            // Форматируем подсказки и убираем дубликаты\n            const uniqueDescriptions = new Set();\n            const formattedSuggestions = matchedOrders.map(order => ({\n              id: order.id,\n              kind: order.kind || '',\n              originalDescription: order.description || '',\n              // Сохраняем оригинальное описание\n              description: (order.description || '').toLowerCase(),\n              // Приводим к нижнему регистру для отображения\n              district: '',\n              photo: order.photo || order.photos || null\n            })).filter(suggestion => {\n              // Фильтруем пустые описания и убираем дубликаты\n              const desc = suggestion.description.trim();\n              if (desc === '' || uniqueDescriptions.has(desc)) {\n                return false;\n              }\n              uniqueDescriptions.add(desc);\n              return true;\n            }).slice(0, 5); // Ограничиваем 5 подсказками\n\n            setSearchSuggestions(formattedSuggestions);\n          } else {\n            setSearchSuggestions([]);\n          }\n        } catch (error) {\n          console.error('Ошибка при поиске подсказок:', error);\n          setSearchSuggestions([]);\n        }\n      }, 300);\n      return () => clearTimeout(timer);\n    } else {\n      setSearchSuggestions([]);\n    }\n  }, [quickSearchQuery]); // Зависимость от quickSearchQuery\n\n  // Функция обработки быстрого поиска из второго кода\n  const handleQuickSearch = e => {\n    e.preventDefault();\n    const params = new URLSearchParams();\n    if (quickSearchQuery) params.append('description', quickSearchQuery);\n    navigate(`/search?${params.toString()}`);\n  };\n\n  // Функция обработки изменения ввода быстрого поиска из второго кода\n  const handleQuickSearchInputChange = value => {\n    setQuickSearchQuery(value);\n  };\n\n  // Функция обработки выбора подсказки из второго кода (исправленная)\n  const handleSuggestionSelect = suggestion => {\n    // Используем оригинальное описание (не нижний регистр)\n    setQuickSearchQuery(suggestion.originalDescription);\n\n    // Выполняем поиск сразу при выборе подсказки\n    const params = new URLSearchParams();\n    if (suggestion.originalDescription) {\n      params.append('description', suggestion.originalDescription);\n    }\n\n    // Очищаем подсказки после выбора\n    setSearchSuggestions([]);\n    navigate(`/search?${params.toString()}`);\n  };\n  const handleNewsletterSubmit = async email => {\n    try {\n      const response = await ApiService.subscribeToNews(email);\n      if (response && !response.error) {\n        return {\n          success: true,\n          message: 'Вы успешно подписались на рассылку!'\n        };\n      } else {\n        var _response$error;\n        return {\n          success: false,\n          message: ((_response$error = response.error) === null || _response$error === void 0 ? void 0 : _response$error.message) || 'Ошибка при подписке'\n        };\n      }\n    } catch (error) {\n      if (error.status === 422) {\n        var _error$data, _error$data$error, _error$data$error$err, _error$data$error$err2;\n        return {\n          success: false,\n          message: ((_error$data = error.data) === null || _error$data === void 0 ? void 0 : (_error$data$error = _error$data.error) === null || _error$data$error === void 0 ? void 0 : (_error$data$error$err = _error$data$error.errors) === null || _error$data$error$err === void 0 ? void 0 : (_error$data$error$err2 = _error$data$error$err.email) === null || _error$data$error$err2 === void 0 ? void 0 : _error$data$error$err2[0]) || 'Ошибка валидации'\n        };\n      }\n      return {\n        success: false,\n        message: 'Ошибка при подключении к серверу'\n      };\n    }\n  };\n  const getStatusBadge = registred => {\n    return registred ? 'bg-success' : 'bg-secondary';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isAuthenticated: isAuthenticated,\n        userName: userName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          style: {\n            width: '3rem',\n            height: '3rem',\n            color: 'rgb(91, 160, 74)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isAuthenticated: isAuthenticated,\n      userName: userName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      value: 'ПОМОГАЕМ ИСКАТЬ ЖИВОТНЫХ в СПб и ЛЕН ОБЛАСТИ'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this), showSlider && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"carouselExampleCaptions\",\n        className: \"carousel slide\",\n        \"data-bs-ride\": \"carousel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"carousel-indicators\",\n          children: sliderPets.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-bs-target\": \"#carouselExampleCaptions\",\n            \"data-bs-slide-to\": index,\n            className: index === 0 ? \"active\" : \"\",\n            \"aria-label\": `Slide ${index + 1}`\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"carousel-inner\",\n          children: sliderPets.map((pet, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `carousel-item ${index === 0 ? 'active' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-image-container position-relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  loading: \"lazy\",\n                  src: pet.image || placeholderImage,\n                  className: \"d-block square-slider-image\",\n                  alt: pet.kind,\n                  style: {\n                    objectFit: 'cover',\n                    height: '400px',\n                    width: '100%'\n                  },\n                  onError: e => {\n                    e.target.src = placeholderImage;\n                    e.target.style.objectFit = 'contain';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-absolute top-0 end-0 me-4 mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge bg-success fs-6 p-2 shadow\",\n                    children: \"\\u0425\\u043E\\u0437\\u044F\\u0438\\u043D \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-content position-absolute bottom-0 start-0 end-0 p-3\",\n                  style: {\n                    background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, transparent 100%)',\n                    color: 'white'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column\",\n                    style: {\n                      gap: '0.25rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"card-title text-center\",\n                      children: pet.kind\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-center\",\n                      children: pet.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 37\n            }, this)\n          }, pet.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 25\n        }, this), sliderPets.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"carousel-control-prev\",\n            type: \"button\",\n            \"data-bs-target\": \"#carouselExampleCaptions\",\n            \"data-bs-slide\": \"prev\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"carousel-control-prev-icon\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"carousel-control-next\",\n            type: \"button\",\n            \"data-bs-target\": \"#carouselExampleCaptions\",\n            \"data-bs-slide\": \"next\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"carousel-control-next-icon\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          backgroundColor: 'rgb(212, 109, 169)',\n          border: 'none',\n          color: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body search-block\",\n          children: /*#__PURE__*/_jsxDEV(QuickSearch, {\n            showTitle: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            value: 'Недавно найденные животные'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this), recentPets.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-4\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted\",\n              children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043D\\u044B\\u0445 \\u0436\\u0438\\u0432\\u043E\\u0442\\u043D\\u044B\\u0445\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: recentPets.map(pet => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card h-100 position-relative\",\n                style: {\n                  border: 'none'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    loading: \"lazy\",\n                    src: pet.photo || pet.photos || placeholderImage,\n                    className: \"card-img-top\",\n                    alt: pet.kind,\n                    style: {\n                      height: '250px',\n                      objectFit: 'cover'\n                    },\n                    onError: e => {\n                      e.target.src = placeholderImage;\n                      e.target.style.objectFit = 'contain';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"position-absolute bottom-0 end-0 m-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `badge ${getStatusBadge(pet.registred)} p-2 shadow`,\n                      children: pet.registred ? 'Зарегистрировано' : 'Не зарегистрировано'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body d-flex flex-column\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"card-title\",\n                    children: pet.kind\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-1 d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: dateIcon,\n                      style: {\n                        \"width\": \"20px\",\n                        \"marginRight\": \"8px\"\n                      },\n                      alt: \"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: [\"\\u0414\\u0430\\u0442\\u0430: \", pet.date]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: geoIcon,\n                      style: {\n                        \"width\": \"20px\",\n                        \"marginRight\": \"8px\"\n                      },\n                      alt: \"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u0440\\u0430\\u0439\\u043E\\u043D\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-muted\",\n                      children: [\"\\u0420\\u0430\\u0439\\u043E\\u043D: \", pet.district]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 375,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary button-css\",\n                    onClick: () => window.location.href = `/pet/${pet.id}`,\n                    style: {\n                      backgroundColor: 'rgb(230, 116, 205)',\n                      borderColor: 'rgb(235, 152, 177)',\n                      color: 'white'\n                    },\n                    onMouseEnter: e => {\n                      e.target.style.backgroundColor = 'rgb(216, 128, 162)';\n                      e.target.style.borderColor = 'rgb(212, 137, 175)';\n                    },\n                    onMouseLeave: e => {\n                      e.target.style.backgroundColor = 'rgb(91, 160, 74)';\n                      e.target.style.borderColor = 'rgb(91, 160, 74)';\n                    },\n                    children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 41\n              }, this)\n            }, pet.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NewsletterSection, {\n      onSubmit: handleNewsletterSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LogoutModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 9\n  }, this);\n};\n_s(Main, \"wHdpvpFi3QOKYAu3GGLfSxsZQtI=\", false, function () {\n  return [useNavigate];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Header","Footer","NewsletterSection","LogoutModal","QuickSearch","ApiService","AuthService","placeholderImage","Text","dateIcon","geoIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Main","_s","sliderPets","setSliderPets","recentPets","setRecentPets","loading","setLoading","searchSuggestions","setSearchSuggestions","searchQuery","setSearchQuery","showSlider","setShowSlider","isAuthenticated","setIsAuthenticated","userName","setUserName","quickSearchQuery","setQuickSearchQuery","navigate","checkAuth","authStatus","getUserName","window","addEventListener","removeEventListener","loadData","sliderResponse","getPetsSlider","data","pets","length","_emptyResponse$data","emptyResponse","recentResponse","getRecentPets","orders","sortedPets","sort","a","b","Date","date","slice","error","console","timer","setTimeout","response","searchOrders","allOrders","queryLower","toLowerCase","matchedOrders","filter","order","description","includes","uniqueDescriptions","Set","formattedSuggestions","map","id","kind","originalDescription","district","photo","photos","suggestion","desc","trim","has","add","clearTimeout","handleQuickSearch","e","preventDefault","params","URLSearchParams","append","toString","handleQuickSearchInputChange","value","handleSuggestionSelect","handleNewsletterSubmit","email","subscribeToNews","success","message","_response$error","status","_error$data","_error$data$error","_error$data$error$err","_error$data$error$err2","errors","getStatusBadge","registred","children","fileName","_jsxFileName","lineNumber","columnNumber","className","role","style","width","height","color","_","index","type","pet","src","image","alt","objectFit","onError","target","background","gap","backgroundColor","border","showTitle","onClick","location","href","borderColor","onMouseEnter","onMouseLeave","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/1874-23/Desktop/getpetback/src/pages/Main.jsx"],"sourcesContent":["// src/pages/main.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // Добавляем useNavigate\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport NewsletterSection from '../components/newletter-section';\r\nimport LogoutModal from '../components/logout-modal';\r\nimport QuickSearch from '../components/quick-search';\r\nimport ApiService from '../services/api';\r\nimport AuthService from '../services/AuthService';\r\nimport placeholderImage from '../assets/images/placeholder.svg';\r\nimport Text from '../components/Text';\r\nimport dateIcon from '../assets/images/icon_calendary.png';\r\nimport geoIcon from '../assets/images/icon_district.png';\r\n\r\nconst Main = () => {\r\n    const [sliderPets, setSliderPets] = useState([]);\r\n    const [recentPets, setRecentPets] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchSuggestions, setSearchSuggestions] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [showSlider, setShowSlider] = useState(true);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [userName, setUserName] = useState('');\r\n\r\n    // Добавляем состояния из второго кода\r\n    const [quickSearchQuery, setQuickSearchQuery] = useState(''); // Состояние для быстрого поиска\r\n    const navigate = useNavigate(); // Добавляем навигацию\r\n\r\n    // Проверка авторизации (логика из первого кода)\r\n    useEffect(() => {\r\n        const checkAuth = () => {\r\n            const authStatus = AuthService.isAuthenticated();\r\n            setIsAuthenticated(authStatus);\r\n            setUserName(AuthService.getUserName());\r\n        };\r\n\r\n        checkAuth();\r\n\r\n        // Подписываемся на события изменения авторизации\r\n        window.addEventListener('authChange', checkAuth);\r\n        window.addEventListener('userDataUpdate', checkAuth);\r\n\r\n        return () => {\r\n            window.removeEventListener('authChange', checkAuth);\r\n            window.removeEventListener('userDataUpdate', checkAuth);\r\n        };\r\n    }, []);\r\n\r\n\r\n\r\n    // Загрузка данных для слайдера и последних найденных животных\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            try {\r\n                setLoading(true);\r\n\r\n                // Загрузка слайдера\r\n                const sliderResponse = await ApiService.getPetsSlider();\r\n                if (sliderResponse && sliderResponse.data && sliderResponse.data.pets) {\r\n                    const pets = sliderResponse.data.pets;\r\n                    setSliderPets(pets);\r\n                    setShowSlider(pets.length > 0);\r\n                } else {\r\n                    // Если нет данных, пробуем получить пустой массив\r\n                    const emptyResponse = await ApiService.getPetsSlider(true);\r\n                    setSliderPets(emptyResponse?.data?.pets || []);\r\n                    setShowSlider(false);\r\n                }\r\n\r\n                // Загрузка последних найденных животных\r\n                const recentResponse = await ApiService.getRecentPets();\r\n                if (recentResponse && recentResponse.data && recentResponse.data.orders) {\r\n                    // Сортируем по дате\r\n                    const sortedPets = recentResponse.data.orders\r\n                        .sort((a, b) => new Date(b.date) - new Date(a.date))\r\n                        .slice(0, 6);\r\n\r\n                    setRecentPets(sortedPets);\r\n                }\r\n            } catch (error) {\r\n                console.error('Ошибка при загрузке данных:', error);\r\n                setShowSlider(false);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        loadData();\r\n    }, []);\r\n\r\n    // Debounce поиск для подсказок (исправленная версия)\r\n    useEffect(() => {\r\n        if (quickSearchQuery.length > 2) {\r\n            const timer = setTimeout(async () => {\r\n                try {\r\n                    const response = await ApiService.searchOrders({});\r\n\r\n                    if (response && response.data && response.data.orders) {\r\n                        const allOrders = response.data.orders;\r\n                        const queryLower = quickSearchQuery.toLowerCase();\r\n\r\n                        // Ищем совпадения в описании\r\n                        const matchedOrders = allOrders.filter(order => {\r\n                            const description = order.description || '';\r\n                            return description.toLowerCase().includes(queryLower);\r\n                        }).slice(0, 10);\r\n\r\n                        // Форматируем подсказки и убираем дубликаты\r\n                        const uniqueDescriptions = new Set();\r\n                        const formattedSuggestions = matchedOrders\r\n                            .map(order => ({\r\n                                id: order.id,\r\n                                kind: order.kind || '',\r\n                                originalDescription: order.description || '', // Сохраняем оригинальное описание\r\n                                description: (order.description || '').toLowerCase(), // Приводим к нижнему регистру для отображения\r\n                                district: '',\r\n                                photo: order.photo || order.photos || null\r\n                            }))\r\n                            .filter(suggestion => {\r\n                                // Фильтруем пустые описания и убираем дубликаты\r\n                                const desc = suggestion.description.trim();\r\n                                if (desc === '' || uniqueDescriptions.has(desc)) {\r\n                                    return false;\r\n                                }\r\n                                uniqueDescriptions.add(desc);\r\n                                return true;\r\n                            })\r\n                            .slice(0, 5); // Ограничиваем 5 подсказками\r\n\r\n                        setSearchSuggestions(formattedSuggestions);\r\n                    } else {\r\n                        setSearchSuggestions([]);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Ошибка при поиске подсказок:', error);\r\n                    setSearchSuggestions([]);\r\n                }\r\n            }, 300);\r\n\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            setSearchSuggestions([]);\r\n        }\r\n    }, [quickSearchQuery]); // Зависимость от quickSearchQuery\r\n\r\n    // Функция обработки быстрого поиска из второго кода\r\n    const handleQuickSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        const params = new URLSearchParams();\r\n        if (quickSearchQuery) params.append('description', quickSearchQuery);\r\n\r\n        navigate(`/search?${params.toString()}`);\r\n    };\r\n\r\n    // Функция обработки изменения ввода быстрого поиска из второго кода\r\n    const handleQuickSearchInputChange = (value) => {\r\n        setQuickSearchQuery(value);\r\n    };\r\n\r\n    // Функция обработки выбора подсказки из второго кода (исправленная)\r\n    const handleSuggestionSelect = (suggestion) => {\r\n        // Используем оригинальное описание (не нижний регистр)\r\n        setQuickSearchQuery(suggestion.originalDescription);\r\n\r\n        // Выполняем поиск сразу при выборе подсказки\r\n        const params = new URLSearchParams();\r\n        if (suggestion.originalDescription) {\r\n            params.append('description', suggestion.originalDescription);\r\n        }\r\n\r\n        // Очищаем подсказки после выбора\r\n        setSearchSuggestions([]);\r\n\r\n        navigate(`/search?${params.toString()}`);\r\n    };\r\n\r\n    const handleNewsletterSubmit = async (email) => {\r\n        try {\r\n            const response = await ApiService.subscribeToNews(email);\r\n\r\n            if (response && !response.error) {\r\n                return {\r\n                    success: true,\r\n                    message: 'Вы успешно подписались на рассылку!'\r\n                };\r\n            } else {\r\n                return {\r\n                    success: false,\r\n                    message: response.error?.message || 'Ошибка при подписке'\r\n                };\r\n            }\r\n        } catch (error) {\r\n            if (error.status === 422) {\r\n                return {\r\n                    success: false,\r\n                    message: error.data?.error?.errors?.email?.[0] || 'Ошибка валидации'\r\n                };\r\n            }\r\n            return {\r\n                success: false,\r\n                message: 'Ошибка при подключении к серверу'\r\n            };\r\n        }\r\n    };\r\n\r\n    const getStatusBadge = (registred) => {\r\n        return registred ? 'bg-success' : 'bg-secondary';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div>\r\n                <Header isAuthenticated={isAuthenticated} userName={userName} />\r\n                <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border\" role=\"status\" style={{\r\n                        width: '3rem',\r\n                        height: '3rem',\r\n                        color: 'rgb(91, 160, 74)'\r\n                    }}>\r\n                        <span className=\"visually-hidden\">Загрузка...</span>\r\n                    </div>\r\n                    <p className=\"mt-2\">Загрузка данных...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header isAuthenticated={isAuthenticated} userName={userName} />\r\n\r\n            <br />\r\n            <br />\r\n\r\n            <Text value={'ПОМОГАЕМ ИСКАТЬ ЖИВОТНЫХ в СПб и ЛЕН ОБЛАСТИ'} />\r\n\r\n            {/* Карусель со слайдером */}\r\n            {showSlider && (\r\n                <div className=\"carousel-container\">\r\n                    <br />\r\n                    <div id=\"carouselExampleCaptions\" className=\"carousel slide\" data-bs-ride=\"carousel\">\r\n                        <div className=\"carousel-indicators\">\r\n                            {sliderPets.map((_, index) => (\r\n                                <button\r\n                                    key={index}\r\n                                    type=\"button\"\r\n                                    data-bs-target=\"#carouselExampleCaptions\"\r\n                                    data-bs-slide-to={index}\r\n                                    className={index === 0 ? \"active\" : \"\"}\r\n                                    aria-label={`Slide ${index + 1}`}\r\n                                ></button>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"carousel-inner\">\r\n                            {sliderPets.map((pet, index) => (\r\n                                <div key={pet.id} className={`carousel-item ${index === 0 ? 'active' : ''}`}>\r\n                                    <div className=\"row align-items-center\">\r\n                                        <div className=\"carousel-image-container position-relative\">\r\n                                            <img loading='lazy'\r\n                                                src={pet.image || placeholderImage}\r\n                                                className=\"d-block square-slider-image\"\r\n                                                alt={pet.kind}\r\n                                                style={{ objectFit: 'cover', height: '400px', width: '100%' }}\r\n                                                onError={(e) => {\r\n                                                    e.target.src = placeholderImage;\r\n                                                    e.target.style.objectFit = 'contain';\r\n                                                }}\r\n                                            />\r\n\r\n                                            {/* Плашка \"Хозяин найден\" сверху справа */}\r\n                                            <div className=\"position-absolute top-0 end-0 me-4 mt-3\">\r\n                                                <span className=\"badge bg-success fs-6 p-2 shadow\">Хозяин найден</span>\r\n                                            </div>\r\n\r\n                                            {/* Контент поверх изображения внизу */}\r\n                                            <div className=\"carousel-content position-absolute bottom-0 start-0 end-0 p-3\"\r\n                                                style={{\r\n                                                    background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 50%, transparent 100%)',\r\n                                                    color: 'white'\r\n                                                }}>\r\n                                                <div className=\"d-flex flex-column\" style={{ gap: '0.25rem' }}>\r\n                                                    <h1 className=\"card-title text-center\">{pet.kind}</h1>\r\n                                                    <h5 className=\"text-center\">{pet.description}</h5>\r\n                                                </div>\r\n                                                <br />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        {sliderPets.length > 1 && (\r\n                            <>\r\n                                <button className=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide=\"prev\">\r\n                                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                                    <span className=\"visually-hidden\">Previous</span>\r\n                                </button>\r\n                                <button className=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide=\"next\">\r\n                                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                                    <span className=\"visually-hidden\">Next</span>\r\n                                </button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <br />\r\n            <br />\r\n\r\n\r\n            <div className=\"container\">\r\n                <div className=\"card\" style={{\r\n                    backgroundColor: 'rgb(212, 109, 169)',\r\n                    border: 'none',\r\n                    color: 'white',\r\n\r\n                }}>\r\n                    <div className=\"card-body search-block\">\r\n                        <QuickSearch showTitle={true} />\r\n                    </div>\r\n                    <br />\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n            {/* Последние найденные животные */}\r\n            <div className=\"container mt-5\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <br />\r\n                        <Text value={'Недавно найденные животные'} />\r\n                        <br />\r\n                        {recentPets.length === 0 ? (\r\n                            <div className=\"text-center py-4\">\r\n                                <p className=\"text-muted\">Нет данных о найденных животных</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"row\">\r\n                                {recentPets.map(pet => (\r\n                                    <div key={pet.id} className=\"col-md-4 mb-4\">\r\n                                        <div className=\"card h-100 position-relative\" style={{ border: 'none' }}>\r\n                                            <div className=\"position-relative\">\r\n                                                <img loading='lazy'\r\n                                                    src={pet.photo || pet.photos || placeholderImage}\r\n                                                    className=\"card-img-top\"\r\n                                                    alt={pet.kind}\r\n                                                    style={{ height: '250px', objectFit: 'cover' }}\r\n                                                    onError={(e) => {\r\n                                                        e.target.src = placeholderImage;\r\n                                                        e.target.style.objectFit = 'contain';\r\n                                                    }}\r\n                                                />\r\n\r\n                                                {/* Плашка \"Зарегистрировано/Не зарегистрировано\" */}\r\n                                                <div className=\"position-absolute bottom-0 end-0 m-2\">\r\n                                                    <span className={`badge ${getStatusBadge(pet.registred)} p-2 shadow`}>\r\n                                                        {pet.registred ? 'Зарегистрировано' : 'Не зарегистрировано'}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"card-body d-flex flex-column\">\r\n                                                <h3 className=\"card-title\">{pet.kind}</h3>\r\n                                                <p />\r\n                                                <div className=\"mb-1 d-flex align-items-center\">\r\n                                                    <img src={dateIcon} style={{ \"width\": \"20px\", \"marginRight\": \"8px\" }} alt=\"Иконка календаря\" />\r\n                                                    <small className=\"text-muted\">Дата: {pet.date}</small>\r\n                                                </div>\r\n                                                <div className=\"d-flex align-items-center\">\r\n                                                    <img src={geoIcon} style={{ \"width\": \"20px\", \"marginRight\": \"8px\" }} alt=\"Иконка района\" />\r\n                                                    <span className=\"text-muted\">Район: {pet.district}</span>\r\n                                                </div>\r\n                                                <br />\r\n\r\n                                                {/* Кнопка Подробнее */}\r\n                                                <button\r\n                                                    className=\"btn btn-primary button-css\"\r\n                                                    onClick={() => window.location.href = `/pet/${pet.id}`}\r\n                                                    style={{\r\n                                                        backgroundColor: 'rgb(230, 116, 205)',\r\n                                                        borderColor: 'rgb(235, 152, 177)',\r\n                                                        color: 'white'\r\n                                                    }}\r\n                                                    onMouseEnter={(e) => {\r\n                                                        e.target.style.backgroundColor = 'rgb(216, 128, 162)';\r\n                                                        e.target.style.borderColor = 'rgb(212, 137, 175)';\r\n                                                    }}\r\n                                                    onMouseLeave={(e) => {\r\n                                                        e.target.style.backgroundColor = 'rgb(91, 160, 74)';\r\n                                                        e.target.style.borderColor = 'rgb(91, 160, 74)';\r\n                                                    }}\r\n                                                >\r\n                                                    Подробнее\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <NewsletterSection onSubmit={handleNewsletterSubmit} />\r\n            <LogoutModal />\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB,CAAC,CAAC;AAChD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,iBAAiB,MAAM,iCAAiC;AAC/D,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,gBAAgB,MAAM,kCAAkC;AAC/D,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,QAAQ,MAAM,qCAAqC;AAC1D,OAAOC,OAAO,MAAM,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACf,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACsB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC0B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;;EAE5C;EACA,MAAM,CAACoC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC9D,MAAMsC,QAAQ,GAAGpC,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhC;EACAD,SAAS,CAAC,MAAM;IACZ,MAAMsC,SAAS,GAAGA,CAAA,KAAM;MACpB,MAAMC,UAAU,GAAG/B,WAAW,CAACuB,eAAe,CAAC,CAAC;MAChDC,kBAAkB,CAACO,UAAU,CAAC;MAC9BL,WAAW,CAAC1B,WAAW,CAACgC,WAAW,CAAC,CAAC,CAAC;IAC1C,CAAC;IAEDF,SAAS,CAAC,CAAC;;IAEX;IACAG,MAAM,CAACC,gBAAgB,CAAC,YAAY,EAAEJ,SAAS,CAAC;IAChDG,MAAM,CAACC,gBAAgB,CAAC,gBAAgB,EAAEJ,SAAS,CAAC;IAEpD,OAAO,MAAM;MACTG,MAAM,CAACE,mBAAmB,CAAC,YAAY,EAAEL,SAAS,CAAC;MACnDG,MAAM,CAACE,mBAAmB,CAAC,gBAAgB,EAAEL,SAAS,CAAC;IAC3D,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;;EAIN;EACAtC,SAAS,CAAC,MAAM;IACZ,MAAM4C,QAAQ,GAAG,MAAAA,CAAA,KAAY;MACzB,IAAI;QACApB,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMqB,cAAc,GAAG,MAAMtC,UAAU,CAACuC,aAAa,CAAC,CAAC;QACvD,IAAID,cAAc,IAAIA,cAAc,CAACE,IAAI,IAAIF,cAAc,CAACE,IAAI,CAACC,IAAI,EAAE;UACnE,MAAMA,IAAI,GAAGH,cAAc,CAACE,IAAI,CAACC,IAAI;UACrC5B,aAAa,CAAC4B,IAAI,CAAC;UACnBlB,aAAa,CAACkB,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;QAClC,CAAC,MAAM;UAAA,IAAAC,mBAAA;UACH;UACA,MAAMC,aAAa,GAAG,MAAM5C,UAAU,CAACuC,aAAa,CAAC,IAAI,CAAC;UAC1D1B,aAAa,CAAC,CAAA+B,aAAa,aAAbA,aAAa,wBAAAD,mBAAA,GAAbC,aAAa,CAAEJ,IAAI,cAAAG,mBAAA,uBAAnBA,mBAAA,CAAqBF,IAAI,KAAI,EAAE,CAAC;UAC9ClB,aAAa,CAAC,KAAK,CAAC;QACxB;;QAEA;QACA,MAAMsB,cAAc,GAAG,MAAM7C,UAAU,CAAC8C,aAAa,CAAC,CAAC;QACvD,IAAID,cAAc,IAAIA,cAAc,CAACL,IAAI,IAAIK,cAAc,CAACL,IAAI,CAACO,MAAM,EAAE;UACrE;UACA,MAAMC,UAAU,GAAGH,cAAc,CAACL,IAAI,CAACO,MAAM,CACxCE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,IAAI,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,IAAI,CAAC,CAAC,CACnDC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;UAEhBvC,aAAa,CAACiC,UAAU,CAAC;QAC7B;MACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDhC,aAAa,CAAC,KAAK,CAAC;MACxB,CAAC,SAAS;QACNN,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDoB,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA5C,SAAS,CAAC,MAAM;IACZ,IAAImC,gBAAgB,CAACc,MAAM,GAAG,CAAC,EAAE;MAC7B,MAAMe,KAAK,GAAGC,UAAU,CAAC,YAAY;QACjC,IAAI;UACA,MAAMC,QAAQ,GAAG,MAAM3D,UAAU,CAAC4D,YAAY,CAAC,CAAC,CAAC,CAAC;UAElD,IAAID,QAAQ,IAAIA,QAAQ,CAACnB,IAAI,IAAImB,QAAQ,CAACnB,IAAI,CAACO,MAAM,EAAE;YACnD,MAAMc,SAAS,GAAGF,QAAQ,CAACnB,IAAI,CAACO,MAAM;YACtC,MAAMe,UAAU,GAAGlC,gBAAgB,CAACmC,WAAW,CAAC,CAAC;;YAEjD;YACA,MAAMC,aAAa,GAAGH,SAAS,CAACI,MAAM,CAACC,KAAK,IAAI;cAC5C,MAAMC,WAAW,GAAGD,KAAK,CAACC,WAAW,IAAI,EAAE;cAC3C,OAAOA,WAAW,CAACJ,WAAW,CAAC,CAAC,CAACK,QAAQ,CAACN,UAAU,CAAC;YACzD,CAAC,CAAC,CAACR,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;;YAEf;YACA,MAAMe,kBAAkB,GAAG,IAAIC,GAAG,CAAC,CAAC;YACpC,MAAMC,oBAAoB,GAAGP,aAAa,CACrCQ,GAAG,CAACN,KAAK,KAAK;cACXO,EAAE,EAAEP,KAAK,CAACO,EAAE;cACZC,IAAI,EAAER,KAAK,CAACQ,IAAI,IAAI,EAAE;cACtBC,mBAAmB,EAAET,KAAK,CAACC,WAAW,IAAI,EAAE;cAAE;cAC9CA,WAAW,EAAE,CAACD,KAAK,CAACC,WAAW,IAAI,EAAE,EAAEJ,WAAW,CAAC,CAAC;cAAE;cACtDa,QAAQ,EAAE,EAAE;cACZC,KAAK,EAAEX,KAAK,CAACW,KAAK,IAAIX,KAAK,CAACY,MAAM,IAAI;YAC1C,CAAC,CAAC,CAAC,CACFb,MAAM,CAACc,UAAU,IAAI;cAClB;cACA,MAAMC,IAAI,GAAGD,UAAU,CAACZ,WAAW,CAACc,IAAI,CAAC,CAAC;cAC1C,IAAID,IAAI,KAAK,EAAE,IAAIX,kBAAkB,CAACa,GAAG,CAACF,IAAI,CAAC,EAAE;gBAC7C,OAAO,KAAK;cAChB;cACAX,kBAAkB,CAACc,GAAG,CAACH,IAAI,CAAC;cAC5B,OAAO,IAAI;YACf,CAAC,CAAC,CACD1B,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;YAElBnC,oBAAoB,CAACoD,oBAAoB,CAAC;UAC9C,CAAC,MAAM;YACHpD,oBAAoB,CAAC,EAAE,CAAC;UAC5B;QACJ,CAAC,CAAC,OAAOoC,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;UACpDpC,oBAAoB,CAAC,EAAE,CAAC;QAC5B;MACJ,CAAC,EAAE,GAAG,CAAC;MAEP,OAAO,MAAMiE,YAAY,CAAC3B,KAAK,CAAC;IACpC,CAAC,MAAM;MACHtC,oBAAoB,CAAC,EAAE,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACS,gBAAgB,CAAC,CAAC,CAAC,CAAC;;EAExB;EACA,MAAMyD,iBAAiB,GAAIC,CAAC,IAAK;IAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,IAAI7D,gBAAgB,EAAE4D,MAAM,CAACE,MAAM,CAAC,aAAa,EAAE9D,gBAAgB,CAAC;IAEpEE,QAAQ,CAAC,WAAW0D,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMC,4BAA4B,GAAIC,KAAK,IAAK;IAC5ChE,mBAAmB,CAACgE,KAAK,CAAC;EAC9B,CAAC;;EAED;EACA,MAAMC,sBAAsB,GAAIf,UAAU,IAAK;IAC3C;IACAlD,mBAAmB,CAACkD,UAAU,CAACJ,mBAAmB,CAAC;;IAEnD;IACA,MAAMa,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,IAAIV,UAAU,CAACJ,mBAAmB,EAAE;MAChCa,MAAM,CAACE,MAAM,CAAC,aAAa,EAAEX,UAAU,CAACJ,mBAAmB,CAAC;IAChE;;IAEA;IACAxD,oBAAoB,CAAC,EAAE,CAAC;IAExBW,QAAQ,CAAC,WAAW0D,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC;EAC5C,CAAC;EAED,MAAMI,sBAAsB,GAAG,MAAOC,KAAK,IAAK;IAC5C,IAAI;MACA,MAAMrC,QAAQ,GAAG,MAAM3D,UAAU,CAACiG,eAAe,CAACD,KAAK,CAAC;MAExD,IAAIrC,QAAQ,IAAI,CAACA,QAAQ,CAACJ,KAAK,EAAE;QAC7B,OAAO;UACH2C,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE;QACb,CAAC;MACL,CAAC,MAAM;QAAA,IAAAC,eAAA;QACH,OAAO;UACHF,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,EAAAC,eAAA,GAAAzC,QAAQ,CAACJ,KAAK,cAAA6C,eAAA,uBAAdA,eAAA,CAAgBD,OAAO,KAAI;QACxC,CAAC;MACL;IACJ,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACZ,IAAIA,KAAK,CAAC8C,MAAM,KAAK,GAAG,EAAE;QAAA,IAAAC,WAAA,EAAAC,iBAAA,EAAAC,qBAAA,EAAAC,sBAAA;QACtB,OAAO;UACHP,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,EAAAG,WAAA,GAAA/C,KAAK,CAACf,IAAI,cAAA8D,WAAA,wBAAAC,iBAAA,GAAVD,WAAA,CAAY/C,KAAK,cAAAgD,iBAAA,wBAAAC,qBAAA,GAAjBD,iBAAA,CAAmBG,MAAM,cAAAF,qBAAA,wBAAAC,sBAAA,GAAzBD,qBAAA,CAA2BR,KAAK,cAAAS,sBAAA,uBAAhCA,sBAAA,CAAmC,CAAC,CAAC,KAAI;QACtD,CAAC;MACL;MACA,OAAO;QACHP,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE;MACb,CAAC;IACL;EACJ,CAAC;EAED,MAAMQ,cAAc,GAAIC,SAAS,IAAK;IAClC,OAAOA,SAAS,GAAG,YAAY,GAAG,cAAc;EACpD,CAAC;EAED,IAAI5F,OAAO,EAAE;IACT,oBACIT,OAAA;MAAAsG,QAAA,gBACItG,OAAA,CAACZ,MAAM;QAAC6B,eAAe,EAAEA,eAAgB;QAACE,QAAQ,EAAEA;MAAS;QAAAoF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChE1G,OAAA;QAAK2G,SAAS,EAAC,kBAAkB;QAAAL,QAAA,gBAC7BtG,OAAA;UAAK2G,SAAS,EAAC,gBAAgB;UAACC,IAAI,EAAC,QAAQ;UAACC,KAAK,EAAE;YACjDC,KAAK,EAAE,MAAM;YACbC,MAAM,EAAE,MAAM;YACdC,KAAK,EAAE;UACX,CAAE;UAAAV,QAAA,eACEtG,OAAA;YAAM2G,SAAS,EAAC,iBAAiB;YAAAL,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC,eACN1G,OAAA;UAAG2G,SAAS,EAAC,MAAM;UAAAL,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd;EAEA,oBACI1G,OAAA;IAAAsG,QAAA,gBACItG,OAAA,CAACZ,MAAM;MAAC6B,eAAe,EAAEA,eAAgB;MAACE,QAAQ,EAAEA;IAAS;MAAAoF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEhE1G,OAAA;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACN1G,OAAA;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEN1G,OAAA,CAACJ,IAAI;MAAC0F,KAAK,EAAE;IAA+C;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAG9D3F,UAAU,iBACPf,OAAA;MAAK2G,SAAS,EAAC,oBAAoB;MAAAL,QAAA,gBAC/BtG,OAAA;QAAAuG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN1G,OAAA;QAAKkE,EAAE,EAAC,yBAAyB;QAACyC,SAAS,EAAC,gBAAgB;QAAC,gBAAa,UAAU;QAAAL,QAAA,gBAChFtG,OAAA;UAAK2G,SAAS,EAAC,qBAAqB;UAAAL,QAAA,EAC/BjG,UAAU,CAAC4D,GAAG,CAAC,CAACgD,CAAC,EAAEC,KAAK,kBACrBlH,OAAA;YAEImH,IAAI,EAAC,QAAQ;YACb,kBAAe,0BAA0B;YACzC,oBAAkBD,KAAM;YACxBP,SAAS,EAAEO,KAAK,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAG;YACvC,cAAY,SAASA,KAAK,GAAG,CAAC;UAAG,GAL5BA,KAAK;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAML,CACZ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACN1G,OAAA;UAAK2G,SAAS,EAAC,gBAAgB;UAAAL,QAAA,EAC1BjG,UAAU,CAAC4D,GAAG,CAAC,CAACmD,GAAG,EAAEF,KAAK,kBACvBlH,OAAA;YAAkB2G,SAAS,EAAE,iBAAiBO,KAAK,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;YAAAZ,QAAA,eACxEtG,OAAA;cAAK2G,SAAS,EAAC,wBAAwB;cAAAL,QAAA,eACnCtG,OAAA;gBAAK2G,SAAS,EAAC,4CAA4C;gBAAAL,QAAA,gBACvDtG,OAAA;kBAAKS,OAAO,EAAC,MAAM;kBACf4G,GAAG,EAAED,GAAG,CAACE,KAAK,IAAI3H,gBAAiB;kBACnCgH,SAAS,EAAC,6BAA6B;kBACvCY,GAAG,EAAEH,GAAG,CAACjD,IAAK;kBACd0C,KAAK,EAAE;oBAAEW,SAAS,EAAE,OAAO;oBAAET,MAAM,EAAE,OAAO;oBAAED,KAAK,EAAE;kBAAO,CAAE;kBAC9DW,OAAO,EAAG1C,CAAC,IAAK;oBACZA,CAAC,CAAC2C,MAAM,CAACL,GAAG,GAAG1H,gBAAgB;oBAC/BoF,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACW,SAAS,GAAG,SAAS;kBACxC;gBAAE;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eAGF1G,OAAA;kBAAK2G,SAAS,EAAC,yCAAyC;kBAAAL,QAAA,eACpDtG,OAAA;oBAAM2G,SAAS,EAAC,kCAAkC;oBAAAL,QAAA,EAAC;kBAAa;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtE,CAAC,eAGN1G,OAAA;kBAAK2G,SAAS,EAAC,+DAA+D;kBAC1EE,KAAK,EAAE;oBACHc,UAAU,EAAE,oFAAoF;oBAChGX,KAAK,EAAE;kBACX,CAAE;kBAAAV,QAAA,gBACFtG,OAAA;oBAAK2G,SAAS,EAAC,oBAAoB;oBAACE,KAAK,EAAE;sBAAEe,GAAG,EAAE;oBAAU,CAAE;oBAAAtB,QAAA,gBAC1DtG,OAAA;sBAAI2G,SAAS,EAAC,wBAAwB;sBAAAL,QAAA,EAAEc,GAAG,CAACjD;oBAAI;sBAAAoC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACtD1G,OAAA;sBAAI2G,SAAS,EAAC,aAAa;sBAAAL,QAAA,EAAEc,GAAG,CAACxD;oBAAW;sBAAA2C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjD,CAAC,eACN1G,OAAA;oBAAAuG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC,GAhCAU,GAAG,CAAClD,EAAE;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAiCX,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,EACLrG,UAAU,CAAC8B,MAAM,GAAG,CAAC,iBAClBnC,OAAA,CAAAE,SAAA;UAAAoG,QAAA,gBACItG,OAAA;YAAQ2G,SAAS,EAAC,uBAAuB;YAACQ,IAAI,EAAC,QAAQ;YAAC,kBAAe,0BAA0B;YAAC,iBAAc,MAAM;YAAAb,QAAA,gBAClHtG,OAAA;cAAM2G,SAAS,EAAC,4BAA4B;cAAC,eAAY;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvE1G,OAAA;cAAM2G,SAAS,EAAC,iBAAiB;cAAAL,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,eACT1G,OAAA;YAAQ2G,SAAS,EAAC,uBAAuB;YAACQ,IAAI,EAAC,QAAQ;YAAC,kBAAe,0BAA0B;YAAC,iBAAc,MAAM;YAAAb,QAAA,gBAClHtG,OAAA;cAAM2G,SAAS,EAAC,4BAA4B;cAAC,eAAY;YAAM;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvE1G,OAAA;cAAM2G,SAAS,EAAC,iBAAiB;cAAAL,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA,eACX,CACL;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR,eAED1G,OAAA;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACN1G,OAAA;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAGN1G,OAAA;MAAK2G,SAAS,EAAC,WAAW;MAAAL,QAAA,eACtBtG,OAAA;QAAK2G,SAAS,EAAC,MAAM;QAACE,KAAK,EAAE;UACzBgB,eAAe,EAAE,oBAAoB;UACrCC,MAAM,EAAE,MAAM;UACdd,KAAK,EAAE;QAEX,CAAE;QAAAV,QAAA,gBACEtG,OAAA;UAAK2G,SAAS,EAAC,wBAAwB;UAAAL,QAAA,eACnCtG,OAAA,CAACR,WAAW;YAACuI,SAAS,EAAE;UAAK;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eACN1G,OAAA;UAAAuG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAKN1G,OAAA;MAAK2G,SAAS,EAAC,gBAAgB;MAAAL,QAAA,eAC3BtG,OAAA;QAAK2G,SAAS,EAAC,MAAM;QAAAL,QAAA,eACjBtG,OAAA;UAAK2G,SAAS,EAAC,WAAW;UAAAL,QAAA,gBACtBtG,OAAA;YAAAuG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN1G,OAAA,CAACJ,IAAI;YAAC0F,KAAK,EAAE;UAA6B;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7C1G,OAAA;YAAAuG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EACLnG,UAAU,CAAC4B,MAAM,KAAK,CAAC,gBACpBnC,OAAA;YAAK2G,SAAS,EAAC,kBAAkB;YAAAL,QAAA,eAC7BtG,OAAA;cAAG2G,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAC;YAA+B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC,gBAEN1G,OAAA;YAAK2G,SAAS,EAAC,KAAK;YAAAL,QAAA,EACf/F,UAAU,CAAC0D,GAAG,CAACmD,GAAG,iBACfpH,OAAA;cAAkB2G,SAAS,EAAC,eAAe;cAAAL,QAAA,eACvCtG,OAAA;gBAAK2G,SAAS,EAAC,8BAA8B;gBAACE,KAAK,EAAE;kBAAEiB,MAAM,EAAE;gBAAO,CAAE;gBAAAxB,QAAA,gBACpEtG,OAAA;kBAAK2G,SAAS,EAAC,mBAAmB;kBAAAL,QAAA,gBAC9BtG,OAAA;oBAAKS,OAAO,EAAC,MAAM;oBACf4G,GAAG,EAAED,GAAG,CAAC9C,KAAK,IAAI8C,GAAG,CAAC7C,MAAM,IAAI5E,gBAAiB;oBACjDgH,SAAS,EAAC,cAAc;oBACxBY,GAAG,EAAEH,GAAG,CAACjD,IAAK;oBACd0C,KAAK,EAAE;sBAAEE,MAAM,EAAE,OAAO;sBAAES,SAAS,EAAE;oBAAQ,CAAE;oBAC/CC,OAAO,EAAG1C,CAAC,IAAK;sBACZA,CAAC,CAAC2C,MAAM,CAACL,GAAG,GAAG1H,gBAAgB;sBAC/BoF,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACW,SAAS,GAAG,SAAS;oBACxC;kBAAE;oBAAAjB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eAGF1G,OAAA;oBAAK2G,SAAS,EAAC,sCAAsC;oBAAAL,QAAA,eACjDtG,OAAA;sBAAM2G,SAAS,EAAE,SAASP,cAAc,CAACgB,GAAG,CAACf,SAAS,CAAC,aAAc;sBAAAC,QAAA,EAChEc,GAAG,CAACf,SAAS,GAAG,kBAAkB,GAAG;oBAAqB;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACzD;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eAEN1G,OAAA;kBAAK2G,SAAS,EAAC,8BAA8B;kBAAAL,QAAA,gBACzCtG,OAAA;oBAAI2G,SAAS,EAAC,YAAY;oBAAAL,QAAA,EAAEc,GAAG,CAACjD;kBAAI;oBAAAoC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC1C1G,OAAA;oBAAAuG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACL1G,OAAA;oBAAK2G,SAAS,EAAC,gCAAgC;oBAAAL,QAAA,gBAC3CtG,OAAA;sBAAKqH,GAAG,EAAExH,QAAS;sBAACgH,KAAK,EAAE;wBAAE,OAAO,EAAE,MAAM;wBAAE,aAAa,EAAE;sBAAM,CAAE;sBAACU,GAAG,EAAC;oBAAkB;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC/F1G,OAAA;sBAAO2G,SAAS,EAAC,YAAY;sBAAAL,QAAA,GAAC,4BAAM,EAACc,GAAG,CAACtE,IAAI;oBAAA;sBAAAyD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrD,CAAC,eACN1G,OAAA;oBAAK2G,SAAS,EAAC,2BAA2B;oBAAAL,QAAA,gBACtCtG,OAAA;sBAAKqH,GAAG,EAAEvH,OAAQ;sBAAC+G,KAAK,EAAE;wBAAE,OAAO,EAAE,MAAM;wBAAE,aAAa,EAAE;sBAAM,CAAE;sBAACU,GAAG,EAAC;oBAAe;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC3F1G,OAAA;sBAAM2G,SAAS,EAAC,YAAY;sBAAAL,QAAA,GAAC,kCAAO,EAACc,GAAG,CAAC/C,QAAQ;oBAAA;sBAAAkC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxD,CAAC,eACN1G,OAAA;oBAAAuG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAGN1G,OAAA;oBACI2G,SAAS,EAAC,4BAA4B;oBACtCqB,OAAO,EAAEA,CAAA,KAAMrG,MAAM,CAACsG,QAAQ,CAACC,IAAI,GAAG,QAAQd,GAAG,CAAClD,EAAE,EAAG;oBACvD2C,KAAK,EAAE;sBACHgB,eAAe,EAAE,oBAAoB;sBACrCM,WAAW,EAAE,oBAAoB;sBACjCnB,KAAK,EAAE;oBACX,CAAE;oBACFoB,YAAY,EAAGrD,CAAC,IAAK;sBACjBA,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACgB,eAAe,GAAG,oBAAoB;sBACrD9C,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACsB,WAAW,GAAG,oBAAoB;oBACrD,CAAE;oBACFE,YAAY,EAAGtD,CAAC,IAAK;sBACjBA,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACgB,eAAe,GAAG,kBAAkB;sBACnD9C,CAAC,CAAC2C,MAAM,CAACb,KAAK,CAACsB,WAAW,GAAG,kBAAkB;oBACnD,CAAE;oBAAA7B,QAAA,EACL;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC,GAxDAU,GAAG,CAAClD,EAAE;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAyDX,CACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CACR;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEN1G,OAAA,CAACV,iBAAiB;MAACgJ,QAAQ,EAAE9C;IAAuB;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACvD1G,OAAA,CAACT,WAAW;MAAAgH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACf1G,OAAA,CAACX,MAAM;MAAAkH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEd,CAAC;AAACtG,EAAA,CA9YID,IAAI;EAAA,QAYWhB,WAAW;AAAA;AAAAoJ,EAAA,GAZ1BpI,IAAI;AAgZV,eAAeA,IAAI;AAAC,IAAAoI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}