{"ast":null,"code":"import { API_HOST, BASE_URL } from '../config/api';\nclass ApiService {\n  constructor() {\n    this.baseUrl = API_HOST;\n    this.token = localStorage.getItem('auth_token');\n    this.searchTimeout = null;\n  }\n\n  // Метод для поиска пользователя по email\n  async findUserByEmail(email) {\n    try {\n      // Получаем всех пользователей\n      const response = await this.request('/users');\n      console.log('Поиск пользователя по email:', email);\n\n      // Проверяем разные форматы ответа\n      let users = [];\n      if (Array.isArray(response)) {\n        users = response;\n      } else if (response && response.data && Array.isArray(response.data)) {\n        users = response.data;\n      } else if (response && Array.isArray(response.users)) {\n        users = response.users;\n      }\n\n      // Ищем пользователя по email\n      const user = users.find(u => u.email === email);\n      if (user) {\n        console.log('Пользователь найден:', user);\n        return user;\n      }\n      console.warn('Пользователь не найден');\n      return null;\n    } catch (error) {\n      console.error('Ошибка поиска пользователя по email:', error);\n      return null;\n    }\n  }\n\n  // Получение имени пользователя\n  getStoredUserName() {\n    const userDataStr = localStorage.getItem('user_data');\n    if (userDataStr) {\n      try {\n        const userData = JSON.parse(userDataStr);\n        return userData.name || '';\n      } catch (error) {\n        console.error('Ошибка при чтении данных пользователя:', error);\n      }\n    }\n    return '';\n  }\n\n  // Получение ID пользователя из токена\n  getUserIdFromToken() {\n    // Просто проверяем сохраненный ID\n    const savedUserId = localStorage.getItem('user_id');\n    if (savedUserId) {\n      return parseInt(savedUserId);\n    }\n    return null;\n  }\n\n  // Получение данных текущего пользователя\n  async getCurrentUser() {\n    console.log('Получение данных текущего пользователя через /users');\n    return this.request('/users');\n  }\n\n  // Получение объявлений текущего пользователя\n  async getCurrentUserOrders() {\n    console.log('Получение объявлений текущего пользователя через /users/orders');\n    let result = await this.request('/users/orders');\n\n    // Преобразуем пути изображений\n    if (result && result.data && result.data.orders) {\n      result.data.orders = result.data.orders.map(order => ({\n        ...order,\n        photo: order.photo ? this.getImageUrl(order.photo) : null,\n        photos: order.photos ? this.getImageUrl(order.photos) : null\n      }));\n    } else if (Array.isArray(result)) {\n      // Если API возвращает напрямую массив\n      result = result.map(order => ({\n        ...order,\n        photo: order.photo ? this.getImageUrl(order.photo) : null,\n        photos: order.photos ? this.getImageUrl(order.photos) : null\n      }));\n    }\n    return result;\n  }\n\n  // Добавляем метод для получения полного URL изображения\n  getImageUrl(imagePath) {\n    if (!imagePath) {\n      console.warn('Image path is null or undefined');\n      return null;\n    }\n\n    // Если URL уже полный, возвращаем как есть\n    if (imagePath.startsWith('http')) {\n      return imagePath;\n    }\n\n    // Очищаем путь от возможных проблем\n    const cleanPath = imagePath.trim();\n\n    // Проверяем, что путь начинается со слеша\n    if (!cleanPath.startsWith('/')) {\n      console.warn('Image path does not start with /:', cleanPath);\n      return null;\n    }\n\n    // Собираем полный URL\n    const fullUrl = `${BASE_URL}${cleanPath}`;\n    return fullUrl;\n  }\n  setToken(token) {\n    console.log('setToken: установка токена', token ? 'есть' : 'нет');\n    this.token = token;\n    if (token) {\n      localStorage.setItem('auth_token', token);\n    } else {\n      localStorage.removeItem('auth_token');\n    }\n  }\n  clearToken() {\n    console.log('clearToken: очистка токена');\n    this.token = null;\n    localStorage.removeItem('auth_token');\n    localStorage.removeItem('user_id');\n    localStorage.removeItem('user_data');\n  }\n  getHeaders(isFormData = false) {\n    const headers = {};\n    if (!isFormData) {\n      headers['Content-Type'] = 'application/json';\n    }\n    if (this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n    return headers;\n  }\n  async request(endpoint, method = 'GET', data = null, isFormData = false) {\n    const url = `${this.baseUrl}${endpoint}`;\n    console.log(`API ${method} ${url}`, data ? 'с данными' : 'без данных');\n    const options = {\n      method,\n      headers: this.getHeaders(isFormData)\n    };\n    if (data) {\n      if (isFormData) {\n        options.body = data;\n      } else {\n        options.body = JSON.stringify(data);\n      }\n    }\n    try {\n      const response = await fetch(url, options);\n\n      // Handle 204 No Content\n      if (response.status === 204) {\n        return {\n          success: true\n        };\n      }\n      const responseData = await response.json();\n      console.log(`API ${method} ${url} ответ:`, responseData);\n      if (!response.ok) {\n        console.error(`API Error ${response.status}:`, responseData);\n        const error = new Error(`API Error ${response.status}`);\n        error.status = response.status;\n        error.data = responseData;\n        throw error; // Выбрасываем экземпляр Error\n      }\n      return responseData;\n    } catch (error) {\n      console.error(`API Error (${method} ${endpoint}):`, error);\n      throw error;\n    }\n  }\n\n  // Слайдер с животными\n  async getPetsSlider(empty = false) {\n    const endpoint = empty ? '/pets/slider/empty' : '/pets/slider';\n    const result = await this.request(endpoint);\n\n    // Преобразуем пути изображений в полные URL\n    if (result && result.data && result.data.pets) {\n      result.data.pets = result.data.pets.map(pet => ({\n        ...pet,\n        image: pet.image ? this.getImageUrl(pet.image) : null\n      }));\n    }\n    return result;\n  }\n\n  // Быстрый поиск\n  async searchPets(query = '', delay = 1000) {\n    if (this.searchTimeout) {\n      clearTimeout(this.searchTimeout);\n    }\n    return new Promise(resolve => {\n      this.searchTimeout = setTimeout(async () => {\n        const endpoint = query ? `/search?query=${encodeURIComponent(query)}` : '/search';\n        const result = await this.request(endpoint);\n\n        // Преобразуем пути изображений\n        if (result && result.data && result.data.orders) {\n          result.data.orders = result.data.orders.map(order => ({\n            ...order,\n            photo: order.photo ? this.getImageUrl(order.photo) : null,\n            photos: order.photos ? this.getImageUrl(order.photos) : null\n          }));\n        }\n        resolve(result);\n      }, delay);\n    });\n  }\n\n  // Последние найденные животные\n  async getRecentPets() {\n    const result = await this.request('/pets');\n\n    // Преобразуем пути изображений\n    if (result && result.data && result.data.orders) {\n      result.data.orders = result.data.orders.map(order => ({\n        ...order,\n        photo: order.photo ? this.getImageUrl(order.photo) : null,\n        photos: order.photos ? this.getImageUrl(order.photos) : null\n      }));\n    }\n    return result;\n  }\n\n  // Подписка на новости\n  async subscribeToNews(email) {\n    return this.request('/subscription', 'POST', {\n      email\n    });\n  }\n\n  // Регистрация пользователя\n  async register(userData) {\n    console.log('Регистрация пользователя:', userData);\n    const result = await this.request('/register', 'POST', {\n      ...userData,\n      confirm: userData.confirm ? 1 : 0\n    });\n\n    // Если при регистрации возвращается ID пользователя\n    if (result && result.id) {\n      localStorage.setItem('user_id', result.id.toString());\n      localStorage.setItem('user_data', JSON.stringify(result));\n    }\n    return result;\n  }\n\n  // Авторизация\n  async login(email, password) {\n    console.log('Логин пользователя:', email);\n    const result = await this.request('/login', 'POST', {\n      email,\n      password\n    });\n    if (result.data && result.data.token) {\n      this.setToken(result.data.token);\n      try {\n        // Запросим всех пользователей (если это возможно)\n        // или получим ID через другой endpoint\n        console.log('Пытаемся получить ID пользователя после входа');\n\n        // Если API позволяет поиск по email\n        const searchResult = await this.request(`/users?email=${encodeURIComponent(email)}`);\n        if (searchResult && searchResult.length > 0) {\n          const user = searchResult[0];\n          localStorage.setItem('user_data', JSON.stringify(user));\n          localStorage.setItem('user_id', user.id.toString());\n          console.log('Пользователь найден по email, ID:', user.id);\n        } else {\n          console.log('Пользователь не найден по email, нужно будет получить ID позже');\n        }\n      } catch (error) {\n        console.warn('Не удалось получить пользователя по email, возможно API не поддерживает поиск:', error);\n        // Продолжаем без данных пользователя - получим их позже на странице профиля\n      }\n    }\n    return result;\n  }\n\n  // Поиск по объявлениям\n  async searchOrders(params) {\n    const {\n      district,\n      kind\n    } = params;\n    let queryString = '';\n    const paramsArray = [];\n    if (district) paramsArray.push(`district=${encodeURIComponent(district)}`);\n    if (kind) paramsArray.push(`kind=${encodeURIComponent(kind)}`);\n    if (paramsArray.length > 0) {\n      queryString = `?${paramsArray.join('&')}`;\n    }\n    const result = await this.request(`/search/order${queryString}`);\n\n    // Преобразуем пути изображений\n    if (result && result.data && result.data.orders) {\n      result.data.orders = result.data.orders.map(order => ({\n        ...order,\n        photo: order.photo ? this.getImageUrl(order.photo) : null,\n        photos: order.photos ? this.getImageUrl(order.photos) : null\n      }));\n    }\n    return result;\n  }\n\n  // Получение информации о пользователе\n  async getUserProfile(userId) {\n    return this.request(`/users/${userId}`);\n  }\n\n  // Обновление телефона\n  async updatePhone(userId, phone) {\n    return this.request(`/users/phone`, 'PATCH', {\n      phone\n    });\n  }\n\n  // Обновление email\n  async updateEmail(userId, email) {\n    return this.request(`/users/email`, 'PATCH', {\n      email\n    });\n  }\n\n  // Объявления пользователя\n  async getUserOrders() {\n    return this.getCurrentUserOrders();\n  }\n\n  // Удаление объявления\n  async deleteOrder(orderId) {\n    return this.request(`/users/orders/${orderId}`, 'DELETE');\n  }\n\n  // Редактирование объявления\n  async updateOrder(orderId, formData) {\n    return this.request(`/pets/${orderId}`, 'POST', formData, true);\n  }\n\n  // Получение карточки животного\n  async getPetDetails(petId) {\n    const result = await this.request(`/pets/${petId}`);\n\n    // Преобразуем пути изображений\n    if (result && result.data && result.data.pet && result.data.pet.length > 0) {\n      const pet = result.data.pet[0];\n      if (pet.photos && Array.isArray(pet.photos)) {\n        pet.photos = pet.photos.map(photo => photo ? this.getImageUrl(photo) : null);\n      }\n    }\n    return result;\n  }\n\n  // Добавление нового объявления - БЕЗ авторизации!\n  async createOrder(formData) {\n    try {\n      console.log('Создание объявления о питомце...');\n      const response = await ApiService.request('/pets', 'POST', formData, false);\n      return response;\n    } catch (error) {\n      console.error('Error creating pet:', error);\n      throw error;\n    }\n  }\n}\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_HOST","BASE_URL","ApiService","constructor","baseUrl","token","localStorage","getItem","searchTimeout","findUserByEmail","email","response","request","console","log","users","Array","isArray","data","user","find","u","warn","error","getStoredUserName","userDataStr","userData","JSON","parse","name","getUserIdFromToken","savedUserId","parseInt","getCurrentUser","getCurrentUserOrders","result","orders","map","order","photo","getImageUrl","photos","imagePath","startsWith","cleanPath","trim","fullUrl","setToken","setItem","removeItem","clearToken","getHeaders","isFormData","headers","endpoint","method","url","options","body","stringify","fetch","status","success","responseData","json","ok","Error","getPetsSlider","empty","pets","pet","image","searchPets","query","delay","clearTimeout","Promise","resolve","setTimeout","encodeURIComponent","getRecentPets","subscribeToNews","register","confirm","id","toString","login","password","searchResult","length","searchOrders","params","district","kind","queryString","paramsArray","push","join","getUserProfile","userId","updatePhone","phone","updateEmail","getUserOrders","deleteOrder","orderId","updateOrder","formData","getPetDetails","petId","createOrder","apiService"],"sources":["C:/Users/1874-23/Desktop/getpetback/src/services/api.jsx"],"sourcesContent":["import { API_HOST, BASE_URL } from '../config/api';\r\n\r\nclass ApiService {\r\n    constructor() {\r\n        this.baseUrl = API_HOST;\r\n        this.token = localStorage.getItem('auth_token');\r\n        this.searchTimeout = null;\r\n    }\r\n\r\n    // Метод для поиска пользователя по email\r\n    async findUserByEmail(email) {\r\n        try {\r\n            // Получаем всех пользователей\r\n            const response = await this.request('/users');\r\n            console.log('Поиск пользователя по email:', email);\r\n\r\n            // Проверяем разные форматы ответа\r\n            let users = [];\r\n            if (Array.isArray(response)) {\r\n                users = response;\r\n            } else if (response && response.data && Array.isArray(response.data)) {\r\n                users = response.data;\r\n            } else if (response && Array.isArray(response.users)) {\r\n                users = response.users;\r\n            }\r\n\r\n            // Ищем пользователя по email\r\n            const user = users.find(u => u.email === email);\r\n            if (user) {\r\n                console.log('Пользователь найден:', user);\r\n                return user;\r\n            }\r\n\r\n            console.warn('Пользователь не найден');\r\n            return null;\r\n        } catch (error) {\r\n            console.error('Ошибка поиска пользователя по email:', error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // Получение имени пользователя\r\n    getStoredUserName() {\r\n        const userDataStr = localStorage.getItem('user_data');\r\n        if (userDataStr) {\r\n            try {\r\n                const userData = JSON.parse(userDataStr);\r\n                return userData.name || '';\r\n            } catch (error) {\r\n                console.error('Ошибка при чтении данных пользователя:', error);\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    // Получение ID пользователя из токена\r\n    getUserIdFromToken() {\r\n        // Просто проверяем сохраненный ID\r\n        const savedUserId = localStorage.getItem('user_id');\r\n        if (savedUserId) {\r\n            return parseInt(savedUserId);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Получение данных текущего пользователя\r\n    async getCurrentUser() {\r\n        console.log('Получение данных текущего пользователя через /users');\r\n        return this.request('/users');\r\n    }\r\n\r\n    // Получение объявлений текущего пользователя\r\n    async getCurrentUserOrders() {\r\n        console.log('Получение объявлений текущего пользователя через /users/orders');\r\n        let result = await this.request('/users/orders');\r\n\r\n        // Преобразуем пути изображений\r\n        if (result && result.data && result.data.orders) {\r\n            result.data.orders = result.data.orders.map(order => ({\r\n                ...order,\r\n                photo: order.photo ? this.getImageUrl(order.photo) : null,\r\n                photos: order.photos ? this.getImageUrl(order.photos) : null\r\n            }));\r\n        } else if (Array.isArray(result)) {\r\n            // Если API возвращает напрямую массив\r\n            result = result.map(order => ({\r\n                ...order,\r\n                photo: order.photo ? this.getImageUrl(order.photo) : null,\r\n                photos: order.photos ? this.getImageUrl(order.photos) : null\r\n            }));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Добавляем метод для получения полного URL изображения\r\n    getImageUrl(imagePath) {\r\n        if (!imagePath) {\r\n            console.warn('Image path is null or undefined');\r\n            return null;\r\n        }\r\n\r\n        // Если URL уже полный, возвращаем как есть\r\n        if (imagePath.startsWith('http')) {\r\n            return imagePath;\r\n        }\r\n\r\n        // Очищаем путь от возможных проблем\r\n        const cleanPath = imagePath.trim();\r\n\r\n        // Проверяем, что путь начинается со слеша\r\n        if (!cleanPath.startsWith('/')) {\r\n            console.warn('Image path does not start with /:', cleanPath);\r\n            return null;\r\n        }\r\n\r\n        // Собираем полный URL\r\n        const fullUrl = `${BASE_URL}${cleanPath}`;\r\n\r\n        return fullUrl;\r\n    }\r\n\r\n    setToken(token) {\r\n        console.log('setToken: установка токена', token ? 'есть' : 'нет');\r\n        this.token = token;\r\n        if (token) {\r\n            localStorage.setItem('auth_token', token);\r\n        } else {\r\n            localStorage.removeItem('auth_token');\r\n        }\r\n    }\r\n\r\n    clearToken() {\r\n        console.log('clearToken: очистка токена');\r\n        this.token = null;\r\n        localStorage.removeItem('auth_token');\r\n        localStorage.removeItem('user_id');\r\n        localStorage.removeItem('user_data');\r\n    }\r\n\r\n    getHeaders(isFormData = false) {\r\n        const headers = {};\r\n\r\n        if (!isFormData) {\r\n            headers['Content-Type'] = 'application/json';\r\n        }\r\n\r\n        if (this.token) {\r\n            headers['Authorization'] = `Bearer ${this.token}`;\r\n        }\r\n\r\n        return headers;\r\n    }\r\n\r\n    async request(endpoint, method = 'GET', data = null, isFormData = false) {\r\n        const url = `${this.baseUrl}${endpoint}`;\r\n        console.log(`API ${method} ${url}`, data ? 'с данными' : 'без данных');\r\n\r\n        const options = {\r\n            method,\r\n            headers: this.getHeaders(isFormData),\r\n        };\r\n\r\n        if (data) {\r\n            if (isFormData) {\r\n                options.body = data;\r\n            } else {\r\n                options.body = JSON.stringify(data);\r\n            }\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(url, options);\r\n\r\n            // Handle 204 No Content\r\n            if (response.status === 204) {\r\n                return { success: true };\r\n            }\r\n\r\n            const responseData = await response.json();\r\n            console.log(`API ${method} ${url} ответ:`, responseData);\r\n\r\n            if (!response.ok) {\r\n                console.error(`API Error ${response.status}:`, responseData);\r\n                const error = new Error(`API Error ${response.status}`);\r\n                error.status = response.status;\r\n                error.data = responseData;\r\n                throw error; // Выбрасываем экземпляр Error\r\n            }\r\n\r\n            return responseData;\r\n        } catch (error) {\r\n            console.error(`API Error (${method} ${endpoint}):`, error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    // Слайдер с животными\r\n    async getPetsSlider(empty = false) {\r\n        const endpoint = empty ? '/pets/slider/empty' : '/pets/slider';\r\n        const result = await this.request(endpoint);\r\n\r\n        // Преобразуем пути изображений в полные URL\r\n        if (result && result.data && result.data.pets) {\r\n            result.data.pets = result.data.pets.map(pet => ({\r\n                ...pet,\r\n                image: pet.image ? this.getImageUrl(pet.image) : null\r\n            }));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Быстрый поиск\r\n    async searchPets(query = '', delay = 1000) {\r\n        if (this.searchTimeout) {\r\n            clearTimeout(this.searchTimeout);\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            this.searchTimeout = setTimeout(async () => {\r\n                const endpoint = query ? `/search?query=${encodeURIComponent(query)}` : '/search';\r\n                const result = await this.request(endpoint);\r\n\r\n                // Преобразуем пути изображений\r\n                if (result && result.data && result.data.orders) {\r\n                    result.data.orders = result.data.orders.map(order => ({\r\n                        ...order,\r\n                        photo: order.photo ? this.getImageUrl(order.photo) : null,\r\n                        photos: order.photos ? this.getImageUrl(order.photos) : null\r\n                    }));\r\n                }\r\n\r\n                resolve(result);\r\n            }, delay);\r\n        });\r\n    }\r\n\r\n    // Последние найденные животные\r\n    async getRecentPets() {\r\n        const result = await this.request('/pets');\r\n\r\n        // Преобразуем пути изображений\r\n        if (result && result.data && result.data.orders) {\r\n            result.data.orders = result.data.orders.map(order => ({\r\n                ...order,\r\n                photo: order.photo ? this.getImageUrl(order.photo) : null,\r\n                photos: order.photos ? this.getImageUrl(order.photos) : null\r\n            }));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Подписка на новости\r\n    async subscribeToNews(email) {\r\n        return this.request('/subscription', 'POST', { email });\r\n    }\r\n\r\n    // Регистрация пользователя\r\n    async register(userData) {\r\n        console.log('Регистрация пользователя:', userData);\r\n        const result = await this.request('/register', 'POST', {\r\n            ...userData,\r\n            confirm: userData.confirm ? 1 : 0\r\n        });\r\n\r\n        // Если при регистрации возвращается ID пользователя\r\n        if (result && result.id) {\r\n            localStorage.setItem('user_id', result.id.toString());\r\n            localStorage.setItem('user_data', JSON.stringify(result));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Авторизация\r\n    async login(email, password) {\r\n        console.log('Логин пользователя:', email);\r\n        const result = await this.request('/login', 'POST', { email, password });\r\n        if (result.data && result.data.token) {\r\n            this.setToken(result.data.token);\r\n\r\n            try {\r\n                // Запросим всех пользователей (если это возможно)\r\n                // или получим ID через другой endpoint\r\n                console.log('Пытаемся получить ID пользователя после входа');\r\n\r\n                // Если API позволяет поиск по email\r\n                const searchResult = await this.request(`/users?email=${encodeURIComponent(email)}`);\r\n\r\n                if (searchResult && searchResult.length > 0) {\r\n                    const user = searchResult[0];\r\n                    localStorage.setItem('user_data', JSON.stringify(user));\r\n                    localStorage.setItem('user_id', user.id.toString());\r\n                    console.log('Пользователь найден по email, ID:', user.id);\r\n                } else {\r\n                    console.log('Пользователь не найден по email, нужно будет получить ID позже');\r\n                }\r\n            } catch (error) {\r\n                console.warn('Не удалось получить пользователя по email, возможно API не поддерживает поиск:', error);\r\n                // Продолжаем без данных пользователя - получим их позже на странице профиля\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Поиск по объявлениям\r\n    async searchOrders(params) {\r\n        const { district, kind } = params;\r\n        let queryString = '';\r\n        const paramsArray = [];\r\n\r\n        if (district) paramsArray.push(`district=${encodeURIComponent(district)}`);\r\n        if (kind) paramsArray.push(`kind=${encodeURIComponent(kind)}`);\r\n\r\n        if (paramsArray.length > 0) {\r\n            queryString = `?${paramsArray.join('&')}`;\r\n        }\r\n\r\n        const result = await this.request(`/search/order${queryString}`);\r\n\r\n        // Преобразуем пути изображений\r\n        if (result && result.data && result.data.orders) {\r\n            result.data.orders = result.data.orders.map(order => ({\r\n                ...order,\r\n                photo: order.photo ? this.getImageUrl(order.photo) : null,\r\n                photos: order.photos ? this.getImageUrl(order.photos) : null\r\n            }));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Получение информации о пользователе\r\n    async getUserProfile(userId) {\r\n        return this.request(`/users/${userId}`);\r\n    }\r\n\r\n    // Обновление телефона\r\n    async updatePhone(userId, phone) {\r\n        return this.request(`/users/phone`, 'PATCH', { phone });\r\n    }\r\n\r\n    // Обновление email\r\n    async updateEmail(userId, email) {\r\n        return this.request(`/users/email`, 'PATCH', { email });\r\n    }\r\n\r\n    // Объявления пользователя\r\n    async getUserOrders() {\r\n        return this.getCurrentUserOrders();\r\n    }\r\n\r\n    // Удаление объявления\r\n    async deleteOrder(orderId) {\r\n        return this.request(`/users/orders/${orderId}`, 'DELETE');\r\n    }\r\n\r\n    // Редактирование объявления\r\n    async updateOrder(orderId, formData) {\r\n        return this.request(`/pets/${orderId}`, 'POST', formData, true);\r\n    }\r\n\r\n    // Получение карточки животного\r\n    async getPetDetails(petId) {\r\n        const result = await this.request(`/pets/${petId}`);\r\n\r\n        // Преобразуем пути изображений\r\n        if (result && result.data && result.data.pet && result.data.pet.length > 0) {\r\n            const pet = result.data.pet[0];\r\n            if (pet.photos && Array.isArray(pet.photos)) {\r\n                pet.photos = pet.photos.map(photo =>\r\n                    photo ? this.getImageUrl(photo) : null\r\n                );\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Добавление нового объявления - БЕЗ авторизации!\r\n    async createOrder(formData) {\r\n        try {\r\n            console.log('Создание объявления о питомце...');\r\n            const response = await ApiService.request('/pets', 'POST', formData, false);\r\n            return response;\r\n        } catch (error) {\r\n            console.error('Error creating pet:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nconst apiService = new ApiService();\r\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}