{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1874-23\\\\Desktop\\\\getpetback\\\\src\\\\pages\\\\profile.jsx\",\n  _s = $RefreshSig$();\n// src/pages/profile.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport ProfileStats from '../components/profile-stats';\nimport UserAds from '../components/user-ads';\nimport LogoutModal from '../components/logout-modal';\nimport AuthRequiredModal from '../components/auth-required-modal';\nimport ApiService from '../services/api';\nimport placeholderImage from '../assets/images/placeholder.svg';\nimport Text from '../components/Text';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const primaryButtonStyle = {\n    backgroundColor: 'rgb(91, 160, 74)',\n    borderColor: 'rgb(91, 160, 74)',\n    color: 'white'\n  };\n  const primaryButtonHoverStyle = {\n    backgroundColor: 'rgb(81, 140, 64)',\n    borderColor: 'rgb(81, 140, 64)',\n    color: 'white'\n  };\n  const [activeTab, setActiveTab] = useState('ads');\n  const [userData, setUserData] = useState(null);\n  const [userAds, setUserAds] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [contactData, setContactData] = useState({\n    phone: '',\n    email: ''\n  });\n  const [editErrors, setEditErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const [passwordErrors, setPasswordErrors] = useState({});\n  const [isEditingContacts, setIsEditingContacts] = useState(false);\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\n  const [isSavingContacts, setIsSavingContacts] = useState(false);\n  const [isSavingPassword, setIsSavingPassword] = useState(false);\n  const navigate = useNavigate();\n  const handleAdUpdate = async (adId, updatedData) => {\n    try {\n      const formData = new FormData();\n\n      // Добавляем файлы, если они есть\n      if (updatedData.photos && updatedData.photos[0]) {\n        formData.append('photo1', updatedData.photos[0]);\n      }\n      if (updatedData.photos && updatedData.photos[1]) {\n        formData.append('photo2', updatedData.photos[1]);\n      }\n      if (updatedData.photos && updatedData.photos[2]) {\n        formData.append('photo3', updatedData.photos[2]);\n      }\n      formData.append('mark', updatedData.mark || '');\n      formData.append('description', updatedData.description || '');\n      await ApiService.updateOrder(adId, formData);\n\n      // Обновляем локальное состояние\n      const updatedAds = userAds.map(ad => ad.id === adId ? {\n        ...ad,\n        mark: updatedData.mark,\n        description: updatedData.description\n      } : ad);\n      setUserAds(updatedAds);\n      setSuccessMessage('Объявление успешно обновлено');\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (error) {\n      console.error('Ошибка при обновлении объявления:', error);\n      setError('Ошибка при обновлении объявления');\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n  const handleAdDelete = async adId => {\n    try {\n      await ApiService.deleteOrder(adId);\n\n      // Обновляем локальное состояние\n      const updatedAds = userAds.filter(ad => ad.id !== adId);\n      setUserAds(updatedAds);\n      setSuccessMessage('Объявление успешно удалено');\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (error) {\n      console.error('Ошибка при удалении объявления:', error);\n      if (error.status === 403) {\n        setError('Нельзя удалить объявление с текущим статусом');\n      } else {\n        setError('Ошибка при удалении объявления');\n      }\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n\n  // Проверка авторизации и загрузка данных\n  useEffect(() => {\n    console.log('=== PROFILE USEEFFECT START ===');\n    const token = localStorage.getItem('auth_token');\n    console.log('Токен в localStorage:', token ? 'ЕСТЬ' : 'НЕТ');\n    if (!token) {\n      console.log('Нет токена, редирект на /register');\n      navigate('/register');\n      return;\n    }\n    const loadProfileData = async () => {\n      try {\n        setLoading(true);\n        console.log('=== ЗАГРУЗКА ПРОФИЛЯ ===');\n        const token = localStorage.getItem('auth_token');\n        if (!token) {\n          console.log('Нет токена, редирект на /register');\n          navigate('/register');\n          return;\n        }\n        console.log('1. Запрашиваем данные пользователя через /users');\n\n        // Получаем данные текущего пользователя\n        const userResponse = await ApiService.request('/users');\n        console.log('Ответ пользователя:', userResponse);\n\n        // Обрабатываем данные пользователя\n        let userData = null;\n        if (userResponse && userResponse.id) {\n          // Формат: {id: 123, name: \"Имя\", email: \"...\", ...}\n          userData = userResponse;\n        } else if (userResponse && userResponse.data && userResponse.data.id) {\n          // Формат: {data: {id: 123, name: \"Имя\", ...}}\n          userData = userResponse.data;\n        }\n        if (!userData || !userData.id) {\n          console.error('Не удалось получить данные пользователя');\n          throw new Error('Не удалось получить данные пользователя');\n        }\n        console.log('Данные пользователя получены:', userData);\n\n        // Сохраняем ID пользователя в localStorage\n        localStorage.setItem('user_id', userData.id.toString());\n        localStorage.setItem('user_data', JSON.stringify(userData));\n\n        // Расчет дней с регистрации\n        if (userData.registrationDate) {\n          const regDate = new Date(userData.registrationDate);\n          const today = new Date();\n          const diffTime = Math.abs(today - regDate);\n          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n          userData.daysSinceRegistration = diffDays;\n        }\n\n        // Устанавливаем данные пользователя\n        setUserData(userData);\n        setContactData({\n          phone: userData.phone || '',\n          email: userData.email || ''\n        });\n        console.log('2. Запрашиваем объявления пользователя через /users/orders');\n\n        // Получаем объявления пользователя\n        const adsResponse = await ApiService.getCurrentUserOrders();\n        console.log('Ответ объявлений:', adsResponse);\n\n        // Обработка объявлений\n        if (adsResponse && adsResponse.data && adsResponse.data.orders) {\n          console.log('Объявлений получено:', adsResponse.data.orders.length);\n          const adsWithStatusText = adsResponse.data.orders.map(ad => ({\n            ...ad,\n            statusText: getStatusText(ad.status),\n            image: ad.photo || ad.photos || placeholderImage\n          }));\n          setUserAds(adsWithStatusText);\n        } else if (adsResponse && Array.isArray(adsResponse)) {\n          console.log('Объявлений получено (прямой массив):', adsResponse.length);\n          const adsWithStatusText = adsResponse.map(ad => ({\n            ...ad,\n            statusText: getStatusText(ad.status),\n            image: ad.photo || ad.photos || placeholderImage\n          }));\n          setUserAds(adsWithStatusText);\n        } else {\n          console.log('Нет объявлений у пользователя');\n          setUserAds([]);\n        }\n        console.log('=== ЗАГРУЗКА ПРОФИЛЯ ЗАВЕРШЕНА ===');\n      } catch (error) {\n        console.error('Ошибка загрузки профиля:', error);\n        if (error.status === 401) {\n          console.log('Ошибка 401 - неавторизован, очищаем токен');\n          ApiService.clearToken();\n          navigate('/register');\n        } else if (error.status === 404) {\n          console.log('Ошибка 404 - пользователь не найден');\n          setError('Пользователь не найден');\n        } else {\n          setError('Ошибка при загрузке данных профиля: ' + (error.message || 'Неизвестная ошибка'));\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadProfileData();\n  }, [navigate]);\n  const getStatusText = status => {\n    switch (status) {\n      case 'active':\n        return 'Активное';\n      case 'wasFound':\n        return 'Хозяин найден';\n      case 'onModeration':\n        return 'На модерации';\n      case 'archive':\n        return 'В архиве';\n      default:\n        return status;\n    }\n  };\n  const getStatusClass = status => {\n    switch (status) {\n      case 'active':\n        return 'badge-status-active';\n      case 'wasFound':\n        return 'badge-status-wasFound';\n      case 'onModeration':\n        return 'badge-status-onModeration';\n      case 'archive':\n        return 'badge-status-archive';\n      default:\n        return '';\n    }\n  };\n  const getStatusStyle = status => {\n    switch (status) {\n      case 'active':\n        return {\n          backgroundColor: '#rgb(221, 116, 169)',\n          color: 'white'\n        };\n      case 'wasFound':\n        return {\n          backgroundColor: '#17a2b8',\n          color: 'white'\n        };\n      case 'onModeration':\n        return {\n          backgroundColor: '#ffc107',\n          color: 'black'\n        };\n      case 'archive':\n        return {\n          backgroundColor: '#6c757d',\n          color: 'white'\n        };\n      default:\n        return {};\n    }\n  };\n\n  // Функция для валидации email\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  // Функция для валидации телефона\n  const validatePhone = phone => {\n    // Удаляем все нецифровые символы\n    const cleanPhone = phone.replace(/\\D/g, '');\n    return cleanPhone.length >= 10;\n  };\n\n  // Обработка изменения контактных данных\n  const handleContactChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setContactData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Очищаем ошибки для этого поля\n    if (editErrors[name]) {\n      setEditErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Отмена редактирования контактов\n  const handleCancelContacts = () => {\n    setContactData({\n      phone: (userData === null || userData === void 0 ? void 0 : userData.phone) || '',\n      email: (userData === null || userData === void 0 ? void 0 : userData.email) || ''\n    });\n    setEditErrors({});\n    setIsEditingContacts(false);\n  };\n\n  // Сохранение контактных данных\n  const handleContactSubmit = async e => {\n    e.preventDefault();\n    setEditErrors({});\n    setIsSavingContacts(true);\n\n    // Валидация на клиенте\n    const errors = {};\n    if (contactData.email && !validateEmail(contactData.email)) {\n      errors.email = 'Введите корректный адрес электронной почты';\n    }\n    if (contactData.phone && !validatePhone(contactData.phone)) {\n      errors.phone = 'Номер телефона должен содержать не менее 10 цифр';\n    }\n    if (Object.keys(errors).length > 0) {\n      setEditErrors(errors);\n      setIsSavingContacts(false);\n      return;\n    }\n    try {\n      const userId = localStorage.getItem('user_id');\n      if (!userId) {\n        throw new Error('Пользователь не авторизован');\n      }\n      let hasChanges = false;\n\n      // Обновляем телефон, если он изменился\n      if (contactData.phone !== (userData === null || userData === void 0 ? void 0 : userData.phone)) {\n        await ApiService.updatePhone(userId, contactData.phone);\n        hasChanges = true;\n      }\n\n      // Обновляем email, если он изменился\n      if (contactData.email !== (userData === null || userData === void 0 ? void 0 : userData.email)) {\n        await ApiService.updateEmail(userId, contactData.email);\n        hasChanges = true;\n      }\n      if (hasChanges) {\n        // Обновляем локальные данные\n        setUserData(prev => ({\n          ...prev,\n          phone: contactData.phone,\n          email: contactData.email\n        }));\n        setSuccessMessage('Контактные данные успешно обновлены');\n        setIsEditingContacts(false);\n      } else {\n        setSuccessMessage('Изменений не обнаружено');\n      }\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (error) {\n      console.error('Ошибка при обновлении контактов:', error);\n      if (error.status === 422 || error.status === 400) {\n        var _error$data, _error$data$error;\n        setEditErrors(((_error$data = error.data) === null || _error$data === void 0 ? void 0 : (_error$data$error = _error$data.error) === null || _error$data$error === void 0 ? void 0 : _error$data$error.errors) || {});\n      } else if (error.status === 409) {\n        setEditErrors({\n          email: 'Этот email уже используется другим пользователем'\n        });\n      } else {\n        var _error$data2, _error$data2$error;\n        setError('Ошибка при обновлении контактных данных: ' + (((_error$data2 = error.data) === null || _error$data2 === void 0 ? void 0 : (_error$data2$error = _error$data2.error) === null || _error$data2$error === void 0 ? void 0 : _error$data2$error.message) || 'Неизвестная ошибка'));\n        setTimeout(() => setError(null), 3000);\n      }\n    } finally {\n      setIsSavingContacts(false);\n    }\n  };\n\n  // Обработка изменения полей пароля\n  const handlePasswordChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPasswordData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Очищаем ошибки для этого поля\n    if (passwordErrors[name]) {\n      setPasswordErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Отмена смены пароля\n  const handleCancelPassword = () => {\n    setPasswordData({\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    });\n    setPasswordErrors({});\n    setIsChangingPassword(false);\n  };\n\n  // Сохранение нового пароля\n  const handlePasswordSubmit = async e => {\n    e.preventDefault();\n    setPasswordErrors({});\n    setIsSavingPassword(true);\n    const {\n      currentPassword,\n      newPassword,\n      confirmPassword\n    } = passwordData;\n\n    // Валидация на клиенте\n    const errors = {};\n    const passwordRegex = /^(?=.d)(?=.*[a-z])(?=.*[A-Z]).{7,}$/;\n    if (!currentPassword) {\n      errors.currentPassword = 'Введите текущий пароль';\n    }\n    if (!newPassword) {\n      errors.newPassword = 'Введите новый пароль';\n    } else if (!passwordRegex.test(newPassword)) {\n      errors.newPassword = 'Пароль должен содержать минимум 7 символов, 1 цифру, 1 строчную и 1 заглавную букву';\n    }\n    if (!confirmPassword) {\n      errors.confirmPassword = 'Подтвердите новый пароль';\n    } else if (newPassword !== confirmPassword) {\n      errors.confirmPassword = 'Пароли не совпадают';\n    }\n    if (Object.keys(errors).length > 0) {\n      setPasswordErrors(errors);\n      setIsSavingPassword(false);\n      return;\n    }\n    try {\n      const userId = localStorage.getItem('user_id');\n      if (!userId) {\n        throw new Error('Пользователь не авторизован');\n      }\n      await ApiService.updatePassword(userId, {\n        currentPassword,\n        newPassword,\n        confirmPassword\n      });\n      setSuccessMessage('Пароль успешно изменен');\n      setPasswordData({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n      setIsChangingPassword(false);\n      setTimeout(() => setSuccessMessage(''), 3000);\n    } catch (error) {\n      console.error('Ошибка при смене пароля:', error);\n      if (error.status === 401 || error.status === 422 || error.status === 400) {\n        var _error$data3, _error$data3$error;\n        setPasswordErrors(((_error$data3 = error.data) === null || _error$data3 === void 0 ? void 0 : (_error$data3$error = _error$data3.error) === null || _error$data3$error === void 0 ? void 0 : _error$data3$error.errors) || {});\n      } else {\n        var _error$data4, _error$data4$error;\n        setError('Ошибка при смене пароля: ' + (((_error$data4 = error.data) === null || _error$data4 === void 0 ? void 0 : (_error$data4$error = _error$data4.error) === null || _error$data4$error === void 0 ? void 0 : _error$data4$error.message) || 'Неизвестная ошибка'));\n        setTimeout(() => setError(null), 3000);\n      }\n    } finally {\n      setIsSavingPassword(false);\n    }\n  };\n  const handleLogout = () => {\n    console.log('Выход из профиля');\n    ApiService.clearToken();\n    navigate('/');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isAuthenticated: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          style: {\n            width: '3rem',\n            height: '3rem',\n            color: 'rgb(91, 160, 74)'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted small\",\n          children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044F\\u0435\\u043C \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 13\n    }, this);\n  }\n  if (!userData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isAuthenticated: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          children: \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary button-css\",\n            onClick: () => navigate('/register'),\n            children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443 \\u0432\\u0445\\u043E\\u0434\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isAuthenticated: true,\n      userName: userData.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-fixed-top\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success alert-dismissible fade show\",\n          role: \"alert\",\n          children: [successMessage, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: () => setSuccessMessage('')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              value: \"\\u041C\\u043E\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-main-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card profile-stats-card\",\n                style: {\n                  backgroundColor: 'rgb(211, 110, 135)',\n                  color: 'white',\n                  minHeight: '250px',\n                  height: '250px',\n                  width: '100%',\n                  maxWidth: '320px',\n                  margin: '0 auto'\n                },\n                children: /*#__PURE__*/_jsxDEV(ProfileStats, {\n                  userName: userData.name,\n                  daysCount: userData.daysSinceRegistration || 0,\n                  adsCount: userData.ordersCount || userAds.length,\n                  petsCount: userData.petsCount || 0,\n                  dateR: userData.registrationDate,\n                  email: userData.email || 0,\n                  phone: userData.phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-9\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-ads-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card h-100 user-ads-card\",\n                style: {\n                  backgroundColor: 'rgb(211, 110, 135)',\n                  minHeight: '280px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body d-flex flex-column\",\n                  style: {\n                    width: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 mt-2 gap-3 gap-md-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"nav nav-pills flex-column flex-sm-row\",\n                      id: \"profileTabs\",\n                      role: \"tablist\",\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"nav-item\",\n                        role: \"presentation\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: `nav-link ${activeTab === 'ads' ? 'active' : ''}`,\n                          onClick: () => setActiveTab('ads'),\n                          style: activeTab === 'ads' ? primaryButtonStyle : {\n                            color: 'rgba(34, 67, 26, 1)',\n                            backgroundColor: 'transparent',\n                            borderColor: 'transparent'\n                          },\n                          children: \"\\u041C\\u043E\\u0438 \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 600,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 599,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        className: \"nav-item\",\n                        role: \"presentation\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: `nav-link ${activeTab === 'settings' ? 'active' : ''}`,\n                          onClick: () => setActiveTab('settings'),\n                          style: activeTab === 'settings' ? primaryButtonStyle : {\n                            color: 'rgba(34, 67, 26, 1)',\n                            backgroundColor: 'transparent',\n                            borderColor: 'transparent'\n                          },\n                          children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 613,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 612,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 598,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/add\",\n                      className: \"btn button-css add-ad-btn\",\n                      style: {\n                        border: '2px solid white',\n                        color: 'white',\n                        width: '100%',\n                        maxWidth: '250px'\n                      },\n                      children: \"+ \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 628,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tab-content flex-grow-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `tab-pane fade ${activeTab === 'ads' ? 'show active' : ''}`,\n                      children: [/*#__PURE__*/_jsxDEV(UserAds, {\n                        ads: userAds,\n                        onAdUpdate: handleAdUpdate,\n                        onAdDelete: handleAdDelete,\n                        getStatusClass: getStatusClass,\n                        getStatusStyle: getStatusStyle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 644,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 651,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 643,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `tab-pane fade ${activeTab === 'settings' ? 'show active' : ''}`,\n                      children: /*#__PURE__*/_jsxDEV(\"section\", {\n                        id: \"settings\",\n                        role: \"tabpanel\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card mb-4\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body\",\n                            children: /*#__PURE__*/_jsxDEV(\"form\", {\n                              onSubmit: handleContactSubmit,\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"mb-3\",\n                                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                  htmlFor: \"phone\",\n                                  className: \"form-label\",\n                                  children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 660,\n                                  columnNumber: 69\n                                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                  type: \"tel\",\n                                  className: `form-control ${editErrors.phone ? 'is-invalid' : ''}`,\n                                  id: \"phone\",\n                                  name: \"phone\",\n                                  value: contactData.phone,\n                                  onChange: handleContactChange,\n                                  required: true,\n                                  disabled: !isEditingContacts\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 661,\n                                  columnNumber: 69\n                                }, this), editErrors.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"invalid-feedback\",\n                                  children: editErrors.phone\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 672,\n                                  columnNumber: 73\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 659,\n                                columnNumber: 65\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"mb-4\",\n                                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                  htmlFor: \"email\",\n                                  className: \"form-label\",\n                                  children: \"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 679,\n                                  columnNumber: 69\n                                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                  type: \"email\",\n                                  className: `form-control ${editErrors.email ? 'is-invalid' : ''}`,\n                                  id: \"email\",\n                                  name: \"email\",\n                                  value: contactData.email,\n                                  onChange: handleContactChange,\n                                  required: true,\n                                  disabled: !isEditingContacts\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 680,\n                                  columnNumber: 69\n                                }, this), editErrors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"invalid-feedback\",\n                                  children: editErrors.email\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 691,\n                                  columnNumber: 73\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 678,\n                                columnNumber: 65\n                              }, this), !isEditingContacts && /*#__PURE__*/_jsxDEV(\"button\", {\n                                type: \"button\",\n                                className: \"btn btn-primary button-css\",\n                                onClick: () => setIsEditingContacts(true),\n                                style: {\n                                  backgroundColor: 'rgb(91, 160, 74)',\n                                  borderColor: 'rgb(91, 160, 74)',\n                                  color: 'white'\n                                },\n                                onMouseEnter: e => {\n                                  e.target.style.backgroundColor = 'rgb(81, 140, 64)';\n                                  e.target.style.borderColor = 'rgb(81, 140, 64)';\n                                },\n                                onMouseLeave: e => {\n                                  e.target.style.backgroundColor = 'rgb(91, 160, 74)';\n                                  e.target.style.borderColor = 'rgb(91, 160, 74)';\n                                },\n                                children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 698,\n                                columnNumber: 69\n                              }, this), isEditingContacts && /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"d-flex gap-2\",\n                                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"submit\",\n                                  className: \"btn btn-primary button-css\",\n                                  disabled: isSavingContacts,\n                                  style: {\n                                    backgroundColor: 'rgb(91, 160, 74)',\n                                    borderColor: 'rgb(91, 160, 74)',\n                                    color: 'white'\n                                  },\n                                  onMouseEnter: e => {\n                                    e.target.style.backgroundColor = 'rgb(81, 140, 64)';\n                                    e.target.style.borderColor = 'rgb(81, 140, 64)';\n                                  },\n                                  onMouseLeave: e => {\n                                    e.target.style.backgroundColor = 'rgb(91, 160, 74)';\n                                    e.target.style.borderColor = 'rgb(91, 160, 74)';\n                                  },\n                                  children: isSavingContacts ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                      className: \"spinner-border spinner-border-sm me-2\",\n                                      role: \"status\",\n                                      \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 742,\n                                      columnNumber: 85\n                                    }, this), \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435...\"]\n                                  }, void 0, true) : 'Сохранить изменения'\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 722,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"button\",\n                                  className: \"btn btn-outline-secondary\",\n                                  onClick: handleCancelContacts,\n                                  disabled: isSavingContacts,\n                                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 747,\n                                  columnNumber: 73\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 721,\n                                columnNumber: 69\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 658,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 657,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 656,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 655,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-fixed-top\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger alert-dismissible fade show\",\n          role: \"alert\",\n          children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: () => setError(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LogoutModal, {\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AuthRequiredModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 529,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"P5XS3vQosUNFR4faeoJy0WX+1XA=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Header","Footer","ProfileStats","UserAds","LogoutModal","AuthRequiredModal","ApiService","placeholderImage","Text","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","primaryButtonStyle","backgroundColor","borderColor","color","primaryButtonHoverStyle","activeTab","setActiveTab","userData","setUserData","userAds","setUserAds","loading","setLoading","error","setError","contactData","setContactData","phone","email","editErrors","setEditErrors","successMessage","setSuccessMessage","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","passwordErrors","setPasswordErrors","isEditingContacts","setIsEditingContacts","isChangingPassword","setIsChangingPassword","isSavingContacts","setIsSavingContacts","isSavingPassword","setIsSavingPassword","navigate","handleAdUpdate","adId","updatedData","formData","FormData","photos","append","mark","description","updateOrder","updatedAds","map","ad","id","setTimeout","console","handleAdDelete","deleteOrder","filter","status","log","token","localStorage","getItem","loadProfileData","userResponse","request","data","Error","setItem","toString","JSON","stringify","registrationDate","regDate","Date","today","diffTime","Math","abs","diffDays","ceil","daysSinceRegistration","adsResponse","getCurrentUserOrders","orders","length","adsWithStatusText","statusText","getStatusText","image","photo","Array","isArray","clearToken","message","getStatusClass","getStatusStyle","validateEmail","emailRegex","test","validatePhone","cleanPhone","replace","handleContactChange","e","name","value","target","prev","handleCancelContacts","handleContactSubmit","preventDefault","errors","Object","keys","userId","hasChanges","updatePhone","updateEmail","_error$data","_error$data$error","_error$data2","_error$data2$error","handlePasswordChange","handleCancelPassword","handlePasswordSubmit","passwordRegex","updatePassword","_error$data3","_error$data3$error","_error$data4","_error$data4$error","handleLogout","children","isAuthenticated","fileName","_jsxFileName","lineNumber","columnNumber","className","role","style","width","height","onClick","userName","type","minHeight","maxWidth","margin","daysCount","adsCount","ordersCount","petsCount","dateR","href","border","ads","onAdUpdate","onAdDelete","onSubmit","htmlFor","onChange","required","disabled","onMouseEnter","onMouseLeave","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/1874-23/Desktop/getpetback/src/pages/profile.jsx"],"sourcesContent":["// src/pages/profile.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport ProfileStats from '../components/profile-stats';\r\nimport UserAds from '../components/user-ads';\r\nimport LogoutModal from '../components/logout-modal';\r\nimport AuthRequiredModal from '../components/auth-required-modal';\r\nimport ApiService from '../services/api';\r\nimport placeholderImage from '../assets/images/placeholder.svg';\r\nimport Text from '../components/Text';\r\n\r\nconst Profile = () => {\r\n    const primaryButtonStyle = {\r\n        backgroundColor: 'rgb(91, 160, 74)',\r\n        borderColor: 'rgb(91, 160, 74)',\r\n        color: 'white'\r\n    };\r\n\r\n    const primaryButtonHoverStyle = {\r\n        backgroundColor: 'rgb(81, 140, 64)',\r\n        borderColor: 'rgb(81, 140, 64)',\r\n        color: 'white'\r\n    };\r\n\r\n    const [activeTab, setActiveTab] = useState('ads');\r\n    const [userData, setUserData] = useState(null);\r\n    const [userAds, setUserAds] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [contactData, setContactData] = useState({\r\n        phone: '',\r\n        email: ''\r\n    });\r\n    const [editErrors, setEditErrors] = useState({});\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [passwordData, setPasswordData] = useState({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [passwordErrors, setPasswordErrors] = useState({});\r\n    const [isEditingContacts, setIsEditingContacts] = useState(false);\r\n    const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n    const [isSavingContacts, setIsSavingContacts] = useState(false);\r\n    const [isSavingPassword, setIsSavingPassword] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleAdUpdate = async (adId, updatedData) => {\r\n        try {\r\n            const formData = new FormData();\r\n\r\n            // Добавляем файлы, если они есть\r\n            if (updatedData.photos && updatedData.photos[0]) {\r\n                formData.append('photo1', updatedData.photos[0]);\r\n            }\r\n            if (updatedData.photos && updatedData.photos[1]) {\r\n                formData.append('photo2', updatedData.photos[1]);\r\n            }\r\n            if (updatedData.photos && updatedData.photos[2]) {\r\n                formData.append('photo3', updatedData.photos[2]);\r\n            }\r\n\r\n            formData.append('mark', updatedData.mark || '');\r\n            formData.append('description', updatedData.description || '');\r\n\r\n            await ApiService.updateOrder(adId, formData);\r\n\r\n            // Обновляем локальное состояние\r\n            const updatedAds = userAds.map(ad =>\r\n                ad.id === adId ? {\r\n                    ...ad,\r\n                    mark: updatedData.mark,\r\n                    description: updatedData.description\r\n                } : ad\r\n            );\r\n            setUserAds(updatedAds);\r\n\r\n            setSuccessMessage('Объявление успешно обновлено');\r\n            setTimeout(() => setSuccessMessage(''), 3000);\r\n\r\n        } catch (error) {\r\n            console.error('Ошибка при обновлении объявления:', error);\r\n            setError('Ошибка при обновлении объявления');\r\n            setTimeout(() => setError(null), 3000);\r\n        }\r\n    };\r\n\r\n    const handleAdDelete = async (adId) => {\r\n        try {\r\n            await ApiService.deleteOrder(adId);\r\n\r\n            // Обновляем локальное состояние\r\n            const updatedAds = userAds.filter(ad => ad.id !== adId);\r\n            setUserAds(updatedAds);\r\n\r\n            setSuccessMessage('Объявление успешно удалено');\r\n            setTimeout(() => setSuccessMessage(''), 3000);\r\n\r\n        } catch (error) {\r\n            console.error('Ошибка при удалении объявления:', error);\r\n            if (error.status === 403) {\r\n                setError('Нельзя удалить объявление с текущим статусом');\r\n            } else {\r\n                setError('Ошибка при удалении объявления');\r\n            }\r\n            setTimeout(() => setError(null), 3000);\r\n        }\r\n    };\r\n\r\n    // Проверка авторизации и загрузка данных\r\n    useEffect(() => {\r\n        console.log('=== PROFILE USEEFFECT START ===');\r\n\r\n        const token = localStorage.getItem('auth_token');\r\n        console.log('Токен в localStorage:', token ? 'ЕСТЬ' : 'НЕТ');\r\n\r\n        if (!token) {\r\n            console.log('Нет токена, редирект на /register');\r\n            navigate('/register');\r\n            return;\r\n        }\r\n\r\n        const loadProfileData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                console.log('=== ЗАГРУЗКА ПРОФИЛЯ ===');\r\n\r\n                const token = localStorage.getItem('auth_token');\r\n                if (!token) {\r\n                    console.log('Нет токена, редирект на /register');\r\n                    navigate('/register');\r\n                    return;\r\n                }\r\n\r\n                console.log('1. Запрашиваем данные пользователя через /users');\r\n\r\n                // Получаем данные текущего пользователя\r\n                const userResponse = await ApiService.request('/users');\r\n                console.log('Ответ пользователя:', userResponse);\r\n\r\n                // Обрабатываем данные пользователя\r\n                let userData = null;\r\n\r\n                if (userResponse && userResponse.id) {\r\n                    // Формат: {id: 123, name: \"Имя\", email: \"...\", ...}\r\n                    userData = userResponse;\r\n                } else if (userResponse && userResponse.data && userResponse.data.id) {\r\n                    // Формат: {data: {id: 123, name: \"Имя\", ...}}\r\n                    userData = userResponse.data;\r\n                }\r\n\r\n                if (!userData || !userData.id) {\r\n                    console.error('Не удалось получить данные пользователя');\r\n                    throw new Error('Не удалось получить данные пользователя');\r\n                }\r\n\r\n                console.log('Данные пользователя получены:', userData);\r\n\r\n                // Сохраняем ID пользователя в localStorage\r\n                localStorage.setItem('user_id', userData.id.toString());\r\n                localStorage.setItem('user_data', JSON.stringify(userData));\r\n\r\n                // Расчет дней с регистрации\r\n                if (userData.registrationDate) {\r\n                    const regDate = new Date(userData.registrationDate);\r\n                    const today = new Date();\r\n                    const diffTime = Math.abs(today - regDate);\r\n                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n                    userData.daysSinceRegistration = diffDays;\r\n                }\r\n\r\n                // Устанавливаем данные пользователя\r\n                setUserData(userData);\r\n                setContactData({\r\n                    phone: userData.phone || '',\r\n                    email: userData.email || ''\r\n                });\r\n\r\n                console.log('2. Запрашиваем объявления пользователя через /users/orders');\r\n\r\n                // Получаем объявления пользователя\r\n                const adsResponse = await ApiService.getCurrentUserOrders();\r\n                console.log('Ответ объявлений:', adsResponse);\r\n\r\n                // Обработка объявлений\r\n                if (adsResponse && adsResponse.data && adsResponse.data.orders) {\r\n                    console.log('Объявлений получено:', adsResponse.data.orders.length);\r\n                    const adsWithStatusText = adsResponse.data.orders.map(ad => ({\r\n                        ...ad,\r\n                        statusText: getStatusText(ad.status),\r\n                        image: ad.photo || ad.photos || placeholderImage\r\n                    }));\r\n                    setUserAds(adsWithStatusText);\r\n                } else if (adsResponse && Array.isArray(adsResponse)) {\r\n                    console.log('Объявлений получено (прямой массив):', adsResponse.length);\r\n                    const adsWithStatusText = adsResponse.map(ad => ({\r\n                        ...ad,\r\n                        statusText: getStatusText(ad.status),\r\n                        image: ad.photo || ad.photos || placeholderImage\r\n                    }));\r\n                    setUserAds(adsWithStatusText);\r\n                } else {\r\n                    console.log('Нет объявлений у пользователя');\r\n                    setUserAds([]);\r\n                }\r\n\r\n                console.log('=== ЗАГРУЗКА ПРОФИЛЯ ЗАВЕРШЕНА ===');\r\n\r\n            } catch (error) {\r\n                console.error('Ошибка загрузки профиля:', error);\r\n\r\n                if (error.status === 401) {\r\n                    console.log('Ошибка 401 - неавторизован, очищаем токен');\r\n                    ApiService.clearToken();\r\n                    navigate('/register');\r\n                } else if (error.status === 404) {\r\n                    console.log('Ошибка 404 - пользователь не найден');\r\n                    setError('Пользователь не найден');\r\n                } else {\r\n                    setError('Ошибка при загрузке данных профиля: ' + (error.message || 'Неизвестная ошибка'));\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        loadProfileData();\r\n    }, [navigate]);\r\n\r\n    const getStatusText = (status) => {\r\n        switch (status) {\r\n            case 'active': return 'Активное';\r\n            case 'wasFound': return 'Хозяин найден';\r\n            case 'onModeration': return 'На модерации';\r\n            case 'archive': return 'В архиве';\r\n            default: return status;\r\n        }\r\n    };\r\n\r\n    const getStatusClass = (status) => {\r\n        switch (status) {\r\n            case 'active': return 'badge-status-active';\r\n            case 'wasFound': return 'badge-status-wasFound';\r\n            case 'onModeration': return 'badge-status-onModeration';\r\n            case 'archive': return 'badge-status-archive';\r\n            default: return '';\r\n        }\r\n    };\r\n\r\n    const getStatusStyle = (status) => {\r\n        switch (status) {\r\n            case 'active':\r\n                return { backgroundColor: '#rgb(221, 116, 169)', color: 'white' };\r\n            case 'wasFound':\r\n                return { backgroundColor: '#17a2b8', color: 'white' };\r\n            case 'onModeration':\r\n                return { backgroundColor: '#ffc107', color: 'black' };\r\n            case 'archive':\r\n                return { backgroundColor: '#6c757d', color: 'white' };\r\n            default:\r\n                return {};\r\n        }\r\n    };\r\n\r\n    // Функция для валидации email\r\n    const validateEmail = (email) => {\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return emailRegex.test(email);\r\n    };\r\n\r\n    // Функция для валидации телефона\r\n    const validatePhone = (phone) => {\r\n        // Удаляем все нецифровые символы\r\n        const cleanPhone = phone.replace(/\\D/g, '');\r\n        return cleanPhone.length >= 10;\r\n    };\r\n\r\n    // Обработка изменения контактных данных\r\n    const handleContactChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setContactData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n\r\n        // Очищаем ошибки для этого поля\r\n        if (editErrors[name]) {\r\n            setEditErrors(prev => ({\r\n                ...prev,\r\n                [name]: ''\r\n            }));\r\n        }\r\n    };\r\n\r\n    // Отмена редактирования контактов\r\n    const handleCancelContacts = () => {\r\n        setContactData({\r\n            phone: userData?.phone || '',\r\n            email: userData?.email || ''\r\n        });\r\n        setEditErrors({});\r\n        setIsEditingContacts(false);\r\n    };\r\n\r\n    // Сохранение контактных данных\r\n    const handleContactSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        setEditErrors({});\r\n        setIsSavingContacts(true);\r\n\r\n        // Валидация на клиенте\r\n        const errors = {};\r\n\r\n        if (contactData.email && !validateEmail(contactData.email)) {\r\n            errors.email = 'Введите корректный адрес электронной почты';\r\n        }\r\n\r\n        if (contactData.phone && !validatePhone(contactData.phone)) {\r\n            errors.phone = 'Номер телефона должен содержать не менее 10 цифр';\r\n        }\r\n\r\n        if (Object.keys(errors).length > 0) {\r\n            setEditErrors(errors);\r\n            setIsSavingContacts(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const userId = localStorage.getItem('user_id');\r\n            if (!userId) {\r\n                throw new Error('Пользователь не авторизован');\r\n            }\r\n\r\n            let hasChanges = false;\r\n\r\n            // Обновляем телефон, если он изменился\r\n            if (contactData.phone !== userData?.phone) {\r\n                await ApiService.updatePhone(userId, contactData.phone);\r\n                hasChanges = true;\r\n            }\r\n\r\n            // Обновляем email, если он изменился\r\n            if (contactData.email !== userData?.email) {\r\n                await ApiService.updateEmail(userId, contactData.email);\r\n                hasChanges = true;\r\n            }\r\n\r\n            if (hasChanges) {\r\n                // Обновляем локальные данные\r\n                setUserData(prev => ({\r\n                    ...prev,\r\n                    phone: contactData.phone,\r\n                    email: contactData.email\r\n                }));\r\n\r\n                setSuccessMessage('Контактные данные успешно обновлены');\r\n                setIsEditingContacts(false);\r\n            } else {\r\n                setSuccessMessage('Изменений не обнаружено');\r\n            }\r\n\r\n            setTimeout(() => setSuccessMessage(''), 3000);\r\n\r\n        } catch (error) {\r\n            console.error('Ошибка при обновлении контактов:', error);\r\n\r\n            if (error.status === 422 || error.status === 400) {\r\n                setEditErrors(error.data?.error?.errors || {});\r\n            } else if (error.status === 409) {\r\n                setEditErrors({ email: 'Этот email уже используется другим пользователем' });\r\n            } else {\r\n                setError('Ошибка при обновлении контактных данных: ' + (error.data?.error?.message || 'Неизвестная ошибка'));\r\n                setTimeout(() => setError(null), 3000);\r\n            }\r\n        } finally {\r\n            setIsSavingContacts(false);\r\n        }\r\n    };\r\n\r\n    // Обработка изменения полей пароля\r\n    const handlePasswordChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPasswordData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n\r\n        // Очищаем ошибки для этого поля\r\n        if (passwordErrors[name]) {\r\n            setPasswordErrors(prev => ({\r\n                ...prev,\r\n                [name]: ''\r\n            }));\r\n        }\r\n    };\r\n\r\n    // Отмена смены пароля\r\n    const handleCancelPassword = () => {\r\n        setPasswordData({\r\n            currentPassword: '',\r\n            newPassword: '',\r\n            confirmPassword: ''\r\n        });\r\n        setPasswordErrors({});\r\n        setIsChangingPassword(false);\r\n    };\r\n\r\n    // Сохранение нового пароля\r\n    const handlePasswordSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        setPasswordErrors({});\r\n        setIsSavingPassword(true);\r\n\r\n        const { currentPassword, newPassword, confirmPassword } = passwordData;\r\n\r\n        // Валидация на клиенте\r\n        const errors = {};\r\n        const passwordRegex = /^(?=.d)(?=.*[a-z])(?=.*[A-Z]).{7,}$/;\r\n\r\n        if (!currentPassword) {\r\n            errors.currentPassword = 'Введите текущий пароль';\r\n        }\r\n\r\n        if (!newPassword) {\r\n            errors.newPassword = 'Введите новый пароль';\r\n        } else if (!passwordRegex.test(newPassword)) {\r\n            errors.newPassword = 'Пароль должен содержать минимум 7 символов, 1 цифру, 1 строчную и 1 заглавную букву';\r\n        }\r\n\r\n        if (!confirmPassword) {\r\n            errors.confirmPassword = 'Подтвердите новый пароль';\r\n        } else if (newPassword !== confirmPassword) {\r\n            errors.confirmPassword = 'Пароли не совпадают';\r\n        }\r\n\r\n        if (Object.keys(errors).length > 0) {\r\n            setPasswordErrors(errors);\r\n            setIsSavingPassword(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const userId = localStorage.getItem('user_id');\r\n            if (!userId) {\r\n                throw new Error('Пользователь не авторизован');\r\n            }\r\n\r\n            await ApiService.updatePassword(userId, {\r\n                currentPassword,\r\n                newPassword,\r\n                confirmPassword\r\n            });\r\n\r\n            setSuccessMessage('Пароль успешно изменен');\r\n            setPasswordData({\r\n                currentPassword: '',\r\n                newPassword: '',\r\n                confirmPassword: ''\r\n            });\r\n            setIsChangingPassword(false);\r\n\r\n            setTimeout(() => setSuccessMessage(''), 3000);\r\n\r\n        } catch (error) {\r\n            console.error('Ошибка при смене пароля:', error);\r\n\r\n            if (error.status === 401 || error.status === 422 || error.status === 400) {\r\n                setPasswordErrors(error.data?.error?.errors || {});\r\n            } else {\r\n                setError('Ошибка при смене пароля: ' + (error.data?.error?.message || 'Неизвестная ошибка'));\r\n                setTimeout(() => setError(null), 3000);\r\n            }\r\n        } finally {\r\n            setIsSavingPassword(false);\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        console.log('Выход из профиля');\r\n        ApiService.clearToken();\r\n        navigate('/');\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div>\r\n                <Header isAuthenticated={false} />\r\n                <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border\" role=\"status\" style={{\r\n                        width: '3rem',\r\n                        height: '3rem',\r\n                        color: 'rgb(91, 160, 74)'\r\n                    }}>\r\n                        <span className=\"visually-hidden\">Загрузка...</span>\r\n                    </div>\r\n                    <p className=\"mt-2\">Загрузка профиля...</p>\r\n                    <p className=\"text-muted small\">Проверяем авторизацию...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!userData) {\r\n        return (\r\n            <div>\r\n                <Header isAuthenticated={false} />\r\n                <div className=\"container py-5\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">\r\n                        Не удалось загрузить данные профиля\r\n                    </div>\r\n                    <div className=\"text-center mt-3\">\r\n                        <button\r\n                            className=\"btn btn-primary button-css\"\r\n                            onClick={() => navigate('/register')}\r\n                        >\r\n                            Вернуться на страницу входа\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header isAuthenticated={true} userName={userData.name} />\r\n            <div className='container'>\r\n                {successMessage && (\r\n                    <div className=\"alert-fixed-top\">\r\n                        <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                            {successMessage}\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn-close\"\r\n                                onClick={() => setSuccessMessage('')}\r\n                            ></button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <div className=\"container\">\r\n                    <div className=\"row align-items-center\">\r\n                        <div className=\"col\">\r\n                            <br />\r\n                            <br />\r\n                            <Text value=\"Мой кабинет\" />\r\n                            <br />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Основной контейнер с двумя колонками */}\r\n                <div className=\"profile-main-container\">\r\n                    <div className=\"row\">\r\n                        {/* Левая колонка - ProfileStats */}\r\n                        <div className=\"col-12 col-lg-3\">\r\n                            <div className=\"profile-stats-wrapper\">\r\n                                <div className=\"card profile-stats-card\" style={{\r\n                                    backgroundColor: 'rgb(211, 110, 135)',\r\n                                    color: 'white',\r\n                                    minHeight: '250px',\r\n                                    height: '250px',\r\n                                    width: '100%',\r\n                                    maxWidth: '320px',\r\n                                    margin: '0 auto'\r\n                                }}>\r\n                                    <ProfileStats\r\n                                        userName={userData.name}\r\n                                        daysCount={userData.daysSinceRegistration || 0}\r\n                                        adsCount={userData.ordersCount || userAds.length}\r\n                                        petsCount={userData.petsCount || 0}\r\n                                        dateR={userData.registrationDate}\r\n                                        email={userData.email || 0}\r\n                                        phone={userData.phone}\r\n                                    />\r\n                                </div>\r\n                                <br />\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Правая колонка - UserAds и Настройки */}\r\n                        <div className=\"col-12 col-lg-9\">\r\n                            <div className=\"user-ads-wrapper\">\r\n                                <div className=\"card h-100 user-ads-card\" style={{\r\n                                    backgroundColor: 'rgb(211, 110, 135)',\r\n                                    minHeight: '280px'\r\n                                }}>\r\n                                    <div className=\"card-body d-flex flex-column\" style={{ width: '100%' }}>\r\n\r\n                                        {/* АДАПТИВНЫЙ КОНТЕЙНЕР ДЛЯ КНОПОК */}\r\n                                        <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 mt-2 gap-3 gap-md-0\">\r\n\r\n                                            {/* Кнопки вкладок */}\r\n                                            <ul className=\"nav nav-pills flex-column flex-sm-row\" id=\"profileTabs\" role=\"tablist\">\r\n                                                <li className=\"nav-item\" role=\"presentation\">\r\n                                                    <button\r\n                                                        className={`nav-link ${activeTab === 'ads' ? 'active' : ''}`}\r\n                                                        onClick={() => setActiveTab('ads')}\r\n                                                        style={activeTab === 'ads' ? primaryButtonStyle : {\r\n                                                            color: 'rgba(34, 67, 26, 1)',\r\n                                                            backgroundColor: 'transparent',\r\n                                                            borderColor: 'transparent'\r\n                                                        }}\r\n                                                    >\r\n                                                        Мои объявления\r\n                                                    </button>\r\n                                                </li>\r\n                                                <li className=\"nav-item\" role=\"presentation\">\r\n                                                    <button\r\n                                                        className={`nav-link ${activeTab === 'settings' ? 'active' : ''}`}\r\n                                                        onClick={() => setActiveTab('settings')}\r\n                                                        style={activeTab === 'settings' ? primaryButtonStyle : {\r\n                                                            color: 'rgba(34, 67, 26, 1)',\r\n                                                            backgroundColor: 'transparent',\r\n                                                            borderColor: 'transparent'\r\n                                                        }}\r\n                                                    >\r\n                                                        Настройки\r\n                                                    </button>\r\n                                                </li>\r\n                                            </ul>\r\n\r\n                                            {/* Кнопка \"Добавить объявление\" */}\r\n                                            <a\r\n                                                href=\"/add\"\r\n                                                className=\"btn button-css add-ad-btn\"\r\n                                                style={{\r\n                                                    border: '2px solid white',\r\n                                                    color: 'white',\r\n                                                    width: '100%',\r\n                                                    maxWidth: '250px'\r\n                                                }}\r\n                                            >\r\n                                                + Добавить объявление\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        <div className=\"tab-content flex-grow-1\">\r\n                                            <div className={`tab-pane fade ${activeTab === 'ads' ? 'show active' : ''}`}>\r\n                                                <UserAds\r\n                                                    ads={userAds}\r\n                                                    onAdUpdate={handleAdUpdate}\r\n                                                    onAdDelete={handleAdDelete}\r\n                                                    getStatusClass={getStatusClass}\r\n                                                    getStatusStyle={getStatusStyle}\r\n                                                />\r\n                                                <br />\r\n                                            </div>\r\n\r\n                                            <div className={`tab-pane fade ${activeTab === 'settings' ? 'show active' : ''}`}>\r\n                                                <section id=\"settings\" role=\"tabpanel\">\r\n                                                    <div className=\"card mb-4\">\r\n                                                        <div className=\"card-body\">\r\n                                                            <form onSubmit={handleContactSubmit}>\r\n                                                                <div className=\"mb-3\">\r\n                                                                    <label htmlFor=\"phone\" className=\"form-label\">Телефон</label>\r\n                                                                    <input\r\n                                                                        type=\"tel\"\r\n                                                                        className={`form-control ${editErrors.phone ? 'is-invalid' : ''}`}\r\n                                                                        id=\"phone\"\r\n                                                                        name=\"phone\"\r\n                                                                        value={contactData.phone}\r\n                                                                        onChange={handleContactChange}\r\n                                                                        required\r\n                                                                        disabled={!isEditingContacts}\r\n                                                                    />\r\n                                                                    {editErrors.phone && (\r\n                                                                        <div className=\"invalid-feedback\">\r\n                                                                            {editErrors.phone}\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n\r\n                                                                <div className=\"mb-4\">\r\n                                                                    <label htmlFor=\"email\" className=\"form-label\">Электронная почта</label>\r\n                                                                    <input\r\n                                                                        type=\"email\"\r\n                                                                        className={`form-control ${editErrors.email ? 'is-invalid' : ''}`}\r\n                                                                        id=\"email\"\r\n                                                                        name=\"email\"\r\n                                                                        value={contactData.email}\r\n                                                                        onChange={handleContactChange}\r\n                                                                        required\r\n                                                                        disabled={!isEditingContacts}\r\n                                                                    />\r\n                                                                    {editErrors.email && (\r\n                                                                        <div className=\"invalid-feedback\">\r\n                                                                            {editErrors.email}\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </div>\r\n\r\n                                                                {!isEditingContacts && (\r\n                                                                    <button\r\n                                                                        type=\"button\"\r\n                                                                        className=\"btn btn-primary button-css\"\r\n                                                                        onClick={() => setIsEditingContacts(true)}\r\n                                                                        style={{\r\n                                                                            backgroundColor: 'rgb(91, 160, 74)',\r\n                                                                            borderColor: 'rgb(91, 160, 74)',\r\n                                                                            color: 'white'\r\n                                                                        }}\r\n                                                                        onMouseEnter={(e) => {\r\n                                                                            e.target.style.backgroundColor = 'rgb(81, 140, 64)';\r\n                                                                            e.target.style.borderColor = 'rgb(81, 140, 64)';\r\n                                                                        }}\r\n                                                                        onMouseLeave={(e) => {\r\n                                                                            e.target.style.backgroundColor = 'rgb(91, 160, 74)';\r\n                                                                            e.target.style.borderColor = 'rgb(91, 160, 74)';\r\n                                                                        }}\r\n                                                                    >\r\n                                                                        Изменить\r\n                                                                    </button>\r\n                                                                )}\r\n\r\n                                                                {isEditingContacts && (\r\n                                                                    <div className=\"d-flex gap-2\">\r\n                                                                        <button\r\n                                                                            type=\"submit\"\r\n                                                                            className=\"btn btn-primary button-css\"\r\n                                                                            disabled={isSavingContacts}\r\n                                                                            style={{\r\n                                                                                backgroundColor: 'rgb(91, 160, 74)',\r\n                                                                                borderColor: 'rgb(91, 160, 74)',\r\n                                                                                color: 'white'\r\n                                                                            }}\r\n                                                                            onMouseEnter={(e) => {\r\n                                                                                e.target.style.backgroundColor = 'rgb(81, 140, 64)';\r\n                                                                                e.target.style.borderColor = 'rgb(81, 140, 64)';\r\n                                                                            }}\r\n                                                                            onMouseLeave={(e) => {\r\n                                                                                e.target.style.backgroundColor = 'rgb(91, 160, 74)';\r\n                                                                                e.target.style.borderColor = 'rgb(91, 160, 74)';\r\n                                                                            }}\r\n                                                                        >\r\n                                                                            {isSavingContacts ? (\r\n                                                                                <>\r\n                                                                                    <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                                                                    Сохранение...\r\n                                                                                </>\r\n                                                                            ) : 'Сохранить изменения'}\r\n                                                                        </button>\r\n                                                                        <button\r\n                                                                            type=\"button\"\r\n                                                                            className=\"btn btn-outline-secondary\"\r\n                                                                            onClick={handleCancelContacts}\r\n                                                                            disabled={isSavingContacts}\r\n                                                                        >\r\n                                                                            Отмена\r\n                                                                        </button>\r\n                                                                    </div>\r\n                                                                )}\r\n                                                            </form>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </section>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {error && (\r\n                    <div className=\"alert-fixed-top\">\r\n                        <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                            {error}\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn-close\"\r\n                                onClick={() => setError(null)}\r\n                            ></button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <br />\r\n                <br />\r\n            </div>\r\n            <Footer />\r\n            <LogoutModal onLogout={handleLogout} />\r\n            <AuthRequiredModal />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}